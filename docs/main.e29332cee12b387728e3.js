(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.0","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return ko}),n.d(e,"b",function(){return Xa}),n.d(e,"c",function(){return Ka}),n.d(e,"d",function(){return $a}),n.d(e,"e",function(){return Wa}),n.d(e,"f",function(){return zu}),n.d(e,"g",function(){return Pu}),n.d(e,"h",function(){return fo}),n.d(e,"i",function(){return lu}),n.d(e,"j",function(){return ks}),n.d(e,"k",function(){return nu}),n.d(e,"l",function(){return Ns}),n.d(e,"m",function(){return jn}),n.d(e,"n",function(){return Aa}),n.d(e,"o",function(){return tt}),n.d(e,"p",function(){return y}),n.d(e,"q",function(){return X}),n.d(e,"r",function(){return jo}),n.d(e,"s",function(){return Js}),n.d(e,"t",function(){return Zs}),n.d(e,"u",function(){return eu}),n.d(e,"v",function(){return gt}),n.d(e,"w",function(){return Ru}),n.d(e,"x",function(){return pt}),n.d(e,"y",function(){return Su}),n.d(e,"z",function(){return du}),n.d(e,"A",function(){return b}),n.d(e,"B",function(){return Za}),n.d(e,"C",function(){return Ja}),n.d(e,"D",function(){return Vs}),n.d(e,"E",function(){return Ds}),n.d(e,"F",function(){return Rs}),n.d(e,"G",function(){return Ms}),n.d(e,"H",function(){return yr}),n.d(e,"I",function(){return _}),n.d(e,"J",function(){return Mu}),n.d(e,"K",function(){return na}),n.d(e,"L",function(){return _u}),n.d(e,"M",function(){return go}),n.d(e,"N",function(){return Fs}),n.d(e,"O",function(){return Us}),n.d(e,"P",function(){return ia}),n.d(e,"Q",function(){return It}),n.d(e,"R",function(){return Au}),n.d(e,"S",function(){return Kn}),n.d(e,"T",function(){return M}),n.d(e,"U",function(){return Wn}),n.d(e,"V",function(){return qu}),n.d(e,"W",function(){return Iu}),n.d(e,"X",function(){return tu}),n.d(e,"Y",function(){return mo}),n.d(e,"Z",function(){return wa}),n.d(e,"ab",function(){return mr}),n.d(e,"bb",function(){return Xn}),n.d(e,"cb",function(){return Mn}),n.d(e,"db",function(){return Fn}),n.d(e,"eb",function(){return Bn}),n.d(e,"fb",function(){return Hn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return zn}),n.d(e,"ib",function(){return ma}),n.d(e,"jb",function(){return Fu}),n.d(e,"kb",function(){return va}),n.d(e,"lb",function(){return ya}),n.d(e,"mb",function(){return Un}),n.d(e,"nb",function(){return G}),n.d(e,"ob",function(){return Ro}),n.d(e,"pb",function(){return Qo}),n.d(e,"qb",function(){return Ko}),n.d(e,"rb",function(){return ga}),n.d(e,"sb",function(){return ne}),n.d(e,"tb",function(){return R}),n.d(e,"ub",function(){return Ln}),n.d(e,"vb",function(){return ms}),n.d(e,"wb",function(){return Yt}),n.d(e,"xb",function(){return Ss}),n.d(e,"yb",function(){return Ur}),n.d(e,"zb",function(){return Mo}),n.d(e,"Ab",function(){return is}),n.d(e,"Bb",function(){return Ha}),n.d(e,"Cb",function(){return St}),n.d(e,"Db",function(){return Rt}),n.d(e,"Eb",function(){return C}),n.d(e,"Fb",function(){return x}),n.d(e,"Gb",function(){return Nt}),n.d(e,"Hb",function(){return Vt}),n.d(e,"Ib",function(){return Fo}),n.d(e,"Jb",function(){return $o}),n.d(e,"Kb",function(){return Go}),n.d(e,"Lb",function(){return Bo}),n.d(e,"Mb",function(){return Wo}),n.d(e,"Nb",function(){return xn}),n.d(e,"Ob",function(){return ps}),n.d(e,"Pb",function(){return lt}),n.d(e,"Qb",function(){return qo}),n.d(e,"Rb",function(){return Ga}),n.d(e,"Sb",function(){return Yo}),n.d(e,"Tb",function(){return za}),n.d(e,"Ub",function(){return Xo}),n.d(e,"Vb",function(){return Ho}),n.d(e,"Wb",function(){return Sa}),n.d(e,"Xb",function(){return qa}),n.d(e,"Yb",function(){return we}),n.d(e,"Zb",function(){return br}),n.d(e,"ac",function(){return Pt}),n.d(e,"bc",function(){return rs}),n.d(e,"cc",function(){return Uo}),n.d(e,"dc",function(){return ls}),n.d(e,"ec",function(){return hs}),n.d(e,"fc",function(){return ds});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const m="__parameters__";function v(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(m)?t[m]:Object.defineProperty(t,m,{value:[]})[m];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=v("Inject",t=>({token:t})),b=v("Optional"),w=v("Self"),_=v("SkipSelf");var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function I(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return S(t,t[j])||S(t,t[P])}function S(t,e){return e&&e.token===t?e:null}function A(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(D))?t[k]:null}const j=E({"\u0275prov":E}),k=E({"\u0275inj":E}),N=E({"\u0275provFallback":E}),P=E({ngInjectableDef:E}),D=E({ngInjectorDef:E});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function V(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=E({__forward_ref__:E});function M(t){return t.__forward_ref__=M,t.toString=function(){return R(this())},t}function U(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===M}const q="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,G=q||B||H||z,$=E({"\u0275cmp":E}),W=E({"\u0275dir":E}),K=E({"\u0275pipe":E}),Q=E({"\u0275mod":E}),Y=E({"\u0275loc":E}),J=E({"\u0275fac":E}),Z=E({__NG_ELEMENT_ID__:E});class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tt=new X("INJECTOR",-1),et={},nt=/\n/gm,rt="__source",it=E({provide:String,useValue:E});let ot,st=void 0;function at(t){const e=st;return st=t,e}function ut(t){const e=ot;return ot=t,e}function ct(t,e=O.Default){if(void 0===st)throw new Error("inject() must be called from an injection context");return null===st?ht(t,void 0,e):st.get(t,e&O.Optional?null:void 0,e)}function lt(t,e=O.Default){return(ot||ct)(U(t),e)}function ht(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${R(t)}]`)}function ft(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=O.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=O.SkipSelf:i instanceof w||"Self"===i.ngMetadataName||i===w?n|=O.Self:t=i instanceof y||i===y?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class dt{get(t,e=et){if(e===et){const e=new Error(`NullInjectorError: No provider for ${R(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function mt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),mt(r,e)):e!==t&&e.push(r)}return e}function vt(t,e){t.forEach(t=>Array.isArray(t)?vt(t,e):e(t))}function yt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wt(t,e,n){let r=Ot(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _t(t,e){const n=Ot(t,e);if(n>=0)return t[1|n]}function Ot(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Et=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),It=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Ct={},xt=[];let Tt=0;function St(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,id:"c",styles:t.styles||xt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Tt++,n.inputs=Dt(t.inputs,e),n.outputs=Dt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(At):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(jt):null,n})}function At(t){return Lt(t)||function(t){return t[W]||null}(t)}function jt(t){return function(t){return t[K]||null}(t)}const kt={};function Nt(t){const e={type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{kt[t.id]=t.type}),e}function Pt(t,e){return g(()=>{const n=Ut(t,!0);n.declarations=e.declarations||xt,n.imports=e.imports||xt,n.exports=e.exports||xt})}function Dt(t,e){if(null==t)return Ct;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Rt=St;function Vt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[$]||null}function Mt(t,e){return t.hasOwnProperty(J)?t[J]:null}function Ut(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${R(t)} does not have '\u0275mod' property.`);return n}const Ft=20,qt=10;function Ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function zt(t){return Array.isArray(t)&&!0===t[1]}function Bt(t){return 0!=(8&t.flags)}function Gt(t){return 2==(2&t.flags)}function $t(t){return 1==(1&t.flags)}function Wt(t){return null!==t.template}function Kt(t){return 0!=(512&t[2])}class Qt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Yt(){return Jt}function Jt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xt),Zt}function Zt(){const t=te(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ct)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Xt(t,e,n,r){const i=te(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Qt(u&&u.currentValue,e,s===Ct),t[r]=e}function te(t){return t.__ngSimpleChanges__||null}Yt.ngInherit=!0;let ee=void 0;function ne(t){ee=t}function re(t){return!!t.listen}const ie={createRenderer:(t,e)=>void 0!==ee?ee:"undefined"!=typeof document?document:void 0};function oe(t){for(;Array.isArray(t);)t=t[0];return t}function se(t,e){return oe(e[t+Ft])}function ae(t,e){return oe(e[t.index])}function ue(t,e){return t.data[e+Ft]}function ce(t,e){const n=e[t];return Ht(n)?n:n[0]}function le(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function he(t){return 4==(4&t[2])}function fe(t){return 128==(128&t[2])}function de(t,e){return null===t||null==e?null:t[e]}function pe(t){t[18]=0}function ge(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const me={lFrame:Re(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ve(){return me.bindingsEnabled}function ye(){return me.lFrame.lView}function be(){return me.lFrame.tView}function we(t){me.lFrame.contextLView=t}function _e(){return me.lFrame.previousOrParentTNode}function Oe(t,e){me.lFrame.previousOrParentTNode=t,me.lFrame.isParent=e}function Ee(){return me.lFrame.isParent}function Ie(){return me.checkNoChangesMode}function Ce(t){me.checkNoChangesMode=t}function xe(){return me.lFrame.bindingIndex++}function Te(t){const e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Se(t,e){const n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ae(e)}function Ae(t){me.lFrame.currentDirectiveIndex=t}function je(){return me.lFrame.currentQueryIndex}function ke(t){me.lFrame.currentQueryIndex=t}function Ne(t,e){const n=De();me.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Pe(t,e){const n=De(),r=t[1];me.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function De(){const t=me.lFrame,e=null===t?null:t.child;return null===e?Re(t):e}function Re(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ve(){const t=me.lFrame;return me.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Le=Ve;function Me(){const t=Ve();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ue(){return me.lFrame.selectedIndex}function Fe(t){me.lFrame.selectedIndex=t}function qe(){const t=me.lFrame;return ue(t.tView,t.selectedIndex)}function He(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ze(t,e,n){$e(t,e,3,n)}function Be(t,e,n,r){(3&t[2])===n&&$e(t,e,n,r)}function Ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function $e(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(We(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function We(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Qe(t,e,n){const r=re(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Je(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ye(t){return 3===t||4===t||6===t}function Je(t){return 64===t.charCodeAt(0)}function Ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Xe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function tn(t){return-1!==t}function en(t){return 32767&t}function nn(t){return t>>16}function rn(t,e){let n=nn(t),r=e;for(;n>0;)r=r[15],n--;return r}function on(t){return"string"==typeof t?t:null==t?"":""+t}function sn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():on(t)}const an=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function un(t){return t instanceof Function?t():t}let cn=!0;function ln(t){const e=cn;return cn=t,e}let hn=0;function fn(t,e){const n=pn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,dn(r.data,t),dn(e,null),dn(r.blueprint,null));const i=gn(t,e),o=t.injectorIndex;if(tn(i)){const t=en(i),n=rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function dn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function gn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function mn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=hn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function vn(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ne(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;throw new Error(`No provider for ${sn(n)}!`)}finally{Le()}}else if("number"==typeof i){if(-1===i)return new In(t,e);let o=null,s=pn(t,e),a=-1,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?gn(t,e):e[s+8],En(r,!1)?(o=e[1],s=en(a),e=rn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(On(i,s,t.data)){const t=bn(s,e,n,o,r,u);if(t!==yn)return t}En(r,e[1].data[s+8]===u)&&On(i,s,e)?(o=t,s=en(a),e=rn(a,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=ut(void 0);try{return t?t.get(n,i,r&O.Optional):ht(n,i,r&O.Optional)}finally{ut(o)}}if(r&O.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${sn(n)}]`)}const yn={};function bn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=wn(a,s,n,null==r?Gt(a)&&cn:r!=s&&3===a.type,i&O.Host&&o===a);return null!==u?_n(e,s,u,a):yn}function wn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Wt(t)&&t.type===n)return u}return null}function _n(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ke){const s=i;if(s.resolving)throw new Error("Circular dep for "+sn(o[n]));const a=ln(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=ut(s.injectImpl)),Ne(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Jt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&ut(u),ln(a),s.resolving=!1,Le()}}return i}function On(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function En(t,e){return!(t&O.Self||t&O.Host&&e)}class In{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return vn(this._tNode,this._lView,t,void 0,e)}}function Cn(t){const e=t;if(F(t))return()=>{const t=Cn(U(e));return t?t():null};let n=Mt(e);if(null===n){const t=A(e);n=t&&t.factory}return n||null}function xn(t){return g(()=>{const e=t.prototype.constructor,n=e[J]||Cn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||Cn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Tn(t){return t.ngDebugContext}function Sn(t){return t.ngOriginalError}function An(t,...e){t.error(...e)}class jn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||An}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Tn(t)?Tn(t):this._findContext(Sn(t)):null}_findOriginalError(t){let e=Sn(t);for(;e&&Sn(e);)e=Sn(e);return e}}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Nn extends kn{getTypeName(){return"HTML"}}class Pn extends kn{getTypeName(){return"Style"}}class Dn extends kn{getTypeName(){return"Script"}}class Rn extends kn{getTypeName(){return"URL"}}class Vn extends kn{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof kn&&t.getTypeName()||null}function Fn(t){return new Nn(t)}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}function Bn(t){return new Vn(t)}let Gn=!0,$n=!1;function Wn(){return $n=!0,Gn}function Kn(){if($n)throw new Error("Cannot enable prod mode after platform setup.");Gn=!1}class Qn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Jn)||t.match(Zn)?t:(Wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ar[o]&&(s=Xn(s)),ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function mr(t,e){let n=null;try{gr=gr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Qn:new Yn(t)}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);const s=new hr,a=s.sanitizeChildren(vr(n)||n);return Wn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=ye();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Mn(t,"URL")?Ln(t):Xn(on(t))}function wr(t,e){t.__ngContext__=e}function _r(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Or(){throw new Error("Cannot mix multi providers and regular providers")}function Er(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Ir="ng-template";function Cr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Er(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function xr(t){return 0===t.type&&t.tagName!==Ir}function Tr(t,e,n){return e===(0!==t.type||n?t.tagName:Ir)}function Sr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ye(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Tr(t,u,n)||""===u&&1===e.length){if(Ar(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Cr(t.attrs,c,n)){if(Ar(r))return!1;s=!0}continue}const l=jr(8&r?"class":u,i,xr(t),n);if(-1===l){if(Ar(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Er(e,c,0)||2&r&&c!==t){if(Ar(r))return!1;s=!0}}}}else{if(!s&&!Ar(r)&&!Ar(u))return!1;if(s&&Ar(u))continue;s=!1,r=u|1&r}}return Ar(r)||s}function Ar(t){return 0==(1&t)}function jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function kr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Sr(t,e[r],n))return!0;return!1}function Nr(t,e){return t?":not("+e.trim()+")":e}function Pr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ar(s)||(e+=Nr(o,i),i=""),r=s,o=o||!Ar(r);n++}return""!==i&&(e+=Nr(o,i)),e}const Dr={};function Rr(t){const e=t[3];return zt(e)?e[3]:e}function Vr(t){return Mr(t[13])}function Lr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!zt(t);)t=t[4];return t}function Ur(t){Fr(be(),ye(),Ue()+t,Ie())}function Fr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ze(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Be(e,r,0,n)}Fe(n)}function qr(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function zr(t){return 2|t}function Br(t){return(131068&t)>>2}function Gr(t,e){return-131069&t|e<<2}function $r(t){return 1|t}function Wr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ke(i),n.contentQueries(2,e[o],o)}}}function Kr(t,e,n){return re(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Qr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,pe(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Yr(t,e,n,r,i,o){const s=n+Ft,a=t.data[s]||function(t,e,n,r,i,o){const s=_e(),a=Ee(),u=a?s:s&&s.parent,c=t.data[n]=si(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return Oe(a,!0),a}function Jr(t,e,n){Pe(e,e[6]);try{const r=t.viewQuery;null!==r&&Ai(1,r,n);const i=t.template;null!==i&&ti(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wr(t,e),t.staticViewQueries&&Ai(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ii(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Me()}}function Zr(t,e,n,r){const i=e[2];if(256==(256&i))return;Pe(e,e[6]);const o=Ie();try{pe(e),me.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ti(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ze(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Be(e,n,0,null),Ge(e,0)}if(function(t){for(let e=Vr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ge(r,1),n[2]|=1024}}}(e),function(t){for(let e=Vr(t);null!==e;e=Lr(e))for(let t=qt;t<e.length;t++){const n=e[t],r=n[1];fe(n)&&Zr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Wr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ze(e,n)}else{const n=t.contentHooks;null!==n&&Be(e,n,1),Ge(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Fe(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Se(r,i),s(2,e[i])),i++)}}}finally{Fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Oi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ai(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ze(e,n)}else{const n=t.viewHooks;null!==n&&Be(e,n,2),Ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ge(e[3],-1))}finally{Me()}}function Xr(t,e,n,r){const i=e[10],o=!Ie(),s=he(e);try{o&&!s&&i.begin&&i.begin(),s&&Jr(t,e,r),Zr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ti(t,e,n,r,i){const o=Ue();try{Fe(-1),2&r&&e.length>Ft&&Fr(t,e,0,Ie()),n(r,i)}finally{Fe(o)}}function ei(t,e,n){ve()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||fn(n,e),wr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Wt(r);o&&yi(e,n,r);const u=_n(e,t,a,n);wr(u,e),null!==s&&bi(0,a-i,u,r,0,s),o&&(ce(n.index,e)[8]=u)}}(t,e,n,ae(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Ft,u=me.lFrame.currentDirectiveIndex;try{Fe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ae(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?fi(r,i):s&&o.push(null)}}finally{Fe(-1),Ae(u)}}(t,e,n))}function ni(t,e,n=ae){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ri(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ii(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ii(t,e,n,r,i,o,s,a,u,c){const l=Ft+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function oi(t,e,n,r){const i=ki(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function si(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ai(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ui(t,e,n,r,i,o,s,a){const u=ae(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Pi(t,n,c,r,i),Gt(e)&&function(t,e){const n=ce(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,re(o)?o.setProperty(u,r,i):Je(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ci(t,e,n,r){let i=!1;if(ve()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];kr(n,s.selectors,!1)&&(i||(i=[]),mn(fn(n,e),t,s.type),Wt(s)?(2&n.flags&&_r(n),pi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,mi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}di(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ze(n.mergedAttrs,c.hostAttrs),vi(t,e,c),gi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ft),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ft),u=!0),li(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||xr(e)?null:wi(n,i);o.push(c),s=ai(n,u,s),a=ai(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),hi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ze(n.mergedAttrs,n.attrs),i}function li(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function hi(t,e,n){for(let r=0;r<n;r++)e.push(Dr),t.blueprint.push(Dr),t.data.push(null)}function fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function di(t,e,n){const r=Ft-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function pi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wt(e)&&(n[""]=t)}}function mi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Mt(n.type)),i=new Ke(r,Wt(n),null);t.blueprint.push(i),e.push(i)}function yi(t,e,n){const r=ae(e,t),i=ri(n),o=t[10],s=Ci(t,Qr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function bi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function wi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function _i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Oi(t,e){const n=ce(e,t);if(fe(n)){const t=n[1];80&n[2]?Zr(t,n,t.template,n[8]):n[5]>0&&Ei(n)}}function Ei(t){for(let n=Vr(t);null!==n;n=Lr(n))for(let t=qt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Zr(t,e,t.template,e[8])}else e[5]>0&&Ei(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ce(e[n],t);fe(r)&&r[5]>0&&Ei(r)}}function Ii(t,e){const n=ce(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Jr(r,n,n[8])}function Ci(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;const e=Rr(t);if(Kt(t)&&!e)return t;t=e}return null}function Ti(t,e,n){const r=e[10];r.begin&&r.begin();try{Zr(t,e,t.template,n)}catch(i){throw Ni(e,i),i}finally{r.end&&r.end()}}function Si(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=le(n),i=r[1];Xr(i,r,i.template,n)}}(t[8])}function Ai(t,e,n){ke(0),e(t,n)}const ji=(()=>Promise.resolve(null))();function ki(t){return t[7]||(t[7]=[])}function Ni(t,e){const n=t[9],r=n?n.get(jn,null):null;r&&r.handleError(e)}function Pi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Di(t,e,n){const r=se(e,t),i=t[11];re(i)?i.setValue(r,n):r.textContent=n}function Ri(t,e){const n=e[3];return-1===t.index?zt(n)?n:null:n}function Vi(t,e){const n=Ri(t,e);return n?Wi(e[11],n[7]):null}function Li(t,e,n,r,i){if(null!=r){let o,s=!1;zt(r)?o=r:Ht(r)&&(s=!0,r=r[0]);const a=oe(r);0===t&&null!==n?null==i?Gi(e,n,a):Bi(e,n,a,i||null):1===t&&null!==n?Bi(e,n,a,i||null):2===t?function(t,e,n){const r=Wi(t,e);r&&function(t,e,n,r){re(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==oe(n)&&Li(e,t,r,o,i);for(let s=qt;s<n.length;s++){const i=n[s];Zi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Mi(t,e,n,r){const i=Vi(t.node,e);i&&Zi(t,e,e[11],n?1:2,i,r)}function Ui(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ge(e[3],-1),n.splice(r,1)}function Fi(t,e){if(t.length<=qt)return;const n=qt+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ui(i,r),e>0&&(t[n-1][4]=r[4]);const o=bt(t,qt+e);Mi(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function qi(t,e){if(!(256&e[2])){const n=e[11];re(n)&&n.destroyNode&&Zi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zi(t[1],t);for(;e;){let n=null;if(Ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ht(e)&&zi(e[1],e),e=Hi(e,t);null===e&&(e=t),Ht(e)&&zi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Hi(t,e){let n;return Ht(t)&&(n=t[6])&&2===n.type?Ri(n,t):t[3]===e?null:t[3]}function zi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):oe(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&re(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&zt(e[3])){r!==e[3]&&Ui(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Bi(t,e,n,r){re(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Gi(t,e,n){re(t)?t.appendChild(e,n):e.appendChild(n)}function $i(t,e,n,r){null!==r?Bi(t,e,n,r):Gi(t,e,n)}function Wi(t,e){return re(t)?t.parentNode(e):e.parentNode}function Ki(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Vi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return ae(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==It.ShadowDom&&n!==It.Native)return null}return ae(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=Ri(t,e);return null===n?null:Yi(n.indexOf(e,qt)-qt,n)}return 4===t.type||5===t.type?ae(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)$i(t,i,n[e],o);else $i(t,i,n,o)}}function Qi(t,e){if(null!==e){const n=e.type;if(3===n)return ae(e,t);if(0===n)return Yi(-1,t[e.index]);if(4===n||5===n){const n=e.child;if(null!==n)return Qi(t,n);{const n=t[e.index];return zt(n)?Yi(-1,n):oe(n)}}{const n=t[16],r=n[6],i=Rr(n),o=r.projection[e.projection];return null!=o?Qi(i,o):Qi(t,e.next)}}return null}function Yi(t,e){const n=qt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Qi(t,r)}return e[7]}function Ji(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&wr(oe(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Ji(t,e,n.child,r,i,o,!1),Li(e,t,i,a,o)):1===u?Xi(t,e,r,n,i,o):Li(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Zi(t,e,n,r,i,o){Ji(n,r,t.node.child,e,i,o,!1)}function Xi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Li(e,t,i,a[u],o);else Ji(t,e,a,s[3],i,o,!0)}function to(t,e,n){re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function eo(t,e,n){re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class no{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?io(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}qi(this._lView[1],this._lView)}onDestroy(t){oi(this._lView[1],this._lView,null,t)}markForCheck(){xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ti(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ce(!0);try{Ti(t,e,n)}finally{Ce(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Zi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ro extends no{constructor(t){super(t),this._view=t}detectChanges(){Si(this._view)}checkNoChanges(){!function(t){Ce(!0);try{Si(t)}finally{Ce(!1)}}(this._view)}get context(){return null}}function io(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(oe(o)),zt(o))for(let t=qt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&io(e[1],e,n,r)}const s=n.type;if(4===s||5===s)io(t,e,n.child,r);else if(1===s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Rr(t);io(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}let oo,so,ao;function uo(t,e,n){return oo||(oo=class extends t{}),new oo(ae(e,n))}function co(t,e,n,r){return so||(so=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Jr(e,n,t),new no(n)}}),0===n.type?new so(r,n,uo(e,n,r)):null}function lo(t,e,n,r){let i;ao||(ao=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return uo(e,this._hostTNode,this._hostView)}get injector(){return new In(this._hostTNode,this._hostView)}get parentInjector(){const t=gn(this._hostTNode,this._hostView),e=rn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=nn(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return tn(t)&&null!=n?new In(n,e):new In(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),zt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ao(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=qt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-qt?(e[4]=n[i],yt(n,qt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Mi(r,n,!0,Yi(i,this._lContainer)),t.attachToViewContainerRef(this),yt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);n&&(bt(this._lContainer[8],e),qi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);return n&&null!=bt(this._lContainer[8],e)?new no(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(zt(o))i=o;else{let t;if(4===n.type)t=oe(o);else if(t=r[11].createComment(""),Kt(r)){const e=r[11],i=ae(n,r);Bi(e,Wi(e,i),t,function(t,e){return re(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ki(r[1],r,t,n);r[n.index]=i=_i(o,r,t,n),Ci(r,i)}return new ao(i,n,r)}function ho(t=!1){return function(t,e,n){if(!n&&Gt(t)){const n=ce(t.index,e);return new no(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new no(e[16],e):null}(_e(),ye(),t)}let fo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>po(),t})();const po=ho,go=Function,mo=new X("Set Injector scope."),vo={},yo={},bo=[];let wo=void 0;function _o(){return void 0===wo&&(wo=new dt),wo}function Oo(t,e=null,n=null,r){return new Eo(t,n,e||_o(),r)}class Eo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&vt(e,n=>this.processProvider(n,t,e)),vt([t],t=>this.processInjectorType(t,[],i)),this.records.set(tt,xo(void 0,this));const o=this.records.get(mo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:R(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=et,n=O.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof X)&&T(t);e=n&&this.injectableDefInScope(n)?xo(Io(t),vo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?_o():this.parent).get(t,e=n&O.Optional&&e===et?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(R(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rt]&&i.unshift(e[rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):R(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(R(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=U(t)))return!1;let r=A(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{vt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];vt(r,t=>this.processProvider(t,n,r||bo))}}this.injectorDefTypes.add(o),this.records.set(o,xo(r.factory,vo));const a=r.providers;if(null!=a&&!s){const e=t;vt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=So(t=U(t))?t:U(t&&t.provide);const i=function(t,e,n){return To(t)?xo(void 0,t.useValue):xo(Co(t,e,n),vo)}(t,e,n);if(So(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Or()}else{let e=this.records.get(r);e?void 0===e.multi&&Or():(e=xo(void 0,vo,!0),e.factory=()=>ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===yo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(R(t)):e.value===vo&&(e.value=yo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Io(t){const e=T(t),n=null!==e?e.factory:Mt(t);if(null!==n)return n;const r=A(t);if(null!==r)return r.factory;if(t instanceof X)throw new Error(`Token ${R(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${R(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[j]||t[P]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Co(t,e,n){let r=void 0;if(So(t)){const e=U(t);return Mt(e)||Io(e)}if(To(t))r=()=>U(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(U(t.useExisting));else{const i=U(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${R(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Mt(i)||Io(i);r=()=>new i(...ft(t.deps))}var i;return r}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function To(t){return null!==t&&"object"==typeof t&&it in t}function So(t){return"function"==typeof t}const Ao=function(t,e,n){return function(t,e=null,n=null,r){const i=Oo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let jo=(()=>{class t{static create(t,e){return Array.isArray(t)?Ao(t,e,""):Ao(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=et,t.NULL=new dt,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>lt(tt)}),t.__NG_ELEMENT_ID__=-1,t})();const ko=new X("AnalyzeForEntryComponents");function No(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=V(i,t):2==o&&(r=V(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Po=null;function Do(){if(!Po){const t=G.Symbol;if(t&&t.iterator)Po=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Po=n)}}}return Po}function Ro(t){return!!Vo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Do()in t)}function Vo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,r){const i=ye();return Lo(i,xe(),e)&&(be(),function(t,e,n,r,i,o){const s=ae(t,e),a=e[11];if(null==r)re(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?on(r):i(r,t.tagName||"",n);re(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(qe(),i,t,e,n,r)),Mo}function Uo(t,e,n,r,i,o,s,a){const u=ye(),c=be(),l=t+Ft,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Yr(e,n[6],t,0,s||null,de(c,a));ci(e,n,l,de(c,u)),He(e,l);const h=l.tViews=ii(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=si(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Oe(h,!1);const f=u[11].createComment("");Ki(c,u,f,h),wr(f,u),Ci(u,u[l]=_i(f,u,f,h)),$t(h)&&ei(c,u,h),null!=s&&ni(u,h,a)}function Fo(t,e=O.Default){const n=ye();return null==n?lt(t,e):vn(_e(),n,U(t),e)}function qo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ye(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(_e(),t)}function Ho(t,e,n){const r=ye();return Lo(r,xe(),e)&&ui(be(),qe(),r,t,e,r[11],n,!1),Ho}function zo(t,e,n,r,i){const o=i?"class":"style";Pi(t,n,e.inputs[o],o,r)}function Bo(t,e,n,r){const i=ye(),o=be(),s=Ft+t,a=i[11],u=i[s]=Kr(e,a,me.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=de(a,o),c=Yr(e,n[6],t,3,i,u);return ci(e,n,c,de(a,s)),null!==c.attrs&&No(c,c.attrs,!1),null!==c.mergedAttrs&&No(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];Oe(c,!0);const l=c.mergedAttrs;null!==l&&Qe(a,u,l);const h=c.classes;null!==h&&eo(a,u,h);const f=c.styles;null!==f&&to(a,u,f),Ki(o,i,u,c),0===me.lFrame.elementDepthCount&&wr(u,i),me.lFrame.elementDepthCount++,$t(c)&&(ei(o,i,c),function(t,e,n){if(Bt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ni(i,c)}function Go(){let t=_e();Ee()?me.lFrame.isParent=!1:(t=t.parent,Oe(t,!1));const e=t;me.lFrame.elementDepthCount--;const n=be();n.firstCreatePass&&(He(n,t),Bt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zo(n,e,ye(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zo(n,e,ye(),e.stylesWithoutHost,!1)}function $o(t,e,n,r){Bo(t,e,n,r),Go()}function Wo(){return ye()}function Ko(t){return!!t&&"function"==typeof t.then}function Qo(t){return!!t&&"function"==typeof t.subscribe}function Yo(t,e,n=!1,r){const i=ye(),o=be(),s=_e();return function(t,e,n,r,i,o,s=!1,a){const u=$t(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ki(e);let h=!0;if(3===r.type){const f=ae(r,e),d=a?a(f):Ct,p=d.target||f,g=l.length,m=a?t=>a(oe(t[r.index])).target:r.index;if(re(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Zo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Zo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Yo}function Jo(t,e,n){try{return!1!==e(n)}catch(r){return Ni(t,r),!1}}function Zo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ce(t.index,e):e;0==(32&e[2])&&xi(s);let a=Jo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Jo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Xo(t=1){return function(t){return(me.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,me.lFrame.contextLView))[8]}(t)}const ts=[];function es(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Hr(o):Br(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ns(t[a],e)&&(u=!0,t[a+1]=r?$r(n):zr(n)),a=r?Hr(n):Br(n)}u&&(t[n+1]=r?zr(o):$r(o))}function ns(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ot(t,e)>=0}function rs(t,e,n){return os(t,e,n,!1),rs}function is(t,e){return os(t,e,null,!0),is}function os(t,e,n,r){const i=ye(),o=be(),s=Te(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ue()+Ft],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=me.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=as(n=ss(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ss(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Br(r))return t[Hr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ss(null,t,e,n[1],r),n=as(n,e.attrs,r),function(t,e,n,r){t[Hr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=as(r,t[o].hostAttrs,n);return as(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Hr(s),u=Br(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Ot(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Hr(t[a+1]);t[r+1]=qr(e,a),0!==e&&(t[e+1]=Gr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=qr(a,0),0!==a&&(t[a+1]=Gr(t[a+1],r)),a=r;else t[r+1]=qr(u,0),0===a?a=r:t[u+1]=Gr(t[u+1],r),u=r;l&&(t[r+1]=zr(t[r+1])),es(t,c,r,!0),es(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ot(o,e)>=0&&(n[r+1]=$r(n[r+1]))}(e,c,t,r,o),s=qr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Dr&&Lo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];cs(1==(1&c)?us(u,e,n,i,Br(c),s):void 0)||(cs(o)||function(t){return 2==(2&t)}(c)&&(o=us(u,null,n,i,a,s)),function(t,e,n,r,i){const o=re(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,se(Ue(),n),i,o))}(o,o.data[Ue()+Ft],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=R(Ln(t)))),t}(e,n),r,s)}function ss(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=as(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function as(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wt(t,s,!!n||e[++o]))}return void 0===t?null:t}function us(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Dr&&(l=c?ts:void 0);let h=c?_t(l,r):u===r?l:void 0;if(o&&!cs(h)&&(h=_t(e,r)),cs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Hr(f):Br(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=_t(t,r))}return a}function cs(t){return void 0!==t}function ls(t,e=""){const n=ye(),r=be(),i=t+Ft,o=r.firstCreatePass?Yr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return re(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ki(r,n,s,o),Oe(o,!1)}function hs(t){return fs("",t,""),hs}function fs(t,e,n){const r=ye(),i=function(t,e,n,r){return Lo(t,xe(),n)?e+on(n)+r:Dr}(r,t,e,n);return i!==Dr&&Di(r,Ue(),i),fs}function ds(t,e,n,r,i){const o=ye(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=Lo(t,e,n);return Lo(t,e+1,r)||i}(t,me.lFrame.bindingIndex,n,i);return Te(2),s?e+on(n)+r+on(i)+o:Dr}(o,t,e,n,r,i);return s!==Dr&&Di(o,Ue(),s),ds}function ps(t,e,n){const r=ye();return Lo(r,xe(),e)&&ui(be(),qe(),r,t,e,r[11],n,!0),ps}function gs(t,e){const n=le(t)[1],r=n.data.length-1;He(n,{directiveStart:r,directiveEnd:r+1})}function ms(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Wt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=vs(t.inputs),e.declaredInputs=vs(t.declaredInputs),e.outputs=vs(t.outputs);const n=i.hostBindings;n&&ws(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ys(t,o),s&&bs(t,s),I(t.inputs,i.inputs),I(t.declaredInputs,i.declaredInputs),I(t.outputs,i.outputs),Wt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ms&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ze(i.hostAttrs,n=Ze(n,i.hostAttrs))}}(r)}function vs(t){return t===Ct?{}:t===xt?[]:t}function ys(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function bs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ws(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function _s(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let o=0;o<t.length;o++)_s(t[o],e,n,r,i);else{const o=be(),s=ye();let a=So(t)?t:U(t.provide),u=Co(t);const c=_e(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(So(t)||!t.multi){const r=new Ke(u,i,Fo),d=Is(a,e,i?l:l+f,h);-1===d?(mn(fn(c,s),o,a),Os(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Is(a,e,l+f,h),p=Is(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){mn(fn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ke(t,n,Fo);return o.multi=[],o.index=e,o.componentProviders=0,Es(o,i,r&&!n),o}(i?xs:Cs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Os(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Os(o,t,d>-1?d:p,Es(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Os(t,e,n,r){const i=So(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Es(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Is(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Cs(t,e,n,r){return Ts(this.multi,[])}function xs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=_n(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ts(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ts(i,o);return o}function Ts(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ss(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=be();if(r.firstCreatePass){const i=Wt(t);_s(n,r.data,r.blueprint,i,!0),_s(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class As{}class js{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${R(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ks=(()=>{class t{}return t.NULL=new js,t})(),Ns=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ps(t),t})();const Ps=function(t){return uo(t,_e(),ye())};class Ds{}var Rs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ls(),t})();const Ls=function(){const t=ye(),e=ce(_e().index,t);return function(t){const e=t[11];if(re(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ht(e)?e:t)};let Ms=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class Us{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Fs=new Us("10.0.14");class qs{constructor(){}supports(t){return Ro(t)}create(t){return new zs(t)}}const Hs=(t,e)=>e;class zs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ws(n,r,i)?e:n,s=Ws(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ro(t))throw new Error(`Error trying to diff '${R(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Do()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Bs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $s),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $s),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Bs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class $s{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Gs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ws(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ks{constructor(){}supports(t){return t instanceof Map||Vo(t)}create(){return new Qs}}class Qs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Vo(t)))throw new Error(`Error trying to diff '${R(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ys(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ys{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Js=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new qs])}),t})(),Zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new Ks])}),t})();const Xs=[new Ks],ta=new Js([new qs]),ea=new Zs(Xs);let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ra(t,Ns),t})();const ra=function(t,e){return co(t,e,_e(),ye())};let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oa(t,Ns),t})();const oa=function(t,e){return lo(t,e,_e(),ye())},sa={};class aa extends ks{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Lt(t);return new la(e,this.ngModule)}}function ua(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ca=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>an});class la extends As{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Pr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ua(this.componentDef.inputs)}get outputs(){return ua(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,sa,i);return o!==sa||r===sa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ds,ie),s=i.get(Ms,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(re(t))return t.selectRootElement(e,n===It.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Kr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:an,clean:ji,playerHandler:null,flags:0},f=ii(0,-1,null,1,0,null,null,null,null,null),d=Qr(null,f,h,l,null,null,o,a,s,i);let p,g;Pe(d,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Yr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(No(a,u,!0),null!==t&&(Qe(i,t,u),null!==a.classes&&eo(i,t,a.classes),null!==a.styles&&to(i,t,a.styles)));const c=r.createRenderer(t,e),l=Qr(n,ri(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(mn(fn(a,n),s,e.type),pi(s,a),mi(a,n.length,1)),Ci(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Qe(a,c,["ng-version",Fs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ar(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Qe(a,c,t),e&&e.length>0&&eo(a,c,e.join(" "))}if(g=ue(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=_e();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),di(t,r,1),vi(t,e,n));const i=_n(e,t,e.length-1,r);wr(i,e);const o=ae(r,e);return o&&wr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=_e();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Fe(a.index-Ft);const t=n[1];li(t,e),hi(t,n,e.hostVars),fi(e,s)}return s}(t,this.componentDef,d,h,[gs]),Jr(f,d,null)}finally{Me()}const m=new ha(this.componentType,p,uo(Ns,g,d),d,g);return f.node.child=g,m}}class ha extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ro(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=si(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const fa=void 0;var da=["en",[["a","p"],["AM","PM"],fa],[["AM","PM"],fa,fa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fa,"{1} 'at' {0}",fa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let pa={};function ga(t,e,n){"string"!=typeof e&&(n=e,e=t[wa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),pa[e]=t,n&&(pa[e][wa.ExtraData]=n)}function ma(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ba(e);if(n)return n;const r=e.split("-")[0];if(n=ba(r),n)return n;if("en"===r)return da;throw new Error(`Missing locale data for the locale "${t}".`)}function va(t){return ma(t)[wa.CurrencyCode]||null}function ya(t){return ma(t)[wa.PluralCase]}function ba(t){return t in pa||(pa[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),pa[t]}var wa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _a="en-US";let Oa=_a;function Ea(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Oa=t.toLowerCase().replace(/_/g,"-"))}const Ia=new Map;function Ca(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${R(e)} vs ${R(e.name)}`)})(e,Ia.get(e),t),Ia.set(e,t)}let e=t.\u0275mod.imports;e instanceof Function&&(e=e()),e&&e.forEach(t=>Ca(t))}class xa extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new aa(this);const n=Ut(t),r=t[Y]||null;r&&Ea(r),this._bootstrapComponents=un(n.bootstrap),this._r3Injector=Oo(t,e,[{provide:pt,useValue:this},{provide:ks,useValue:this.componentFactoryResolver}],R(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=jo.THROW_IF_NOT_FOUND,n=O.Default){return t===jo||t===pt||t===tt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ta extends gt{constructor(t){super(),this.moduleType=t,null!==Ut(t)&&Ca(t)}create(t){return new xa(this.moduleType,t)}}function Sa(t,e,n){const r=function(){const t=me.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=ye();return i[r]===Dr?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}const Aa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function ja(){return this._results[Do()]()}class ka{constructor(){this.dirty=!0,this._results=[],this.changes=new Aa,this.length=0;const t=Do(),e=ka.prototype;e[t]||(e[t]=ja)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=mt(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Na{constructor(t){this.queryList=t,this.matches=null}clone(){return new Na(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Pa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ba(t,e).matches&&this.queries[e].setDirty()}}class Da{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ra{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ra(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Va{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Va(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,La(e,i)),this.matchTNodeWithReadOption(t,e,wn(e,t,i,!1,!1))}else n===na?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,wn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ns||r===ia||r===na&&0===e.type)this.addMatch(e.index,-2);else{const n=wn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function La(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ma(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?uo(Ns,t,e):0===t.type?co(na,Ns,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ns?uo(Ns,e,t):n===na?co(na,Ns,e,t):n===ia?lo(ia,Ns,e,t):void 0}(t,e,r):_n(t,t[1],n,e)}function Ua(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ma(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Fa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ua(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=qt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Fa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Fa(n[1],n,i,r)}}}}}return r}function qa(t){const e=ye(),n=be(),r=je();ke(r+1);const i=Ba(n,r);if(t.dirty&&he(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Fa(n,e,r,[]):Ua(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ha(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ra),t.queries.track(new Va(e,n))}(t,new Da(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new ka;oi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Pa),e[19].queries.push(new Na(n))}(t,e)}(be(),ye(),e,n,r,0,_e(),t)}function za(){return t=ye(),e=je(),t[19].queries[e].queryList;var t,e}function Ba(t,e){return t.queries.getByIndex(e)}function Ga(t=O.Default){const e=ho(!0);if(null!=e||t&O.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const $a=new X("Application Initializer");let Wa=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ko(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt($a,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Ka=new X("AppId"),Qa={provide:Ka,useFactory:function(){return`${Ya()}${Ya()}${Ya()}`},deps:[]};function Ya(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ja=new X("Platform Initializer"),Za=new X("Platform ID"),Xa=new X("appBootstrapListener");let tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const eu=new X("LocaleId"),nu=new X("DefaultCurrencyCode");class ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const iu=function(t){return new Ta(t)},ou=iu,su=function(t){return Promise.resolve(iu(t))},au=function(t){const e=iu(t),n=un(Ut(t).declarations).reduce((t,e)=>{const n=Lt(e);return n&&t.push(new la(n)),t},[]);return new ru(e,n)},uu=au,cu=function(t){return Promise.resolve(au(t))};let lu=(()=>{class t{constructor(){this.compileModuleSync=ou,this.compileModuleAsync=su,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const hu=(()=>Promise.resolve(0))();function fu(t){"undefined"==typeof Zone?hu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class du{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Aa(!1),this.onMicrotaskEmpty=new Aa(!1),this.onStable=new Aa(!1),this.onError=new Aa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vu(t),mu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return yu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),bu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return yu(t),e.invoke(r,i,o,s,a)}finally{bu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vu(t),mu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,gu,pu,pu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function pu(){}const gu={};function mu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function yu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bu(t){t._nesting--,mu(t)}class wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Aa,this.onMicrotaskEmpty=new Aa,this.onStable=new Aa,this.onError=new Aa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _u=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(du))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),Ou=(()=>{class t{constructor(){this._applications=new Map,xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();class Eu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Iu(t){xu=t}let Cu,xu=new Eu;const Tu=new X("AllowMultipleToken");class Su{constructor(t,e){this.name=t,this.token=e}}function Au(t,e,n=[]){const r="Platform: "+e,i=new X(r);return(e=[])=>{let o=ju();if(!o||o.injector.get(Tu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:mo,useValue:"platform"});!function(t){if(Cu&&!Cu.destroyed&&!Cu.injector.get(Tu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cu=t.get(ku);const e=t.get(Ja,null);e&&e.forEach(t=>t())}(jo.create({providers:t,name:r}))}return function(t){const e=ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ju(){return Cu&&!Cu.destroyed?Cu:null}let ku=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wu:("zone.js"===t?void 0:t)||new du({enableLongStackTrace:Wn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:du,useValue:n}];return n.run(()=>{const e=jo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(jn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Du(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ko(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Wa);return t.runInitializers(),t.donePromise.then(()=>(Ea(i.injector.get(eu,_a)||_a),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Nu({},e);return function(t,e,n){const r=new Ta(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${R(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(jo))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Nu(t,e){return Array.isArray(e)?e.reduce(Nu,t):Object.assign(Object.assign({},t),e)}let Pu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),fu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof As?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(jo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(_u,null);return o&&i.injector.get(Ou).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Du(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Du(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(du),lt(tu),lt(jo),lt(jn),lt(ks),lt(Wa))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Du(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ru{}class Vu{}const Lu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Mu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Lu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Uu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Uu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(lu),lt(Vu,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Uu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Fu=function(t){return null},qu=Au(null,"core",[{provide:Za,useValue:"unknown"},{provide:ku,deps:[jo]},{provide:Ou,deps:[]},{provide:tu,deps:[]}]),Hu=[{provide:Pu,useClass:Pu,deps:[du,tu,jo,jn,ks,Wa]},{provide:ca,deps:[du],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wa,useClass:Wa,deps:[[new b,$a]]},{provide:lu,useClass:lu,deps:[]},Qa,{provide:Js,useFactory:function(){return ta},deps:[]},{provide:Zs,useFactory:function(){return ea},deps:[]},{provide:eu,useFactory:function(t){return Ea(t=t||"undefined"!=typeof $localize&&$localize.locale||_a),t},deps:[[new y(eu),new b,new _]]},{provide:nu,useValue:"USD"}];let zu=(()=>{class t{constructor(t){}}return t.\u0275mod=Nt({type:t}),t.\u0275inj=x({factory:function(e){return new(e||t)(lt(Pu))},providers:Hu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function y(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[y,u.z,[new u.A,b]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAJEEh21bLj4MOYtMfjc6YgytUfWuk4bIA",authDomain:"test-faa93.firebaseapp.com",databaseURL:"https://test-faa93-default-rtdb.firebaseio.com",projectId:"test-faa93",storageBucket:"test-faa93.appspot.com",messagingSenderId:"946873038262",appId:"1:946873038262:web:1a2171041e65adcc2bfd17"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(v),Object(r.Pb)(u))}function I(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=r.lb;class T{}let S=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let R=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:S}]}),t})();function V(t){return"server"===t}let L=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new M(Object(r.Pb)(a),window,Object(r.Pb)(r.m))}),t})();class M{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class F extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new F,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,H=null;const z=new r.q("TRANSITION_ID"),B=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,a,r.r],multi:!0}];class G{static init(){Object(r.W)(new G)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const $=new r.q("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function X(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function tt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let et=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=X(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(W),r.Pb(Y),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(J[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=J[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=J[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tt(n)):this.eventManager.addEventListener(t,e,tt(n))}}class rt extends nt{constructor(t,e,n,r){super(t),this.component=n;const i=X(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class it extends nt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=X(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lt=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ut.hasOwnProperty(e)&&(e=ut[e]))}return at[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ht=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){F.makeCurrent(),G.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ft=Object(r.R)(r.V,"browser",ht),dt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:$,useClass:ot,multi:!0,deps:[a,r.z,r.B]},{provide:$,useClass:lt,multi:!0,deps:[a]},[],{provide:et,useClass:et,deps:[W,Y,r.c]},{provide:r.E,useExisting:et},{provide:Q,useExisting:Y},{provide:Y,useClass:Y,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:W,useClass:W,deps:[$,r.z]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},B]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:dt,imports:[R,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("HDdC"),mt=n("DH7j"),vt=n("lJxs"),yt=n("XoHu"),bt=n("Cfvw");function wt(t,e){return new gt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(bt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const _t=new r.q("NgValueAccessor"),Ot={provide:_t,useExisting:Object(r.T)(()=>Et),multi:!0};let Et=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Ot])]}),t})();const It={provide:_t,useExisting:Object(r.T)(()=>xt),multi:!0},Ct=new r.q("CompositionEventMode");let xt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Ct,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([It])]}),t})(),Tt=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),St=(()=>{class t extends Tt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return At(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const At=r.Nb(St);function jt(){throw new Error("unimplemented")}class kt extends Tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return jt()}get asyncValidator(){return jt()}}class Nt{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Pt=(()=>{class t extends Nt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(kt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Dt=(()=>{class t extends Nt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(St,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function Rt(t){return null==t||0===t.length}function Vt(t){return null!=t&&"number"==typeof t.length}const Lt=new r.q("NgValidators"),Mt=new r.q("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ft{static min(t){return e=>{if(Rt(e.value)||Rt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Rt(e.value)||Rt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Rt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Rt(t.value)||Ut.test(t.value)?null:{email:!0}}static minLength(t){return e=>Rt(e.value)||!Vt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Vt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ft.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Rt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(qt);return 0==e.length?null:function(t){return zt(Bt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(qt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(mt.a)(e))return wt(e,null);if(Object(yt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return wt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return wt(t=1===t.length&&Object(mt.a)(t[0])?t[0]:t,null).pipe(Object(vt.a)(t=>e(...t)))}return wt(t,null)}(Bt(t,e).map(Ht)).pipe(Object(vt.a)(zt))}}}function qt(t){return null!=t}function Ht(t){const e=Object(r.qb)(t)?Object(bt.a)(t):t;if(!Object(r.pb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function zt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bt(t,e){return e.map(e=>e(t))}function Gt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const $t={provide:_t,useExisting:Object(r.T)(()=>Wt),multi:!0};let Wt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([$t])]}),t})();const Kt={provide:_t,useExisting:Object(r.T)(()=>Yt),multi:!0};let Qt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Yt=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(kt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Qt),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Kt])]}),t})();const Jt={provide:_t,useExisting:Object(r.T)(()=>Zt),multi:!0};let Zt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Jt])]}),t})();const Xt='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',te='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class ee{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Xt)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${te}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Xt)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+te)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const ne={provide:_t,useExisting:Object(r.T)(()=>re),multi:!0};let re=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([ne])]}),t})();const ie={provide:_t,useExisting:Object(r.T)(()=>oe),multi:!0};let oe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([ie])]}),t})();function se(t,e){return[...e.path,t]}function ae(t,e){t||he(e,"Cannot find control with"),e.valueAccessor||he(e,"No value accessor for form control with"),t.validator=Ft.compose([t.validator,e.validator]),t.asyncValidator=Ft.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ue(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ue(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function ue(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ce(t,e){null==t&&he(e,"Cannot find control with"),t.validator=Ft.compose([t.validator,e.validator]),t.asyncValidator=Ft.composeAsync([t.asyncValidator,e.asyncValidator])}function le(t){return he(t,"There is no FormControl instance attached to form control element with")}function he(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function fe(t){return null!=t?Ft.compose(Gt(t)):null}function de(t){return null!=t?Ft.composeAsync(Gt(t)):null}const pe=[Et,Zt,Wt,re,oe,Yt],ge="VALID",me="INVALID",ve="PENDING",ye="DISABLED";function be(t){const e=_e(t)?t.validators:t;return Array.isArray(e)?fe(e):e||null}function we(t,e){const n=_e(e)?e.asyncValidators:t;return Array.isArray(n)?de(n):n||null}function _e(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Oe{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===ge}get invalid(){return this.status===me}get pending(){return this.status==ve}get disabled(){return this.status===ye}get enabled(){return this.status!==ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=be(t)}setAsyncValidators(t){this.asyncValidator=we(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ve,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ye,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ge,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ge&&this.status!==ve||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ye:ge}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ve;const e=Ht(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ie?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ce&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?ye:this.errors?me:this._anyControlsHaveStatus(ve)?ve:this._anyControlsHaveStatus(me)?me:ge}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_e(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ee extends Oe{constructor(t=null,e,n){super(be(e),we(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ie extends Oe{constructor(t,e,n){super(be(e),we(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ee?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ce extends Oe{constructor(t,e,n){super(be(e),we(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ee?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let xe=(()=>{class t extends St{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return se(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return fe(this._validators)}get asyncValidator(){return de(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Te(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Te=r.Nb(xe);let Se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ae=new r.q("NgModelWithFormControlWarning"),je={provide:St,useExisting:Object(r.T)(()=>ke)};let ke=(()=>{class t extends St{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ae(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ce(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ce(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>le(e)),e.valueAccessor.registerOnTouched(()=>le(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ae(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=fe(this._validators);this.form.validator=Ft.compose([this.form.validator,t]);const e=de(this._asyncValidators);this.form.asyncValidator=Ft.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||ee.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Lt,10),r.Ib(Mt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([je]),r.vb,r.wb]}),t})();const Ne={provide:St,useExisting:Object(r.T)(()=>Pe)};let Pe=(()=>{class t extends xe{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Ve(this._parent)&&ee.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(St,13),r.Ib(Lt,10),r.Ib(Mt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.xb([Ne]),r.vb]}),t})();const De={provide:St,useExisting:Object(r.T)(()=>Re)};let Re=(()=>{class t extends St{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return se(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return fe(this._validators)}get asyncValidator(){return de(this._asyncValidators)}_checkParentType(){Ve(this._parent)&&ee.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(St,13),r.Ib(Lt,10),r.Ib(Mt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.xb([De]),r.vb]}),t})();function Ve(t){return!(t instanceof Pe||t instanceof ke||t instanceof Re)}const Le={provide:kt,useExisting:Object(r.T)(()=>Me)};let Me=(()=>{class t extends kt{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||he(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===xt?n=e:(o=e,pe.some(t=>o.constructor===t)?(r&&he(t,"More than one built-in value accessor matches form control with"),r=e):(i&&he(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(he(t,"No valid value accessor for form control with"),null)}(this,i)}set isDisabled(t){ee.disabledAttrWarning()}ngOnChanges(e){var n,i,o;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(n=t,i=this,o=this._ngModelWarningConfig,Object(r.U)()&&"never"!==o&&((null!==o&&"once"!==o||n._ngModelWarningSentOnce)&&("always"!==o||i._ngModelWarningSent)||(ee.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,i._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return se(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return fe(this._rawValidators)}get asyncValidator(){return de(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Pe)&&this._parent instanceof xe?ee.ngModelGroupException():this._parent instanceof Pe||this._parent instanceof ke||this._parent instanceof Re||ee.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(St,13),r.Ib(Lt,10),r.Ib(Mt,10),r.Ib(_t,10),r.Ib(Ae,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([Le]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),Ue=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Fe=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ie(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Ee(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ce(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ee||t instanceof Ie||t instanceof Ce?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),qe=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ae,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Fe,Qt],imports:[Ue]}),t})();var He=n("LRne"),ze=n("XNiG"),Be=n("9ppp");class Ge extends ze.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Be.a;return this._value}next(t){super.next(this._value=t)}}const $e=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var We=n("z+Ro"),Ke=n("l7GE"),Qe=n("ZUHj"),Ye=n("yCtX");const Je={};class Ze{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Xe(t,this.resultSelector))}}class Xe extends Ke.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Je),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Qe.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Je?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var tn=n("EY2u");function en(t){return new gt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(bt.a)(n):Object(tn.b)()).subscribe(e)})}var nn=n("bHdf");function rn(){return Object(nn.a)(1)}var on=n("7o/Q");function sn(t,e){return function(n){return n.lift(new an(t,e))}}class an{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new un(t,this.predicate,this.thisArg))}}class un extends on.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const cn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ln(t){return function(e){return 0===t?Object(tn.b)():e.lift(new hn(t))}}class hn{constructor(t){if(this.total=t,this.total<0)throw new cn}call(t,e){return e.subscribe(new fn(t,this.total))}}class fn extends on.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function dn(t=mn){return e=>e.lift(new pn(t))}class pn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new gn(t,this.errorFactory))}}class gn extends on.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(pw){t=pw}this.destination.error(t)}}}function mn(){return new $e}function vn(t=null){return e=>e.lift(new yn(t))}class yn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new bn(t,this.defaultValue))}}class bn extends on.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var wn=n("SpAZ"),_n=n("51Dv");function On(t){return function(e){const n=new En(t),r=e.lift(n);return n.caught=r}}class En{constructor(t){this.selector=t}call(t,e){return e.subscribe(new In(t,this.selector,this.caught))}}class In extends Ke.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new _n.a(this,void 0,void 0);this.add(r);const i=Object(Qe.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Cn(t){return e=>0===t?Object(tn.b)():e.lift(new xn(t))}class xn{constructor(t){if(this.total=t,this.total<0)throw new cn}call(t,e){return e.subscribe(new Tn(t,this.total))}}class Tn extends on.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Sn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?sn((e,n)=>t(e,n,r)):wn.a,Cn(1),n?vn(e):dn(()=>new $e))}var An=n("5+tZ"),jn=n("vkgz");class kn{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Nn(t,this.predicate,this.thisArg,this.source))}}class Nn extends on.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Pn(t,e){return"function"==typeof e?n=>n.pipe(Pn((n,r)=>Object(bt.a)(t(n,r)).pipe(Object(vt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Dn(t))}class Dn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Rn(t,this.project))}}class Rn extends Ke.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new _n.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Qe.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Vn(...t){return rn()(Object(He.a)(...t))}function Ln(...t){const e=t[t.length-1];return Object(We.a)(e)?(t.pop(),n=>Vn(t,n,e)):e=>Vn(t,e)}function Mn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Un(t,e,n))}}class Un{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Fn(t,this.accumulator,this.seed,this.hasSeed))}}class Fn extends on.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function qn(t,e){return Object(An.a)(t,e,1)}var Hn=n("quSY");class zn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Bn(t,this.callback))}}class Bn extends on.a{constructor(t,e){super(t),this.add(new Hn.a(e))}}class Gn{constructor(t,e){this.id=t,this.url=e}}class $n extends Gn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wn extends Gn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kn extends Gn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qn extends Gn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yn extends Gn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Gn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends Gn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xn extends Gn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends Gn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ur="primary";class cr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lr(t){return new cr(t)}function hr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function fr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dr(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!pr(t[i],e[i]))return!1;return!0}function pr(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function gr(t){return Array.prototype.concat.apply([],t)}function mr(t){return t.length>0?t[t.length-1]:null}function vr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(bt.a)(Promise.resolve(t)):Object(He.a)(t)}function br(t,e,n){return n?function(t,e){return dr(t,e)}(t.queryParams,e.queryParams)&&wr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pr(t[n],e[n]))}(t.queryParams,e.queryParams)&&_r(t.root,e.root)}function wr(t,e){if(!xr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!wr(t.children[n],e.children[n]))return!1}return!0}function _r(t,e){return Or(t,e,e.segments)}function Or(t,e,n){if(t.segments.length>n.length)return!!xr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!xr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!_r(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!xr(t.segments,r)&&!!t.children.primary&&Or(t.children.primary,e,i)}}class Er{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return jr.serialize(this)}}class Ir{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kr(this)}}class Cr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return Mr(this)}}function xr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Tr(t,e){let n=[];return vr(t.children,(t,r)=>{r===ur&&(n=n.concat(e(t,r)))}),vr(t.children,(t,r)=>{r!==ur&&(n=n.concat(e(t,r)))}),n}class Sr{}class Ar{parse(t){const e=new zr(t);return new Er(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Nr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Dr(e)}=${Dr(t)}`).join("&"):`${Dr(e)}=${Dr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const jr=new Ar;function kr(t){return t.segments.map(t=>Mr(t)).join("/")}function Nr(t,e){if(!t.hasChildren())return kr(t);if(e){const e=t.children.primary?Nr(t.children.primary,!1):"",n=[];return vr(t.children,(t,e)=>{e!==ur&&n.push(`${e}:${Nr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Tr(t,(e,n)=>n===ur?[Nr(t.children.primary,!1)]:[`${n}:${Nr(e,!1)}`]);return`${kr(t)}/(${e.join("//")})`}}function Pr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dr(t){return Pr(t).replace(/%3B/gi,";")}function Rr(t){return Pr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vr(t){return decodeURIComponent(t)}function Lr(t){return Vr(t.replace(/\+/g,"%20"))}function Mr(t){return`${Rr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Rr(t)}=${Rr(e[t])}`).join("")}`;var e}const Ur=/^[^\/()?;=#]+/;function Fr(t){const e=t.match(Ur);return e?e[0]:""}const qr=/^[^=?&#]+/,Hr=/^[^?&#]+/;class zr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ir([],{}):new Ir([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ir(t,e)),n}parseSegment(){const t=Fr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Cr(Vr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Fr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Fr(this.remaining);t&&(n=t,this.capture(n))}t[Vr(e)]=Vr(n)}parseQueryParam(t){const e=function(t){const e=t.match(qr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Hr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Lr(e),i=Lr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Fr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ur);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ir([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Br{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Gr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=$r(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return $r(t,this._root).map(t=>t.value)}}function Gr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Gr(t,n);if(e)return e}return null}function $r(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$r(t,n);if(r.length)return r.unshift(e),r}return[]}class Wr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Qr extends Br{constructor(t,e){super(t),this.snapshot=e,ei(this,t)}toString(){return this.snapshot.toString()}}function Yr(t,e){const n=function(t,e){const n=new Xr([],{},{},"",{},ur,e,null,t.root,-1,{});return new ti("",new Wr(n,[]))}(t,e),r=new Ge([new Cr("",{})]),i=new Ge({}),o=new Ge({}),s=new Ge({}),a=new Ge(""),u=new Jr(r,i,s,a,o,ur,e,n.root);return u.snapshot=n.root,new Qr(new Wr(u,[]),n)}class Jr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(vt.a)(t=>lr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(vt.a)(t=>lr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Xr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ti extends Br{constructor(t,e){super(e),this.url=t,ei(this,e)}toString(){return ni(this._root)}}function ei(t,e){e.value._routerState=t,e.children.forEach(e=>ei(t,e))}function ni(t){const e=t.children.length>0?` { ${t.children.map(ni).join(", ")} } `:"";return`${t.value}${e}`}function ri(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ii(t,e){return dr(t.params,e.params)&&function(t,e){return xr(t,e)&&t.every((t,n)=>dr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ii(t.parent,e.parent))}function oi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(r.value.snapshot,e.value))return oi(t,e,r);return oi(t,e)})}(t,e,n);return new Wr(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return si(e,t),t}{const n=new Jr(new Ge((r=e.value).url),new Ge(r.params),new Ge(r.queryParams),new Ge(r.fragment),new Ge(r.data),r.outlet,r.component,r),i=e.children.map(e=>oi(t,e));return new Wr(n,i)}}var r}function si(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)si(t.children[n],e.children[n])}function ai(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ui(t,e,n,r,i){let o={};return r&&vr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Er(n.root===t?e:ci(n.root,t,e),o,i)}function ci(t,e,n){const r={};return vr(t.children,(t,i)=>{r[i]=t===e?n:ci(t,e,n)}),new Ir(t.segments,r)}class li{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ai(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==mr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fi(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function di(t,e,n){if(t||(t=new Ir([],{})),0===t.segments.length&&t.hasChildren())return pi(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=fi(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!yi(s,a,e))return o;r+=2}else{if(!yi(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ir(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ir(t.segments.slice(r.pathIndex),t.children),pi(e,0,i)}return r.match&&0===i.length?new Ir(t.segments,{}):r.match&&!t.hasChildren()?gi(t,e,n):r.match?pi(t,0,i):gi(t,e,n)}function pi(t,e,n){if(0===n.length)return new Ir(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[ur]:t}}(n),i={};return vr(r,(n,r)=>{null!==n&&(i[r]=di(t.children[r],e,n))}),vr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ir(t.segments,i)}}function gi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=mi(n[i].outlets);return new Ir(r,t)}if(0===i&&ai(n[0])){r.push(new Cr(t.segments[e].path,n[0])),i++;continue}const o=fi(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&ai(s)?(r.push(new Cr(o,vi(s))),i+=2):(r.push(new Cr(o,{})),i++)}return new Ir(r,{})}function mi(t){const e={};return vr(t,(t,n)=>{null!==t&&(e[n]=gi(new Ir([],{}),0,t))}),e}function vi(t){const e={};return vr(t,(t,n)=>e[n]=""+t),e}function yi(t,e,n){return t==n.path&&dr(e,n.parameters)}class bi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ri(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Kr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),vr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Kr(t),i=t.value.component?n.children:e;vr(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Kr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new sr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ir(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ri(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),wi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function wi(t){ri(t.value),t.children.forEach(wi)}class _i{constructor(t,e){this.routes=t,this.module=e}}function Oi(t){return"function"==typeof t}function Ei(t){return t instanceof Er}class Ii{constructor(t){this.segmentGroup=t||null}}class Ci{constructor(t){this.urlTree=t}}function xi(t){return new gt.a(e=>e.error(new Ii(t)))}function Ti(t){return new gt.a(e=>e.error(new Ci(t)))}function Si(t){return new gt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ai{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ur).pipe(Object(vt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(On(t=>{if(t instanceof Ci)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ii)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ur).pipe(Object(vt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(On(t=>{if(t instanceof Ii)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ir([],{[ur]:t}):t;return new Er(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(vt.a)(t=>new Ir([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(He.a)({});const n=[],r=[],i={};return vr(t,(t,o)=>{const s=e(o,t).pipe(Object(vt.a)(t=>i[o]=t));o===ur?n.push(s):r.push(s)}),He.a.apply(null,n.concat(r)).pipe(rn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?sn((e,n)=>t(e,n,r)):wn.a,ln(1),n?vn(e):dn(()=>new $e))}(),Object(vt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(He.a)(...n).pipe(Object(vt.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(On(t=>{if(t instanceof Ii)return Object(He.a)(null);throw t}))),rn(),Sn(t=>!!t),On((t,n)=>{if(t instanceof $e||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(He.a)(new Ir([],{}));throw new Ii(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Pi(r)!==o?xi(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ti(i):this.lineralizeSegments(n,i).pipe(Object(An.a)(n=>{const i=new Ir(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ji(e,r,i);if(!s)return xi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ti(l):this.lineralizeSegments(r,l).pipe(Object(An.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(vt.a)(t=>(n._loadedConfig=t,new Ir(r,{})))):Object(He.a)(new Ir(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=ji(e,n,r);if(!i)return xi(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(An.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ni(t,e,n)&&Pi(n)!==ur)}(t,n,r)?{segmentGroup:ki(new Ir(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Pi(r)!==ur&&(n[Pi(r)]=new Ir([],{}));return n}(r,new Ir(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ni(t,e,n))}(t,n,r)?{segmentGroup:ki(new Ir(t.segments,function(t,e,n,r){const i={};for(const o of n)Ni(t,e,o)&&!r[Pi(o)]&&(i[Pi(o)]=new Ir([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(vt.a)(t=>new Ir(o,t))):0===r.length&&0===s.length?Object(He.a)(new Ir(o,{})):this.expandSegment(n,i,r,s,ur,!0).pipe(Object(vt.a)(t=>new Ir(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(He.a)(new _i(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(He.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(An.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(vt.a)(t=>(e._loadedConfig=t,t))):function(t){return new gt.a(e=>e.error(hr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(He.a)(new _i([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(bt.a)(r).pipe(Object(vt.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Oi(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Oi(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return yr(o)})).pipe(rn(),Object(jn.a)(t=>{if(!Ei(t))return;const e=hr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new kn(i,void 0,t)))):Object(He.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(He.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Si(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Er(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return vr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return vr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ir(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ji(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||fr)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ki(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ir(t.segments.concat(e.segments),e.children)}return t}function Ni(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Pi(t){return t.outlet||ur}class Di{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ri{constructor(t,e){this.component=t,this.route=e}}function Vi(t,e,n){const r=t._root;return Mi(r,e?e._root:null,n,[r.value])}function Li(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Mi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Kr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xr(t.url,e.url)||!dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ii(t,e)||!dr(t.queryParams,e.queryParams);case"paramsChange":default:return!ii(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Di(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Mi(t,e,o.component?a?a.children:null:n,r,i),u&&i.canDeactivateChecks.push(new Ri(a&&a.outlet&&a.outlet.component||null,s))}else s&&Ui(e,a,i),i.canActivateChecks.push(new Di(r)),Mi(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),vr(o,(t,e)=>Ui(t,n.getContext(e),i)),i}function Ui(t,e,n){const r=Kr(t),i=t.value;vr(r,(t,r)=>{Ui(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ri(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Fi=Symbol("INITIAL_VALUE");function qi(){return Pn(t=>function(...t){let e=null,n=null;return Object(We.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(mt.a)(t[0])&&(t=t[0]),Object(Ye.a)(t,n).lift(new Ze(e))}(...t.map(t=>t.pipe(Cn(1),Ln(Fi)))).pipe(Mn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Fi)return t;if(r===Fi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ei(r))return r}return t},t)},Fi),sn(t=>t!==Fi),Object(vt.a)(t=>Ei(t)?t:!0===t),Cn(1)))}function Hi(t,e){return null!==t&&e&&e(new or(t)),Object(He.a)(!0)}function zi(t,e){return null!==t&&e&&e(new rr(t)),Object(He.a)(!0)}function Bi(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(He.a)(!0);const i=r.map(r=>en(()=>{const i=Li(r,e,n);let o;if(function(t){return t&&Oi(t.canActivate)}(i))o=yr(i.canActivate(e,t));else{if(!Oi(i))throw new Error("Invalid CanActivate guard");o=yr(i(e,t))}return o.pipe(Sn())}));return Object(He.a)(i).pipe(qi())}function Gi(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>en(()=>{const i=e.guards.map(i=>{const o=Li(i,e.node,n);let s;if(function(t){return t&&Oi(t.canActivateChild)}(o))s=yr(o.canActivateChild(r,t));else{if(!Oi(o))throw new Error("Invalid CanActivateChild guard");s=yr(o(r,t))}return s.pipe(Sn())});return Object(He.a)(i).pipe(qi())}));return Object(He.a)(i).pipe(qi())}class $i{}class Wi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Yi(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ur),n=new Xr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ur,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wr(n,e),i=new ti(this.url,r);return this.inheritParamsAndData(i._root),Object(He.a)(i)}catch(pw){return new gt.a(e=>e.error(pw))}}inheritParamsAndData(t){const e=t.value,n=Zr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Tr(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===ur?-1:e.value.outlet===ur?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(pw){if(!(pw instanceof $i))throw pw}if(this.noLeftoversInUrl(e,n,r))return[];throw new $i}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new $i;if((t.outlet||ur)!==r)throw new $i;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?mr(n).parameters:{};i=new Xr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xi(t),r,t.component,t,Ki(e),Qi(e)+n.length,to(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new $i;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||fr)(n,t,e);if(!r)throw new $i;const i={};vr(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Xr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xi(t),r,t.component,t,Ki(e),Qi(e)+o.length,to(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Yi(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Wr(i,t)]}if(0===a.length&&0===c.length)return[new Wr(i,[])];const l=this.processSegment(a,u,c,ur);return[new Wr(i,l)]}}function Ki(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Yi(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ji(t,e,n)&&Zi(n)!==ur)}(t,n,r)){const i=new Ir(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Zi(o)!==ur){const n=new Ir([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Zi(o)]=n}return i}(t,e,r,new Ir(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ji(t,e,n))}(t,n,r)){const o=new Ir(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ji(t,n,a)&&!i[Zi(a)]){const n=new Ir([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Zi(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ir(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ji(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Zi(t){return t.outlet||ur}function Xi(t){return t.data||{}}function to(t){return t.resolve||{}}function eo(t){return function(e){return e.pipe(Pn(e=>{const n=t(e);return n?Object(bt.a)(n).pipe(Object(vt.a)(()=>e)):Object(bt.a)([e])}))}}class no{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let ro=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Oo]},encapsulation:2}),t})();function io(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];oo(r,so(e,r))}}function oo(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==ur)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&io(t.children,e)}function so(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ao(t){const e=t.children&&t.children.map(ao),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ur&&(n.component=ro),n}const uo=new r.q("ROUTES");class co{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(vt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new _i(gr(r.injector.get(uo)).map(ao),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(bt.a)(this.loader.load(t)):yr(t()).pipe(Object(An.a)(t=>t instanceof r.v?Object(He.a)(t):Object(bt.a)(this.compiler.compileModuleAsync(t))))}}class lo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ho,this.attachRef=null}}class ho{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new lo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function po(t){throw t}function go(t,e,n){return e.parse("/")}function mo(t,e){return Object(He.a)(null)}let vo=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ze.a,this.errorHandler=po,this.malformedUriErrorHandler=go,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mo,afterPreactivation:mo},this.urlHandlingStrategy=new fo,this.routeReuseStrategy=new no,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Er(new Ir([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new co(s,a,t=>this.triggerEvent(new er(t)),t=>this.triggerEvent(new nr(t))),this.routerState=Yr(this.currentUrlTree,this.rootComponentType),this.transitions=new Ge({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(sn(t=>0!==t.id),Object(vt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pn(t=>{let n=!1,r=!1;return Object(He.a)(t).pipe(Object(jn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(He.a)(t).pipe(Pn(t=>{const n=this.transitions.getValue();return e.next(new $n(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?tn.a:[t]}),Pn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Pn(t=>function(t,e,n,r,i){return new Ai(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(vt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(jn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(An.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Wi(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(vt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(jn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(jn.a)(t=>{const n=new Yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new $n(n,this.serializeUrl(r),i,o);e.next(a);const u=Yr(r,this.rootComponentType).snapshot;return Object(He.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),tn.a}),eo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(jn.a)(t=>{const e=new Jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(vt.a)(t=>Object.assign(Object.assign({},t),{guards:Vi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(An.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(He.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(bt.a)(t).pipe(Object(An.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(He.a)(!0);const s=o.map(o=>{const s=Li(o,e,i);let a;if(function(t){return t&&Oi(t.canDeactivate)}(s))a=yr(s.canDeactivate(t,e,n,r));else{if(!Oi(s))throw new Error("Invalid CanDeactivate guard");a=yr(s(t,e,n,r))}return a.pipe(Sn())});return Object(He.a)(s).pipe(qi())}(t.component,t.route,n,e,r)),Sn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(An.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(bt.a)(e).pipe(qn(e=>Object(bt.a)([zi(e.route.parent,r),Hi(e.route,r),Gi(t,e.path,n),Bi(t,e.route,n)]).pipe(rn(),Sn(t=>!0!==t,!0))),Sn(t=>!0!==t,!0))}(r,o,t,e):Object(He.a)(n)),Object(vt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(jn.a)(t=>{if(Ei(t.guardsResult)){const e=hr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(jn.a)(t=>{const e=new Zn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),sn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Kn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),eo(t=>{if(t.guards.canActivateChecks.length)return Object(He.a)(t).pipe(Object(jn.a)(t=>{const e=new Xn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pn(t=>{let n=!1;return Object(He.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(An.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(He.a)(t);let o=0;return Object(bt.a)(n).pipe(qn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(He.a)({});const o={};return Object(bt.a)(i).pipe(Object(An.a)(i=>function(t,e,n,r){const i=Li(t,e,r);return yr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(jn.a)(t=>{o[i]=t}))),ln(1),Object(An.a)(()=>Object.keys(o).length===i.length?Object(He.a)(o):tn.a))}(t._resolve,t,e,r).pipe(Object(vt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Zr(t,n).resolve),null)))}(t.route,e,r,i)),Object(jn.a)(()=>o++),ln(1),Object(An.a)(e=>o===n.length?Object(He.a)(t):tn.a))}))}),Object(jn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Kn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(jn.a)(t=>{const e=new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),eo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(vt.a)(t=>{const e=function(t,e,n){const r=oi(t,e._root,n?n._root:void 0);return new Qr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(jn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(vt.a)(t=>(new bi(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(jn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Kn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new zn(i))),On(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ei(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Kn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Qn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Rh){t.reject(Rh)}}var i;return tn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){io(t),this.config=t.map(ao),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ui(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new li(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return vr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new li(n,e,r)}(n);if(o.toRoot())return ui(e.root,new Ir([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new hi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new hi(t,t===e.root,0)}const r=ai(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new hi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?pi(s.segmentGroup,s.index,o.commands):di(s.segmentGroup,s.index,o.commands);return ui(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ei(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(pw){e=this.malformedUriErrorHandler(pw,this.urlSerializer,t)}return e}isActive(t,e){if(Ei(t))return br(this.currentUrlTree,t,e);const n=this.parseUrl(t);return br(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Wn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Sr),r.Pb(ho),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),yo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new ze.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:wo(this.skipLocationChange),replaceUrl:wo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vo),r.Ib(Jr),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Sb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),bo=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new ze.a,this.subscription=t.events.subscribe(t=>{t instanceof Wn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:wo(this.skipLocationChange),replaceUrl:wo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vo),r.Ib(Jr),r.Ib(v))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)}),2&t&&(r.Ob("href",e.href,r.Zb),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function wo(t){return""===t||!!t}let _o=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Wn&&this.update()})}ngAfterContentInit(){Object(bt.a)([this.links.changes,this.linksWithHrefs.changes,Object(He.a)(null)]).pipe(Object(nn.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(bt.a)(e).pipe(Object(nn.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vo),r.Ib(r.l),r.Ib(r.D),r.Ib(r.h),r.Ib(yo,8),r.Ib(bo,8))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Bb(n,yo,!0),r.Bb(n,bo,!0)),2&t&&(r.Xb(i=r.Tb())&&(e.links=i),r.Xb(i=r.Tb())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),Oo=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||ur,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Eo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ho),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Eo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Jr?this.route:t===ho?this.childContexts:this.parent.get(t,e)}}class Io{}class Co{preload(t,e){return Object(He.a)(null)}}let xo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new co(e,n,e=>t.triggerEvent(new er(e)),e=>t.triggerEvent(new nr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(sn(t=>t instanceof Wn),qn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(bt.a)(n).pipe(Object(nn.a)(),Object(vt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(An.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(vo),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Io))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),To=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ar&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ar(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(vo),r.Pb(L),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const So=new r.q("ROUTER_CONFIGURATION"),Ao=new r.q("ROUTER_FORROOT_GUARD"),jo=[O,{provide:Sr,useClass:Ar},{provide:vo,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new vo(null,t,e,n,r,i,o,gr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Sr,ho,O,r.r,r.w,r.i,uo,So,[class{},new r.A],[class{},new r.A]]},ho,{provide:Jr,useFactory:function(t){return t.routerState.root},deps:[vo]},{provide:r.w,useClass:r.J},xo,Co,class{preload(t,e){return e().pipe(On(()=>Object(He.a)(null)))}},{provide:So,useValue:{enableTracing:!1}}];function ko(){return new r.y("Router",vo)}let No=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[jo,Vo(e),{provide:Ao,useFactory:Ro,deps:[[vo,new r.A,new r.I]]},{provide:So,useValue:n||{}},{provide:v,useFactory:Do,deps:[u,[new r.p(b),new r.A],So]},{provide:To,useFactory:Po,deps:[vo,L,So]},{provide:Io,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Co},{provide:r.y,multi:!0,useFactory:ko},[Lo,{provide:r.d,multi:!0,useFactory:Mo,deps:[Lo]},{provide:Fo,useFactory:Uo,deps:[Lo]},{provide:r.b,multi:!0,useExisting:Fo}]]}}static forChild(e){return{ngModule:t,providers:[Vo(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Ao,8),r.Pb(vo,8))}}),t})();function Po(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new To(t,e,n)}function Do(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Ro(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:uo,multi:!0,useValue:t}]}let Lo=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ze.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vo),r=this.injector.get(So);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(He.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(So),n=this.injector.get(xo),i=this.injector.get(To),o=this.injector.get(vo),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function Mo(t){return t.appInitializer.bind(t)}function Uo(t){return t.bootstrapListener.bind(t)}const Fo=new r.q("Router Initializer");var qo=n("Jgta"),Ho=n("D0XW");function zo(){return t=>t.lift(new Bo)}class Bo{call(t,e){return e.subscribe(new Go(t))}}class Go extends on.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class $o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Wo(t,this.compare,this.keySelector))}}class Wo extends on.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ko=n("pxpQ"),Qo=n("spgP"),Yo=n("zIRd"),Jo=n("q/0M"),Zo=n("qOnz"),Xo=function(t,e){return(Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ts(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var es,ns="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rs=rs||{},is=ns||self;function os(){}function ss(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function as(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var us="closure_uid_"+(1e9*Math.random()>>>0),cs=0;function ls(t,e,n){return t.call.apply(t.bind,arguments)}function hs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function fs(t,e,n){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ls:hs).apply(null,arguments)}function ds(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ps(){return Date.now()}function gs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ms(){this.j=this.j,this.i=this.i}ms.prototype.j=!1,ms.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,us)&&t[us]||(t[us]=++cs)}(this)},ms.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var vs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ys=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function bs(t){return Array.prototype.concat.apply([],arguments)}function ws(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _s(t){return/^[\s\xa0]*$/.test(t)}var Os,Es=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Is(t,e){return-1!=t.indexOf(e)}function Cs(t,e){return t<e?-1:t>e?1:0}t:{var xs=is.navigator;if(xs){var Ts=xs.userAgent;if(Ts){Os=Ts;break t}}Os=""}function Ss(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function As(t){var e={};for(var n in t)e[n]=t[n];return e}var js="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ks(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<js.length;o++)n=js[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ns(t){return Ns[" "](t),t}Ns[" "]=os;var Ps,Ds,Rs=Is(Os,"Opera"),Vs=Is(Os,"Trident")||Is(Os,"MSIE"),Ls=Is(Os,"Edge"),Ms=Ls||Vs,Us=Is(Os,"Gecko")&&!(Is(Os.toLowerCase(),"webkit")&&!Is(Os,"Edge"))&&!(Is(Os,"Trident")||Is(Os,"MSIE"))&&!Is(Os,"Edge"),Fs=Is(Os.toLowerCase(),"webkit")&&!Is(Os,"Edge");function qs(){var t=is.document;return t?t.documentMode:void 0}t:{var Hs="",zs=(Ds=Os,Us?/rv:([^\);]+)(\)|;)/.exec(Ds):Ls?/Edge\/([\d\.]+)/.exec(Ds):Vs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ds):Fs?/WebKit\/(\S+)/.exec(Ds):Rs?/(?:Version)[ \/]?(\S+)/.exec(Ds):void 0);if(zs&&(Hs=zs?zs[1]:""),Vs){var Bs=qs();if(null!=Bs&&Bs>parseFloat(Hs)){Ps=String(Bs);break t}}Ps=Hs}var Gs={};function $s(t){return function(t,e){var n=Gs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Es(String(Ps)).split("."),r=Es(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Cs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Cs(0==s[2].length,0==a[2].length)||Cs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Ws=is.document&&Vs&&(qs()||parseInt(Ps,10))||void 0,Ks=!Vs||9<=Number(Ws),Qs=Vs&&!$s("9"),Ys=function(){if(!is.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{is.addEventListener("test",os,e),is.removeEventListener("test",os,e)}catch(n){}return t}();function Js(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Zs(t,e){if(Js.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Us){t:{try{Ns(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Js.prototype.b=function(){this.defaultPrevented=!0},gs(Zs,Js);var Xs={2:"touch",3:"pen",4:"mouse"};Zs.prototype.b=function(){Zs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ta="closure_listenable_"+(1e6*Math.random()|0),ea=0;function na(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ea,this.Y=this.Z=!1}function ra(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ia(t){this.src=t,this.a={},this.b=0}function oa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=vs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ra(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function sa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ia.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sa(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new na(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var aa="closure_lm_"+(1e6*Math.random()|0),ua={};function ca(t,e,n,r,i){if(r&&r.once)return ha(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ca(t,e[o],n,r,i);return null}return n=ba(n),t&&t[ta]?t.va(e,n,as(r)?!!r.capture:!!r,i):la(t,e,n,!1,r,i)}function la(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=as(i)?!!i.capture:!!i;if(s&&!Ks)return null;var a=va(t);if(a||(t[aa]=a=new ia(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ma,e=Ks?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ys||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ha(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ha(t,e[o],n,r,i);return null}return n=ba(n),t&&t[ta]?t.wa(e,n,as(r)?!!r.capture:!!r,i):la(t,e,n,!0,r,i)}function fa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fa(t,e[o],n,r,i);else r=as(r)?!!r.capture:!!r,n=ba(n),t&&t[ta]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=sa(o=t.a[e],n,r,i))&&(ra(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=va(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sa(e,n,r,i)),(n=-1<t?e[t]:null)&&da(n))}function da(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ta])oa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=va(e))?(oa(n,t),0==n.b&&(n.src=null,e[aa]=null)):ra(t)}}}function pa(t){return t in ua?ua[t]:ua[t]="on"+t}function ga(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&da(t),n.call(r,e)}function ma(t,e){if(t.Y)return!0;if(!Ks){if(!e)t:{e=["window","event"];for(var n=is,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ga(t,e=new Zs(e,this))}return ga(t,new Zs(e,this))}function va(t){return(t=t[aa])instanceof ia?t:null}var ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(t){return"function"==typeof t?t:(t[ya]||(t[ya]=function(e){return t.handleEvent(e)}),t[ya])}function wa(){ms.call(this),this.c=new ia(this),this.J=this,this.C=null}function _a(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Js(e,t);else if(e instanceof Js)e.target=e.target||t;else{var i=e;ks(e=new Js(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Oa(s,r,!0,e)&&i}if(i=Oa(s=e.a=t,r,!0,e)&&i,i=Oa(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Oa(s=e.a=n[o],r,!1,e)&&i}function Oa(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&oa(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}gs(wa,ms),wa.prototype[ta]=!0,(es=wa.prototype).addEventListener=function(t,e,n,r){ca(this,t,e,n,r)},es.removeEventListener=function(t,e,n,r){fa(this,t,e,n,r)},es.G=function(){if(wa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ra(n[r]);delete e.a[t],e.b--}}this.C=null},es.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},es.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ea=is.JSON.stringify;function Ia(){this.b=this.a=null}var Ca,xa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Sa},function(t){t.reset()});function Ta(){var t=Na,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Sa(){this.next=this.b=this.a=null}function Aa(t){is.setTimeout(function(){throw t},0)}function ja(t,e){Ca||function(){var t=is.Promise.resolve(void 0);Ca=function(){t.then(Pa)}}(),ka||(Ca(),ka=!0),Na.add(t,e)}Ia.prototype.add=function(t,e){var n=xa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Sa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Sa.prototype.reset=function(){this.next=this.b=this.a=null};var ka=!1,Na=new Ia;function Pa(){for(var t;t=Ta();){try{t.a.call(t.b)}catch(n){Aa(n)}var e=xa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ka=!1}function Da(t,e){wa.call(this),this.b=t||1,this.a=e||is,this.f=fs(this.Za,this),this.g=ps()}function Ra(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Va(t,e,n){if("function"==typeof t)n&&(t=fs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=fs(t.handleEvent,t)}return 2147483647<Number(e)?-1:is.setTimeout(t,e||0)}function La(t){t.a=Va(function(){t.a=null,t.c&&(t.c=!1,La(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}gs(Da,wa),(es=Da.prototype).aa=!1,es.M=null,es.Za=function(){if(this.aa){var t=ps()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),_a(this,"tick"),this.aa&&(Ra(this),this.start()))}},es.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ps())},es.G=function(){Da.X.G.call(this),Ra(this),delete this.a};var Ma=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Xo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:La(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(is.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ms);function Ua(t){ms.call(this),this.b=t,this.a={}}gs(Ua,ms);var Fa=[];function qa(t,e,n,r){Array.isArray(n)||(n&&(Fa[0]=n.toString()),n=Fa);for(var i=0;i<n.length;i++){var o=ca(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ha(t){Ss(t.a,function(t,e){this.a.hasOwnProperty(e)&&da(t)},t),t.a={}}function za(){this.a=!0}function Ba(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ea(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ua.prototype.G=function(){Ua.X.G.call(this),Ha(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},za.prototype.info=function(){};var Ga={},$a=null;function Wa(){return $a=$a||new wa}function Ka(t){Js.call(this,Ga.Fa,t)}function Qa(t){var e=Wa();_a(e,new Ka(e,t))}function Ya(t,e){Js.call(this,Ga.STAT_EVENT,t),this.stat=e}function Ja(t){var e=Wa();_a(e,new Ya(e,t))}function Za(t){Js.call(this,Ga.Ga,t)}function Xa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return is.setTimeout(function(){t()},e)}Ga.Fa="serverreachability",gs(Ka,Js),Ga.STAT_EVENT="statevent",gs(Ya,Js),Ga.Ga="timingevent",gs(Za,Js);var tu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},eu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function nu(){}function ru(){}nu.prototype.a=null;var iu,ou={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function su(){Js.call(this,"d")}function au(){Js.call(this,"c")}function uu(){}function cu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ua(this),this.P=lu,this.R=new Da(t=Ms?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}gs(su,Js),gs(au,Js),gs(uu,nu),iu=new uu;var lu=45e3,hu={},fu={};function du(t,e,n){t.H=1,t.i=Ru(Au(e)),t.j=n,t.I=!0,pu(t,null)}function pu(t,e){t.u=ps(),vu(t),t.l=Au(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ku(n.b,"t",r),t.D=0,t.a=Hc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ma(fs(t.Ca,t,t.a),t.O)),qa(t.J,t.a,"readystatechange",t.Xa),e=t.B?As(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Qa(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function gu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=mu(t,n);if(i==fu){4==e&&(t.h=4,Ja(14),r=!1),Ba(t.c,t.f,null,"[Incomplete Response]");break}if(i==hu){t.h=4,Ja(15),Ba(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ba(t.c,t.f,i,null),Ou(t,i)}4==e&&0==n.length&&(t.h=1,Ja(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dc(e),e.F=!0,Ja(11))):(Ba(t.c,t.f,n,"[Invalid Chunked Response]"),_u(t),wu(t))}function mu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?fu:(n=Number(e.substring(n,r)),isNaN(n)?hu:(r+=1)+n>e.length?fu:(e=e.substr(r,n),t.D=r+n,e))}function vu(t){t.T=ps()+t.P,yu(t,t.P)}function yu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Xa(fs(t.Va,t),e)}function bu(t){t.o&&(is.clearTimeout(t.o),t.o=null)}function wu(t){0==t.g.v||t.A||Lc(t.g,t)}function _u(t){bu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ra(t.R),Ha(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ou(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ec(n.b,t)))if(n.I=t.N,!t.C&&ec(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Tb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vc(n),Cc(n)}Pc(n),Ja(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Xa(fs(n.Sa,n),6e3));if(1>=tc(n.b)&&n.ea){try{n.ea()}catch(Tb){}n.ea=void 0}}else Uc(n,11)}else if((t.C||n.a==t)&&Vc(n),!_s(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Is(l,"spdy")||Is(l,"quic")||Is(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(nc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Du(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ps()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=qc(u,u.C?u.ga:null,u.fa),d.C){rc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(bu(p),vu(p)),u.a=d}else Nc(u);0<n.g.length&&Sc(n)}else"stop"!=i[0]&&"close"!=i[0]||Uc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Uc(n,7):Ic(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Qa(4)}catch(Tb){}}function Eu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ss(t)||"string"==typeof t)ys(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ss(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ss(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Iu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Iu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(es=cu.prototype).setTimeout=function(t){this.P=t},es.Xa=function(t){t=t.target;var e=this.F;e&&3==wc(t)?e.f():this.Ca(t)},es.Ca=function(t){try{if(t==this.a)t:{var e=wc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ms&&!this.a.$())){this.A||4!=e||7==n||Qa(8==n||0>=r?3:2),bu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_s(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Ja(12),_u(this),wu(this);break t}Ba(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ou(this,u)}this.I?(gu(this,e,o),Ms&&this.b&&3==e&&(qa(this.J,this.R,"tick",this.Wa),this.R.start())):(Ba(this.c,this.f,o,null),Ou(this,o)),4==e&&_u(this),this.b&&!this.A&&(4==e?Lc(this.g,this):(this.b=!1,vu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ja(12)):(this.h=0,Ja(13)),_u(this),wu(this)}}}catch(c){}},es.Wa=function(){if(this.a){var t=wc(this.a),e=this.a.$();this.D<e.length&&(bu(this),gu(this,t,e),this.b&&4!=t&&vu(this))}},es.cancel=function(){this.A=!0,_u(this)},es.Va=function(){this.o=null;var t=ps();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Qa(3),Ja(17)),_u(this),this.h=2,wu(this)):yu(this,this.T-t)},(es=Iu.prototype).K=function(){Cu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},es.L=function(){return Cu(this),this.a.concat()},es.get=function(t,e){return xu(this.b,t)?this.b[t]:e},es.set=function(t,e){xu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},es.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Tu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Su(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Su){this.a=void 0!==e?e:t.a,ju(this,t.f),this.j=t.j,ku(this,t.c),Nu(this,t.h),this.g=t.g,e=t.b;var n=new Bu;n.c=e.c,e.a&&(n.a=new Iu(e.a),n.b=e.b),Pu(this,n),this.i=t.i}else t&&(n=String(t).match(Tu))?(this.a=!!e,ju(this,n[1]||"",!0),this.j=Vu(n[2]||""),ku(this,n[3]||"",!0),Nu(this,n[4]),this.g=Vu(n[5]||"",!0),Pu(this,n[6]||"",!0),this.i=Vu(n[7]||"")):(this.a=!!e,this.b=new Bu(null,this.a))}function Au(t){return new Su(t)}function ju(t,e,n){t.f=n?Vu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ku(t,e,n){t.c=n?Vu(e,!0):e}function Nu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Pu(t,e,n){e instanceof Bu?(t.b=e,function(t,e){e&&!t.f&&(Gu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&($u(this,e),Ku(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Lu(e,Hu)),t.b=new Bu(e,t.a))}function Du(t,e,n){t.b.set(e,n)}function Ru(t){return Du(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ps()).toString(36)),t}function Vu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Mu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Su.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Lu(e,Uu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Lu(e,Uu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Lu(n,"/"==n.charAt(0)?qu:Fu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Lu(n,zu)),t.join("")};var Uu=/[#\/\?@]/g,Fu=/[#\?:]/g,qu=/[#\?]/g,Hu=/[#\?@]/g,zu=/#/g;function Bu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gu(t){t.a||(t.a=new Iu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $u(t,e){Gu(t),e=Qu(t,e),xu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cu(t)))}function Wu(t,e){return Gu(t),e=Qu(t,e),xu(t.a.b,e)}function Ku(t,e,n){$u(t,e),0<n.length&&(t.c=null,t.a.set(Qu(t,e),ws(n)),t.b+=n.length)}function Qu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(es=Bu.prototype).add=function(t,e){Gu(this),this.c=null,t=Qu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},es.forEach=function(t,e){Gu(this),this.a.forEach(function(n,r){ys(n,function(n){t.call(e,n,r,this)},this)},this)},es.L=function(){Gu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},es.K=function(t){Gu(this);var e=[];if("string"==typeof t)Wu(this,t)&&(e=bs(e,this.a.get(Qu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=bs(e,t[n])}return e},es.set=function(t,e){return Gu(this),this.c=null,Wu(this,t=Qu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},es.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},es.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Yu=function(){return function(t,e){this.b=t,this.a=e}}();function Ju(t){this.g=t||Zu,t=is.PerformanceNavigationTiming?0<(t=is.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(is.ia&&is.ia.ya&&is.ia.ya()&&is.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Zu=10;function Xu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function tc(t){return t.b?1:t.a?t.a.size:0}function ec(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function nc(t,e){t.a?t.a.add(e):t.b=e}function rc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ic(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ts(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ws(t.c)}function oc(){}function sc(){this.a=new oc}function ac(t,e,n){var r=n||"";try{Eu(t,function(t,n){var i=t;as(t)&&(i=Ea(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(pw){throw e.push(r+"type="+encodeURIComponent("_badmap")),pw}}function uc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ju.prototype.cancel=function(){var t,e;if(this.c=ic(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ts(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},oc.prototype.stringify=function(t){return is.JSON.stringify(t,void 0)},oc.prototype.parse=function(t){return is.JSON.parse(t,void 0)};var cc=is.JSON.parse;function lc(t){wa.call(this),this.headers=new Iu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=hc,this.D=this.F=!1}gs(lc,wa);var hc="",fc=/^https?$/i,dc=["POST","PUT"];function pc(t){return"content-type"==t.toLowerCase()}function gc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mc(t),yc(t)}function mc(t){t.u||(t.u=!0,_a(t,"complete"),_a(t,"error"))}function vc(t){if(t.b&&void 0!==rs&&(!t.s[1]||4!=wc(t)||2!=t.W()))if(t.l&&4==wc(t))Va(t.za,0,t);else if(_a(t,"readystatechange"),4==wc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Tu)[1]||null;if(!o&&is.self&&is.self.location){var s=is.self.location.protocol;o=s.substr(0,s.length-1)}i=!fc.test(o?o.toLowerCase():"")}e=i}if(e)_a(t,"complete"),_a(t,"success");else{t.h=6;try{var a=2<wc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",mc(t)}}finally{yc(t)}}}function yc(t,e){if(t.a){bc(t);var n=t.a,r=t.s[0]?os:null;t.a=null,t.s=null,e||_a(t,"ready");try{n.onreadystatechange=r}catch(pw){}}}function bc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(is.clearTimeout(t.m),t.m=null)}function wc(t){return t.a?t.a.readyState:0}function _c(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ss(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Du(t,e,n))}function Oc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ec(t){this.pa=0,this.g=[],this.c=new za,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Oc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Oc("baseRetryDelayMs",5e3,t),this.Ra=Oc("retryDelaySeedMs",1e4,t),this.Ma=Oc("forwardChannelMaxRetries",2,t),this.ma=Oc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ju(t&&t.concurrentRequestLimit),this.ka=new sc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ic(t){if(xc(t),3==t.v){var e=t.R++,n=Au(t.B);Du(n,"SID",t.J),Du(n,"RID",e),Du(n,"TYPE","terminate"),jc(t,n),(e=new cu(t,t.c,e,void 0)).H=2,e.i=Ru(Au(n)),n=!1,is.navigator&&is.navigator.sendBeacon&&(n=is.navigator.sendBeacon(e.i.toString(),"")),!n&&is.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hc(e.g,null),e.a.ba(e.i)),e.u=ps(),vu(e)}Fc(t)}function Cc(t){t.a&&(Dc(t),t.a.cancel(),t.a=null)}function xc(t){Cc(t),t.j&&(is.clearTimeout(t.j),t.j=null),Vc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&is.clearTimeout(t.h),t.h=null)}function Tc(t,e){t.g.push(new Yu(t.Oa++,e)),3==t.v&&Sc(t)}function Sc(t){Xu(t.b)||t.h||(t.h=!0,ja(t.Ba,t),t.u=0)}function Ac(t,e){var n;n=e?e.f:t.R++;var r=Au(t.B);Du(r,"SID",t.J),Du(r,"RID",n),Du(r,"AID",t.P),jc(t,r),t.i&&t.l&&_c(r,t.i,t.l),n=new cu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=kc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),nc(t.b,n),du(n,r,e)}function jc(t,e){t.f&&Eu({},function(t,n){Du(e,n,t)})}function kc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?fs(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ac(l,s,"req"+c+"_")}catch(Ol){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Nc(t){t.a||t.j||(t.T=1,ja(t.Aa,t),t.o=0)}function Pc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Xa(fs(t.Aa,t),Mc(t,t.o)),t.o++,0))}function Dc(t){null!=t.s&&(is.clearTimeout(t.s),t.s=null)}function Rc(t){t.a=new cu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Au(t.la);Du(e,"RID","rpc"),Du(e,"SID",t.J),Du(e,"CI",t.H?"0":"1"),Du(e,"AID",t.P),jc(t,e),Du(e,"TYPE","xmlhttp"),t.i&&t.l&&_c(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ru(Au(e)),n.j=null,n.I=!0,pu(n,t)}function Vc(t){null!=t.m&&(is.clearTimeout(t.m),t.m=null)}function Lc(t,e){var n=null;if(t.a==e){Vc(t),Dc(t),t.a=null;var r=2}else{if(!ec(t.b,e))return;n=e.s,rc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ps()-e.u;var i=t.u;_a(r=Wa(),new Za(r,n,e,i)),Sc(t)}else Nc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(tc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Xa(fs(t.Ba,t,e),Mc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Pc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Uc(t,5);break;case 4:Uc(t,10);break;case 3:Uc(t,6);break;default:Uc(t,2)}}function Mc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Uc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=fs(t.Ya,t);n||(n=new Su("//www.google.com/images/cleardot.gif"),is.location&&"http"==is.location.protocol||ju(n,"https"),Ru(n)),function(t,e){var n=new za;if(is.Image){var r=new Image;r.onload=ds(uc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ds(uc,n,r,"TestLoadImage: error",!1,e),r.onabort=ds(uc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ds(uc,n,r,"TestLoadImage: timeout",!1,e),is.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ja(2);t.v=0,t.f&&t.f.ra(e),Fc(t),xc(t)}function Fc(t){t.v=0,t.I=-1,t.f&&(0==ic(t.b).length&&0==t.g.length||(t.b.c.length=0,ws(t.g),t.g.length=0),t.f.qa())}function qc(t,e,n){var r=function(t){return t instanceof Su?Au(t):new Su(t,void 0)}(n);if(""!=r.c)e&&ku(r,e+"."+r.c),Nu(r,r.h);else{var i=is.location;r=function(t,e,n,r){var i=new Su(null,void 0);return t&&ju(i,t),e&&ku(i,e),n&&Nu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ss(t.V,function(t,e){Du(r,e,t)}),n=t.na,(e=t.A)&&n&&Du(r,e,n),Du(r,"VER",t.ha),jc(t,r),r}function Hc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lc(t.Na)).F=t.C,e}function zc(){}function Bc(){if(Vs&&!(10<=Number(Ws)))throw Error("Environmental error: no available transport.")}function Gc(t,e){wa.call(this),this.a=new Ec(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!_s(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_s(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Kc(this)}function $c(t){su.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Wc(){au.call(this),this.status=1}function Kc(t){this.a=t}(es=lc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:iu),this.a.onreadystatechange=fs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void gc(this,o)}t=n||"";var i=new Iu(this.headers);r&&Eu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=pc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=is.FormData&&t instanceof is.FormData,!(0<=vs(dc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bc(this),0<this.o&&((this.D=function(t){return Vs&&$s(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=fs(this.xa,this)):this.m=Va(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){gc(this,o)}},es.xa=function(){void 0!==rs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,_a(this,"timeout"),this.abort(8))},es.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,_a(this,"complete"),_a(this,"abort"),yc(this))},es.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yc(this,!0)),lc.X.G.call(this)},es.za=function(){this.j||(this.A||this.l||this.g?vc(this):this.Ua())},es.Ua=function(){vc(this)},es.W=function(){try{return 2<wc(this)?this.a.status:-1}catch(Ds){return-1}},es.$=function(){try{return this.a?this.a.responseText:""}catch(Ds){return""}},es.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cc(e)}},es.ua=function(){return this.h},es.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(es=Ec.prototype).ha=8,es.v=1,es.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new cu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ks(r=As(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=kc(this,n,e),Du(i=Au(this.B),"RID",t),Du(i,"CVER",22),this.A&&Du(i,"X-HTTP-Session-Id",this.A),jc(this,i),this.i&&r&&_c(i,this.i,r),nc(this.b,n),this.Ia&&Du(i,"TYPE","init"),this.da?(Du(i,"$req",e),Du(i,"SID","null"),n.U=!0,du(n,i,null)):du(n,i,e),this.v=2}}else 3==this.v&&(t?Ac(this,t):0==this.g.length||Xu(this.b)||Ac(this))},es.Aa=function(){if(this.j=null,Rc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Xa(fs(this.Ta,this),t)}},es.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ja(10),Cc(this),Rc(this))},es.Sa=function(){null!=this.m&&(this.m=null,Cc(this),Pc(this),Ja(19))},es.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ja(2)):(this.c.info("Failed to ping google.com"),Ja(1))},(es=zc.prototype).ta=function(){},es.sa=function(){},es.ra=function(){},es.qa=function(){},es.Ja=function(){},Bc.prototype.a=function(t,e){return new Gc(t,e)},gs(Gc,wa),Gc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ja(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=qc(t,null,t.fa),Sc(t)},Gc.prototype.close=function(){Ic(this.a)},Gc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Tc(this.a,e)}else this.l?((e={}).__data__=Ea(t),Tc(this.a,e)):Tc(this.a,t)},Gc.prototype.G=function(){this.a.f=null,delete this.f,Ic(this.a),delete this.a,Gc.X.G.call(this)},gs($c,su),gs(Wc,au),gs(Kc,zc),Kc.prototype.ta=function(){_a(this.a,"a")},Kc.prototype.sa=function(t){_a(this.a,new $c(t))},Kc.prototype.ra=function(t){_a(this.a,new Wc(t))},Kc.prototype.qa=function(){_a(this.a,"b")},Bc.prototype.createWebChannel=Bc.prototype.a,Gc.prototype.send=Gc.prototype.h,Gc.prototype.open=Gc.prototype.g,Gc.prototype.close=Gc.prototype.close,tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,eu.COMPLETE="complete",ru.EventType=ou,ou.OPEN="a",ou.CLOSE="b",ou.ERROR="c",ou.MESSAGE="d",wa.prototype.listen=wa.prototype.va,lc.prototype.listenOnce=lc.prototype.wa,lc.prototype.getLastError=lc.prototype.Qa,lc.prototype.getLastErrorCode=lc.prototype.ua,lc.prototype.getStatus=lc.prototype.W,lc.prototype.getResponseJson=lc.prototype.Pa,lc.prototype.getResponseText=lc.prototype.$,lc.prototype.send=lc.prototype.ba;var Qc=tu,Yc=eu,Jc=Ga,Zc=ru,Xc=lc,tl=n("30Go"),el=new Jo.b("@firebase/firestore");function nl(){return el.logLevel}function rl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Jo.a.DEBUG){var r=e.map(sl);el.debug.apply(el,Object(tl.g)(["Firestore (8.2.0): "+t],r))}}function il(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Jo.a.ERROR){var r=e.map(sl);el.error.apply(el,Object(tl.g)(["Firestore (8.2.0): "+t],r))}}function ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Jo.a.WARN){var r=e.map(sl);el.warn.apply(el,Object(tl.g)(["Firestore (8.2.0): "+t],r))}}function sl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(pw){return t}}function al(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.0) INTERNAL ASSERTION FAILED: "+t;throw il(e),new Error(e)}function ul(t,e){t||al()}function cl(t,e){return t}function ll(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var hl=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ll(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function fl(t,e){return t<e?-1:t>e?1:0}function dl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function pl(t){return t+"\0"}var gl=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return fl(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();gl.h=new gl("");var ml={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(tl.c)(e,t),e}(Error),yl=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(gl.fromBase64String(e))}catch(e){throw new vl(ml.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(gl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),bl=function(t){this._=t};function wl(){if("undefined"==typeof Uint8Array)throw new vl(ml.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _l(){if("undefined"==typeof atob)throw new vl(ml.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.fromBase64String=function(t){return _l(),new e(yl.fromBase64String(t))},e.fromUint8Array=function(t){return wl(),new e(yl.fromUint8Array(t))},e.prototype.toBase64=function(){return _l(),this._.toBase64()},e.prototype.toUint8Array=function(){return wl(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(bl),El=function(){function t(t){this.uid=t}return t.prototype.T=function(){return null!=this.uid},t.prototype.I=function(){return this.T()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();El.UNAUTHENTICATED=new El(null),El.m=new El("google-credentials-uid"),El.A=new El("first-party-uid");var Il=function(t,e){this.user=e,this.type="OAuth",this.R={},this.R.Authorization="Bearer "+t},Cl=function(){function t(){this.P=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.g=function(){},t.prototype.V=function(t){this.P=t,t(El.UNAUTHENTICATED)},t.prototype.p=function(){this.P=null},t}(),xl=function(){function t(t){var e=this;this.v=null,this.currentUser=El.UNAUTHENTICATED,this.S=!1,this.D=0,this.P=null,this.forceRefresh=!1,this.v=function(){e.D++,e.currentUser=e.C(),e.S=!0,e.P&&e.P(e.currentUser)},this.D=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.v):(this.v(null),t.get().then(function(t){e.auth=t,e.v&&e.auth.addAuthTokenListener(e.v)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.D,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.D!==e?(rl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ul("string"==typeof n.accessToken),new Il(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.g=function(){this.forceRefresh=!0},t.prototype.V=function(t){this.P=t,this.S&&t(this.currentUser)},t.prototype.p=function(){this.auth&&this.auth.removeAuthTokenListener(this.v),this.v=null,this.P=null},t.prototype.C=function(){var t=this.auth&&this.auth.getUid();return ul(null===t||"string"==typeof t),new El(t)},t}(),Tl=function(){function t(t,e){this.N=t,this.F=e,this.type="FirstParty",this.user=El.A}return Object.defineProperty(t.prototype,"R",{get:function(){var t={"X-Goog-AuthUser":this.F},e=this.N.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Sl=function(){function t(t,e){this.N=t,this.F=e}return t.prototype.getToken=function(){return Promise.resolve(new Tl(this.N,this.F))},t.prototype.V=function(t){t(El.A)},t.prototype.p=function(){},t.prototype.g=function(){},t}(),Al=function(t,e,n,r,i,o){this.O=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.k=o},jl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"M",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),kl=function(){function t(){}return t.prototype.L=function(t){},t.prototype.$=function(){},t}(),Nl=function(){function t(){var t=this;this.B=function(){return t.q()},this.U=function(){return t.K()},this.W=[],this.j()}return t.prototype.L=function(t){this.W.push(t)},t.prototype.$=function(){window.removeEventListener("online",this.B),window.removeEventListener("offline",this.U)},t.prototype.j=function(){window.addEventListener("online",this.B),window.addEventListener("offline",this.U)},t.prototype.q=function(){rl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(0)},t.prototype.K=function(){rl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(1)},t.G=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}();function Pl(t){return null==t}function Dl(t){return 0===t&&1/t==-1/0}function Rl(t){return"number"==typeof t&&Number.isInteger(t)&&!Dl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Vl,Ll,Ml={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};function Ul(t){switch(t){case ml.OK:return al();case ml.CANCELLED:case ml.UNKNOWN:case ml.DEADLINE_EXCEEDED:case ml.RESOURCE_EXHAUSTED:case ml.INTERNAL:case ml.UNAVAILABLE:case ml.UNAUTHENTICATED:return!1;case ml.INVALID_ARGUMENT:case ml.NOT_FOUND:case ml.ALREADY_EXISTS:case ml.PERMISSION_DENIED:case ml.FAILED_PRECONDITION:case ml.ABORTED:case ml.OUT_OF_RANGE:case ml.UNIMPLEMENTED:case ml.DATA_LOSS:return!0;default:return al()}}function Fl(t){if(void 0===t)return il("GRPC error has no .code"),ml.UNKNOWN;switch(t){case Vl.OK:return ml.OK;case Vl.CANCELLED:return ml.CANCELLED;case Vl.UNKNOWN:return ml.UNKNOWN;case Vl.DEADLINE_EXCEEDED:return ml.DEADLINE_EXCEEDED;case Vl.RESOURCE_EXHAUSTED:return ml.RESOURCE_EXHAUSTED;case Vl.INTERNAL:return ml.INTERNAL;case Vl.UNAVAILABLE:return ml.UNAVAILABLE;case Vl.UNAUTHENTICATED:return ml.UNAUTHENTICATED;case Vl.INVALID_ARGUMENT:return ml.INVALID_ARGUMENT;case Vl.NOT_FOUND:return ml.NOT_FOUND;case Vl.ALREADY_EXISTS:return ml.ALREADY_EXISTS;case Vl.PERMISSION_DENIED:return ml.PERMISSION_DENIED;case Vl.FAILED_PRECONDITION:return ml.FAILED_PRECONDITION;case Vl.ABORTED:return ml.ABORTED;case Vl.OUT_OF_RANGE:return ml.OUT_OF_RANGE;case Vl.UNIMPLEMENTED:return ml.UNIMPLEMENTED;case Vl.DATA_LOSS:return ml.DATA_LOSS;default:return al()}}(Ll=Vl||(Vl={}))[Ll.OK=0]="OK",Ll[Ll.CANCELLED=1]="CANCELLED",Ll[Ll.UNKNOWN=2]="UNKNOWN",Ll[Ll.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ll[Ll.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ll[Ll.NOT_FOUND=5]="NOT_FOUND",Ll[Ll.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ll[Ll.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ll[Ll.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ll[Ll.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ll[Ll.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ll[Ll.ABORTED=10]="ABORTED",Ll[Ll.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ll[Ll.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ll[Ll.INTERNAL=13]="INTERNAL",Ll[Ll.UNAVAILABLE=14]="UNAVAILABLE",Ll[Ll.DATA_LOSS=15]="DATA_LOSS";var ql=function(){function t(t){this.H=t.H,this.J=t.J}return t.prototype.Y=function(t){this.X=t},t.prototype.Z=function(t){this.tt=t},t.prototype.onMessage=function(t){this.et=t},t.prototype.close=function(){this.J()},t.prototype.send=function(t){this.H(t)},t.prototype.nt=function(){this.X()},t.prototype.st=function(t){this.tt(t)},t.prototype.it=function(t){this.et(t)},t}(),Hl=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.k=e.k,n}return Object(tl.c)(e,t),e.prototype.lt=function(t,e,n,r){return new Promise(function(i,o){var s=new Xc;s.listenOnce(Yc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Qc.NO_ERROR:var e=s.getResponseJson();rl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Qc.TIMEOUT:rl("Connection",'RPC "'+t+'" timed out'),o(new vl(ml.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:var n=s.getStatus();if(rl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ml).indexOf(e)>=0?e:ml.UNKNOWN}(r.status);o(new vl(a,r.message))}else o(new vl(ml.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new vl(ml.UNAVAILABLE,"Connection failed."));break;default:al()}}finally{rl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.ft=function(t,e){var n=[this.ot,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Bc,i=Wa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.O.projectId+"/databases/"+this.O.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.k};this.ht(o.initMessageHeaders,e),Object(Zo.l)()||Object(Zo.n)()||Object(Zo.j)()||Object(Zo.k)()||Object(Zo.o)()||Object(Zo.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");rl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new ql({H:function(t){c?rl("Connection","Not sending because WebChannel is closed:",t):(u||(rl("Connection","Opening WebChannel transport."),a.open(),u=!0),rl("Connection","WebChannel sending:",t),a.send(t))},J:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Zc.EventType.OPEN,function(){c||rl("Connection","WebChannel transport opened.")}),h(a,Zc.EventType.CLOSE,function(){c||(c=!0,rl("Connection","WebChannel transport closed"),l.st())}),h(a,Zc.EventType.ERROR,function(t){c||(c=!0,ol("Connection","WebChannel transport errored:",t),l.st(new vl(ml.UNAVAILABLE,"The operation could not be completed")))}),h(a,Zc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ul(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){rl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Vl[t];if(void 0!==e)return Fl(e)}(i),s=r.message;void 0===o&&(o=ml.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.st(new vl(o,s)),a.close()}else rl("Connection","WebChannel received:",n),l.it(n)}}),h(i,Jc.STAT_EVENT,function(t){10===t.stat?rl("Connection","Detected buffering proxy"):11===t.stat&&rl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.nt()},0),l},e}(function(){function t(t){this.rt=t,this.O=t.O,this.ot=(t.ssl?"https":"http")+"://"+t.host,this.ct="projects/"+this.O.projectId+"/databases/"+this.O.database+"/documents"}return t.prototype.at=function(t,e,n,r){var i=this.ut(t,e);rl("RestConnection","Sending: ",i,n);var o={};return this.ht(o,r),this.lt(t,i,o,n).then(function(t){return rl("RestConnection","Received: ",t),t},function(e){throw ol("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype._t=function(t,e,n,r){return this.at(t,e,n,r)},t.prototype.ht=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.0",t["Content-Type"]="text/plain",e)for(var n in e.R)e.R.hasOwnProperty(n)&&(t[n]=e.R[n])},t.prototype.ut=function(t,e){return this.ot+"/v1/"+e+":"+Ml[t]},t}()),Bl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vl(ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vl(ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new vl(ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vl(ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.dt=function(t){return this.seconds===t.seconds?fl(this.nanoseconds,t.nanoseconds):fl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Gl=function(){function t(t){this.timestamp=t}return t.wt=function(e){return new t(e)},t.min=function(){return new t(new Bl(0,0))},t.prototype.u=function(t){return this.timestamp.dt(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.Et=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Tt=function(){return this.timestamp},t}(),$l=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&al(),void 0===n?n=t.length-e:n>t.length-e&&al(),this.segments=t,this.offset=e,this.It=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.It},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.At(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Rt(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Pt=function(t){return this.Rt(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.yt=function(){return this.Rt(this.segments,this.offset,this.length-1)},t.prototype.gt=function(){return this.segments[this.offset]},t.prototype.Vt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.bt=function(){return 0===this.length},t.prototype.vt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.St=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.Dt=function(){return this.segments.slice(this.offset,this.limit())},t.At=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.prototype.Ct=function(){return this.Dt().join("/")},e.prototype.toString=function(){return this.Ct()},e.xt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new vl(ml.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.Nt=function(){return new e([])},e}($l),Kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.Ft=function(t){return Kl.test(t)},e.prototype.Ct=function(){return this.Dt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Ft(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.Ct()},e.prototype.Ot=function(){return 1===this.length&&"__name__"===this.get(0)},e.kt=function(){return new e(["__name__"])},e.Mt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new vl(ml.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new vl(ml.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new vl(ml.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new vl(ml.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Nt=function(){return new e([])},e}($l),Yl=function(){function t(t){this.path=t}return t.Lt=function(e){return new t(Wl.xt(e))},t.$t=function(e){return new t(Wl.xt(e).Pt(5))},t.prototype.Bt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wl.At(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.At=function(t,e){return Wl.At(t.path,e.path)},t.qt=function(t){return t.length%2==0},t.Ut=function(e){return new t(new Wl(e.slice()))},t}();function Jl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var th=function(){function t(t){this.fields=t,t.sort(Ql.At)}return t.prototype.Qt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].vt(t))return!0;return!1},t.prototype.isEqual=function(t){return dl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(t){if(ul(!!t),"string"==typeof t){var e=0,n=eh.exec(t);if(ul(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rh(t.seconds),nanos:rh(t.nanos)}}function rh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ih(t){return"string"==typeof t?gl.fromBase64String(t):gl.fromUint8Array(t)}function oh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sh(t){var e=t.mapValue.fields.__previous_value__;return oh(e)?sh(e):e}function ah(t){var e=nh(t.mapValue.fields.__local_write_time__.timestampValue);return new Bl(e.seconds,e.nanos)}function uh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oh(t)?4:10:al()}function ch(t,e){var n=uh(t);if(n!==uh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nh(t.timestampValue),r=nh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ih(t.bytesValue).isEqual(ih(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rh(t.geoPointValue.latitude)===rh(e.geoPointValue.latitude)&&rh(t.geoPointValue.longitude)===rh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rh(t.integerValue)===rh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rh(t.doubleValue),r=rh(e.doubleValue);return n===r?Dl(n)===Dl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],ch);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jl(n)!==Jl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ch(n[i],r[i])))return!1;return!0}(t,e);default:return al()}}function lh(t,e){return void 0!==(t.values||[]).find(function(t){return ch(t,e)})}function hh(t,e){var n=uh(t),r=uh(e);if(n!==r)return fl(n,r);switch(n){case 0:return 0;case 1:return fl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=rh(t.integerValue||t.doubleValue),r=rh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fh(t.timestampValue,e.timestampValue);case 4:return fh(ah(t),ah(e));case 5:return fl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ih(t),r=ih(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=fl(n[i],r[i]);if(0!==o)return o}return fl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=fl(rh(t.latitude),rh(e.latitude));return 0!==n?n:fl(rh(t.longitude),rh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hh(n[i],r[i]);if(o)return o}return fl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=fl(r[s],o[s]);if(0!==a)return a;var u=hh(n[r[s]],i[o[s]]);if(0!==u)return u}return fl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw al()}}function fh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return fl(t,e);var n=nh(t),r=nh(e),i=fl(n.seconds,r.seconds);return 0!==i?i:fl(n.nanos,r.nanos)}function dh(t){return ph(t)}function ph(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=nh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ih(t.bytesValue).toBase64():"referenceValue"in t?Yl.$t(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ph(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ph(t.fields[o])}return e+"}"}(t.mapValue):al();var e}function gh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.Ct()}}function mh(t){return!!t&&"integerValue"in t}function vh(t){return!!t&&"arrayValue"in t}function yh(t){return!!t&&"nullValue"in t}function bh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}var _h=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.bt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!wh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.Vt()])||null},t.prototype.isEqual=function(t){return ch(this.proto,t.proto)},t}(),Oh=function(){function t(t){void 0===t&&(t=_h.empty()),this.Kt=t,this.Wt=new Map}return t.prototype.set=function(t,e){return this.jt(t,e),this},t.prototype.delete=function(t){return this.jt(t,null),this},t.prototype.jt=function(t,e){for(var n=this.Wt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===uh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.Vt(),e)},t.prototype.Gt=function(){var t=this.zt(Ql.Nt(),this.Wt);return null!=t?new _h(t):this.Kt},t.prototype.zt=function(t,e){var n=this,r=!1,i=this.Kt.field(t),o=wh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.zt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Eh(t){var e=[];return Zl(t.fields||{},function(t,n){var r=new Ql([t]);if(wh(n)){var i=Eh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new th(e)}var Ih=function(t,e){this.key=t,this.version=e},Ch=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ht=r,o.Jt=!!i.Jt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(tl.c)(e,t),e.prototype.field=function(t){return this.Ht.field(t)},e.prototype.data=function(){return this.Ht},e.prototype.Yt=function(){return this.Ht.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Jt===t.Jt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ht.isEqual(t.Ht)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ht.toString()+", {hasLocalMutations: "+this.Jt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Jt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ih),xh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(tl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ih),Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ih),Sh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Xt=null};function Ah(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Sh(t,e,n,r,i,o,s)}function jh(t){var e=cl(t);if(null===e.Xt){var n=e.path.Ct();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.Ct()+t.op.toString()+dh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.Ct()+t.dir}(t)}).join(","),Pl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=zh(e.startAt)),e.endAt&&(n+="|ub:",n+=zh(e.endAt)),e.Xt=n}return e.Xt}function kh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Gh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ch(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wh(t.startAt,e.startAt)&&Wh(t.endAt,e.endAt)}function Nh(t){return Yl.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ph=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(tl.c)(e,t),e.create=function(t,n,r){return t.Ot()?"in"===n||"not-in"===n?this.Zt(t,n,r):new Dh(t,n,r):"array-contains"===n?new Mh(t,r):"in"===n?new Uh(t,r):"not-in"===n?new Fh(t,r):"array-contains-any"===n?new qh(t,r):new e(t,n,r)},e.Zt=function(t,e,n){return"in"===e?new Rh(t,n):new Vh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.te(hh(e,this.value)):null!==e&&uh(this.value)===uh(e)&&this.te(hh(e,this.value))},e.prototype.te=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return al()}},e.prototype.ee=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Dh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Yl.$t(r.referenceValue),i}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=Yl.At(t.key,this.key);return this.te(e)},e}(Ph),Rh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Lh(0,n),r}return Object(tl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ph),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Lh(0,n),r}return Object(tl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ph);function Lh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Yl.$t(t.referenceValue)})}var Mh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return vh(e)&&lh(e.arrayValue,this.value)},e}(Ph),Uh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&lh(this.value.arrayValue,e)},e}(Ph),Fh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!lh(this.value.arrayValue,e)},e}(Ph),qh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return lh(e.value.arrayValue,t)})},e}(Ph),Hh=function(t,e){this.position=t,this.before=e};function zh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return dh(t)}).join(",")}var Bh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Gh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $h(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.Ot()?Yl.At(Yl.$t(s.referenceValue),n.key):hh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Wh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ch(t.position[n],e.position[n]))return!1;return!0}var Kh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.ne=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.se=null,this.ie=null};function Qh(t,e,n,r,i,o,s,a){return new Kh(t,e,n,r,i,o,s,a)}function Yh(t){return new Kh(t)}function Jh(t){return!Pl(t.limit)&&"F"===t.limitType}function Zh(t){return!Pl(t.limit)&&"L"===t.limitType}function Xh(t){return t.ne.length>0?t.ne[0].field:null}function tf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.ee())return r.field}return null}function ef(t){return null!==t.collectionGroup}function nf(t){var e=cl(t);if(null===e.se){e.se=[];var n=tf(e),r=Xh(e);if(null!==n&&null===r)n.Ot()||e.se.push(new Bh(n)),e.se.push(new Bh(Ql.kt(),"asc"));else{for(var i=!1,o=0,s=e.ne;o<s.length;o++){var a=s[o];e.se.push(a),a.field.Ot()&&(i=!0)}if(!i){var u=e.ne.length>0?e.ne[e.ne.length-1].dir:"asc";e.se.push(new Bh(Ql.kt(),u))}}}return e.se}function rf(t){var e=cl(t);if(!e.ie)if("F"===e.limitType)e.ie=Ah(e.path,e.collectionGroup,nf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=nf(e);r<i.length;r++){var o=i[r];n.push(new Bh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Hh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Hh(e.startAt.position,!e.startAt.before):null;e.ie=Ah(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.ie}function of(t,e,n){return new Kh(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sf(t,e){return kh(rf(t),rf(e))&&t.limitType===e.limitType}function af(t){return jh(rf(t))+"|lt:"+t.limitType}function uf(t){return"Query(target="+function(t){var e=t.path.Ct();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.Ct()+" "+e.op+" "+dh(e.value);var e}).join(", ")+"]"),Pl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.Ct()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+zh(t.startAt)),t.endAt&&(e+=", endAt: "+zh(t.endAt)),"Target("+e+")"}(rf(t))+"; limitType="+t.limitType+")"}function cf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Bt(t.collectionGroup)&&t.path.vt(n):Yl.qt(t.path)?t.path.isEqual(n):t.path.St(n)}(t,e)&&function(t,e){for(var n=0,r=t.ne;n<r.length;n++){var i=r[n];if(!i.field.Ot()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$h(t.startAt,nf(t),e)||t.endAt&&$h(t.endAt,nf(t),e))}(t,e)}function lf(t){return function(e,n){for(var r=!1,i=0,o=nf(t);i<o.length;i++){var s=o[i],a=hf(s,e,n);if(0!==a)return a;r=r||s.field.Ot()}return 0}}function hf(t,e,n){var r=t.field.Ot()?Yl.At(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?hh(r,i):al()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return al()}}var ff=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Gl.min()),void 0===o&&(o=Gl.min()),void 0===s&&(s=gl.h),this.target=t,this.targetId=e,this.re=n,this.sequenceNumber=r,this.oe=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.ce=function(e){return new t(this.target,this.targetId,this.re,e,this.oe,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ae=function(e,n){return new t(this.target,this.targetId,this.re,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ue=function(e){return new t(this.target,this.targetId,this.re,this.sequenceNumber,this.oe,e,this.resumeToken)},t}();function df(t,e){if(t.he){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(e)?"-0":e}}function pf(t){return{integerValue:""+t}}function gf(t,e){return Rl(e)?pf(e):df(t,e)}var mf=function(){this.le=void 0};function vf(t,e,n){return t instanceof wf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _f?Of(t,e):t instanceof Ef?If(t,e):function(t,e){var n=bf(t,e),r=xf(n)+xf(t._e);return mh(n)&&mh(t._e)?pf(r):df(t.fe,r)}(t,e)}function yf(t,e,n){return t instanceof _f?Of(t,e):t instanceof Ef?If(t,e):n}function bf(t,e){return t instanceof Cf?mh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e}(mf),_f=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(tl.c)(e,t),e}(mf);function Of(t,e){for(var n=Tf(e),r=function(t){n.some(function(e){return ch(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ef=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(tl.c)(e,t),e}(mf);function If(t,e){for(var n=Tf(e),r=function(t){n=n.filter(function(e){return!ch(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Cf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fe=e,r._e=n,r}return Object(tl.c)(e,t),e}(mf);function xf(t){return rh(t.integerValue||t.doubleValue)}function Tf(t){return vh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Sf=function(t,e){this.field=t,this.transform=e},Af=function(t,e){this.version=t,this.transformResults=e},jf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.de=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"we",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function kf(t,e){return void 0!==t.updateTime?e instanceof Ch&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ch}var Nf=function(){};function Pf(t,e,n){return t instanceof Mf?function(t,e,n){var r=t.value;if(n.transformResults){var i=qf(t.fieldTransforms,e,n.transformResults);r=zf(t.fieldTransforms,r,i)}return new Ch(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Uf?function(t,e,n){if(!kf(t.Ee,e))return new Th(t.key,n.version);var r=Ff(t,e,n.transformResults?qf(t.fieldTransforms,e,n.transformResults):[]);return new Ch(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new xh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Df(t,e,n,r){return t instanceof Mf?function(t,e,n,r){if(!kf(t.Ee,e))return e;var i=t.value;if(t.fieldTransforms){var o=Hf(t.fieldTransforms,n,e,r);i=zf(t.fieldTransforms,i,o)}var s=Lf(e);return new Ch(t.key,s,i,{Jt:!0})}(t,e,r,n):t instanceof Uf?function(t,e,n,r){if(!kf(t.Ee,e))return e;var i=Lf(e),o=Ff(t,e,Hf(t.fieldTransforms,n,e,r));return new Ch(t.key,i,o,{Jt:!0})}(t,e,r,n):function(t,e){return kf(t.Ee,e)?new xh(t.key,Gl.min()):e}(t,e)}function Rf(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Ch?e.field(o.field):void 0,a=bf(o.transform,s||null);null!=a&&(n=null==n?(new Oh).set(o.field,a):n.set(o.field,a))}return n?n.Gt():null}(t.fieldTransforms,e):null}function Vf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ee.isEqual(e.Ee)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&dl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _f&&e instanceof _f||t instanceof Ef&&e instanceof Ef?dl(t.elements,e.elements,ch):t instanceof Cf&&e instanceof Cf?ch(t._e,e._e):t instanceof wf&&e instanceof wf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Te.isEqual(e.Te))}function Lf(t){return t instanceof Ch?t.version:Gl.min()}var Mf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Ee=r,o.fieldTransforms=i,o.type=0,o}return Object(tl.c)(e,t),e}(Nf),Uf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Te=r,s.Ee=i,s.fieldTransforms=o,s.type=1,s}return Object(tl.c)(e,t),e}(Nf);function Ff(t,e,n){var r;return r=function(t,e){var n=new Oh(e);return t.Te.fields.forEach(function(e){if(!e.bt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Gt()}(t,r=e instanceof Ch?e.data():_h.empty()),zf(t.fieldTransforms,r,n)}function qf(t,e,n){var r=[];ul(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Ch&&(a=e.field(o.field)),r.push(yf(s,a,n[i]))}return r}function Hf(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Ch&&(c=n.field(a.field)),null===c&&r instanceof Ch&&(c=r.field(a.field)),i.push(vf(u,c,e))}return i}function zf(t,e,n){for(var r=new Oh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Gt()}var Bf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=2,r.fieldTransforms=[],r}return Object(tl.c)(e,t),e}(Nf),Gf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=3,r.fieldTransforms=[],r}return Object(tl.c)(e,t),e}(Nf),$f=function(t){this.count=t},Wf=function(){function t(t,e){this.At=t,this.root=e||Qf.EMPTY}return t.prototype.Ie=function(e,n){return new t(this.At,this.root.Ie(e,n,this.At).copy(null,null,Qf.me,null,null))},t.prototype.remove=function(e){return new t(this.At,this.root.remove(e,this.At).copy(null,null,Qf.me,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.bt();){var n=this.At(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.bt();){var r=this.At(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.bt=function(){return this.root.bt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Ae=function(){return this.root.Ae()},t.prototype.Re=function(){return this.root.Re()},t.prototype.Pe=function(t){return this.root.Pe(t)},t.prototype.forEach=function(t){this.Pe(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pe(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.ge=function(){return new Kf(this.root,null,this.At,!1)},t.prototype.Ve=function(t){return new Kf(this.root,t,this.At,!1)},t.prototype.pe=function(){return new Kf(this.root,null,this.At,!0)},t.prototype.be=function(t){return new Kf(this.root,t,this.At,!0)},t}(),Kf=function(){function t(t,e,n,r){this.ve=r,this.Se=[];for(var i=1;!t.bt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ve?t.left:t.right;else{if(0===i){this.Se.push(t);break}this.Se.push(t),t=this.ve?t.right:t.left}}return t.prototype.De=function(){var t=this.Se.pop(),e={key:t.key,value:t.value};if(this.ve)for(t=t.left;!t.bt();)this.Se.push(t),t=t.right;else for(t=t.right;!t.bt();)this.Se.push(t),t=t.left;return e},t.prototype.Ce=function(){return this.Se.length>0},t.prototype.xe=function(){if(0===this.Se.length)return null;var t=this.Se[this.Se.length-1];return{key:t.key,value:t.value}},t}(),Qf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.bt=function(){return!1},t.prototype.Pe=function(t){return this.left.Pe(t)||t(this.key,this.value)||this.right.Pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.bt()?this:this.left.min()},t.prototype.Ae=function(){return this.min().key},t.prototype.Re=function(){return this.right.bt()?this.key:this.right.Re()},t.prototype.Ie=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ie(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ie(t,e,n))).Ne()},t.prototype.Fe=function(){if(this.left.bt())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.ke()),(e=e.copy(null,null,null,e.left.Fe(),null)).Ne()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.bt()||i.left.Oe()||i.left.left.Oe()||(i=i.ke()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Oe()&&(i=i.Me()),i.right.bt()||i.right.Oe()||i.right.left.Oe()||(i=i.Le()),0===n(e,i.key)){if(i.right.bt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Fe())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ne()},t.prototype.Oe=function(){return this.color},t.prototype.Ne=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.$e()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Me()),t.left.Oe()&&t.right.Oe()&&(t=t.Be()),t},t.prototype.ke=function(){var t=this.Be();return t.right.left.Oe()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Me())).$e()).Be()),t},t.prototype.Le=function(){var t=this.Be();return t.left.left.Oe()&&(t=(t=t.Me()).Be()),t},t.prototype.$e=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Me=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Be=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.qe=function(){var t=this.Ue();return Math.pow(2,t)<=this.size+1},t.prototype.Ue=function(){if(this.Oe()&&this.left.Oe())throw al();if(this.right.Oe())throw al();var t=this.left.Ue();if(t!==this.right.Ue())throw al();return t+(this.Oe()?0:1)},t}();Qf.EMPTY=null,Qf.RED=!0,Qf.me=!1,Qf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw al()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ie=function(t,e,n){return new Qf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.bt=function(){return!0},t.prototype.Pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ae=function(){return null},t.prototype.Re=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.qe=function(){return!0},t.prototype.Ue=function(){return 0},t}());var Yf=function(){function t(t){this.At=t,this.data=new Wf(this.At)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ae()},t.prototype.last=function(){return this.data.Re()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pe(function(e,n){return t(e),!1})},t.prototype.Qe=function(t,e){for(var n=this.data.Ve(t[0]);n.Ce();){var r=n.De();if(this.At(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ke=function(t,e){var n;for(n=void 0!==e?this.data.Ve(e):this.data.ge();n.Ce();)if(!t(n.De().key))return},t.prototype.We=function(t){var e=this.data.Ve(t);return e.Ce()?e.De().key:null},t.prototype.ge=function(){return new Jf(this.data.ge())},t.prototype.Ve=function(t){return new Jf(this.data.Ve(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ie(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.bt=function(){return this.data.bt()},t.prototype.je=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ge(),r=e.data.ge();n.Ce();){var i=n.De().key,o=r.De().key;if(0!==this.At(i,o))return!1}return!0},t.prototype.Dt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.At);return n.data=e,n},t}(),Jf=function(){function t(t){this.Ge=t}return t.prototype.De=function(){return this.Ge.De().key},t.prototype.Ce=function(){return this.Ge.Ce()},t}(),Zf=new Wf(Yl.At);function Xf(){return Zf}function td(){return Xf()}var ed=new Wf(Yl.At);function nd(){return ed}var rd=new Wf(Yl.At);function id(){return rd}var od=new Yf(Yl.At);function sd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=od,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ad=new Yf(fl);function ud(){return ad}var cd=function(){function t(t){this.At=t?function(e,n){return t(e,n)||Yl.At(e.key,n.key)}:function(t,e){return Yl.At(t.key,e.key)},this.ze=nd(),this.He=new Wf(this.At)}return t.Je=function(e){return new t(e.At)},t.prototype.has=function(t){return null!=this.ze.get(t)},t.prototype.get=function(t){return this.ze.get(t)},t.prototype.first=function(){return this.He.Ae()},t.prototype.last=function(){return this.He.Re()},t.prototype.bt=function(){return this.He.bt()},t.prototype.indexOf=function(t){var e=this.ze.get(t);return e?this.He.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.He.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.He.Pe(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ze.Ie(t.key,t),e.He.Ie(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ze.remove(t),this.He.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.He.ge(),r=e.He.ge();n.Ce();){var i=n.De().key,o=r.De().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.At=this.At,r.ze=e,r.He=n,r},t}(),ld=function(){function t(){this.Ye=new Wf(Yl.At)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ye.get(e);n?0!==t.type&&3===n.type?this.Ye=this.Ye.Ie(e,t):3===t.type&&1!==n.type?this.Ye=this.Ye.Ie(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ye=this.Ye.Ie(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ye=this.Ye.remove(e):1===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):al():this.Ye=this.Ye.Ie(e,t)},t.prototype.Xe=function(){var t=[];return this.Ye.Pe(function(e,n){t.push(n)}),t},t}(),hd=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ze=n,this.docChanges=r,this.tn=i,this.fromCache=o,this.en=s,this.nn=a}return t.sn=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,cd.Je(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.tn.bt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.en===t.en&&this.tn.isEqual(t.tn)&&sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ze.isEqual(t.Ze)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),fd=function(){function t(t,e,n,r,i){this.oe=t,this.rn=e,this.on=n,this.cn=r,this.an=i}return t.un=function(e,n){var r=new Map;return r.set(e,dd.hn(e,n)),new t(Gl.min(),r,ud(),Xf(),sd())},t}(),dd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ln=e,this._n=n,this.fn=r,this.dn=i}return t.hn=function(e,n){return new t(gl.h,n,sd(),sd(),sd())},t}(),pd=function(t,e,n,r){this.wn=t,this.removedTargetIds=e,this.key=n,this.En=r},gd=function(t,e){this.targetId=t,this.Tn=e},md=function(t,e,n,r){void 0===n&&(n=gl.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},vd=function(){function t(){this.In=0,this.mn=wd(),this.An=gl.h,this.Rn=!1,this.Pn=!0}return Object.defineProperty(t.prototype,"ln",{get:function(){return this.Rn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yn",{get:function(){return 0!==this.In},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gn",{get:function(){return this.Pn},enumerable:!1,configurable:!0}),t.prototype.Vn=function(t){t.o()>0&&(this.Pn=!0,this.An=t)},t.prototype.pn=function(){var t=sd(),e=sd(),n=sd();return this.mn.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:al()}}),new dd(this.An,this.Rn,t,e,n)},t.prototype.bn=function(){this.Pn=!1,this.mn=wd()},t.prototype.vn=function(t,e){this.Pn=!0,this.mn=this.mn.Ie(t,e)},t.prototype.Sn=function(t){this.Pn=!0,this.mn=this.mn.remove(t)},t.prototype.Dn=function(){this.In+=1},t.prototype.Cn=function(){this.In-=1},t.prototype.xn=function(){this.Pn=!0,this.Rn=!0},t}(),yd=function(){function t(t){this.Nn=t,this.Fn=new Map,this.On=Xf(),this.kn=bd(),this.Mn=new Yf(fl)}return t.prototype.Ln=function(t){for(var e=0,n=t.wn;e<n.length;e++){var r=n[e];t.En instanceof Ch?this.$n(r,t.En):t.En instanceof xh&&this.Bn(r,t.key,t.En)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Bn(r=o[i],t.key,t.En)},t.prototype.qn=function(t){var e=this;this.Un(t,function(n){var r=e.Qn(n);switch(t.state){case 0:e.Kn(n)&&r.Vn(t.resumeToken);break;case 1:r.Cn(),r.yn||r.bn(),r.Vn(t.resumeToken);break;case 2:r.Cn(),r.yn||e.removeTarget(n);break;case 3:e.Kn(n)&&(r.xn(),r.Vn(t.resumeToken));break;case 4:e.Kn(n)&&(e.Wn(n),r.Vn(t.resumeToken));break;default:al()}})},t.prototype.Un=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fn.forEach(function(t,r){n.Kn(r)&&e(r)})},t.prototype.jn=function(t){var e=t.targetId,n=t.Tn.count,r=this.Gn(e);if(r){var i=r.target;if(Nh(i))if(0===n){var o=new Yl(i.path);this.Bn(e,o,new xh(o,Gl.min()))}else ul(1===n);else this.zn(e)!==n&&(this.Wn(e),this.Mn=this.Mn.add(e))}},t.prototype.Hn=function(t){var e=this,n=new Map;this.Fn.forEach(function(r,i){var o=e.Gn(i);if(o){if(r.ln&&Nh(o.target)){var s=new Yl(o.target.path);null!==e.On.get(s)||e.Jn(i,s)||e.Bn(i,s,new xh(s,t))}r.gn&&(n.set(i,r.pn()),r.bn())}});var r=sd();this.kn.forEach(function(t,n){var i=!0;n.Ke(function(t){var n=e.Gn(t);return!n||2===n.re||(i=!1,!1)}),i&&(r=r.add(t))});var i=new fd(t,n,this.Mn,this.On,r);return this.On=Xf(),this.kn=bd(),this.Mn=new Yf(fl),i},t.prototype.$n=function(t,e){if(this.Kn(t)){var n=this.Jn(t,e.key)?2:0;this.Qn(t).vn(e.key,n),this.On=this.On.Ie(e.key,e),this.kn=this.kn.Ie(e.key,this.Yn(e.key).add(t))}},t.prototype.Bn=function(t,e,n){if(this.Kn(t)){var r=this.Qn(t);this.Jn(t,e)?r.vn(e,1):r.Sn(e),this.kn=this.kn.Ie(e,this.Yn(e).delete(t)),n&&(this.On=this.On.Ie(e,n))}},t.prototype.removeTarget=function(t){this.Fn.delete(t)},t.prototype.zn=function(t){var e=this.Qn(t).pn();return this.Nn.Xn(t).size+e._n.size-e.dn.size},t.prototype.Dn=function(t){this.Qn(t).Dn()},t.prototype.Qn=function(t){var e=this.Fn.get(t);return e||(e=new vd,this.Fn.set(t,e)),e},t.prototype.Yn=function(t){var e=this.kn.get(t);return e||(e=new Yf(fl),this.kn=this.kn.Ie(t,e)),e},t.prototype.Kn=function(t){var e=null!==this.Gn(t);return e||rl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Gn=function(t){var e=this.Fn.get(t);return e&&e.yn?null:this.Nn.Zn(t)},t.prototype.Wn=function(t){var e=this;this.Fn.set(t,new vd),this.Nn.Xn(t).forEach(function(n){e.Bn(t,n,null)})},t.prototype.Jn=function(t,e){return this.Nn.Xn(t).has(e)},t}();function bd(){return new Wf(Yl.At)}function wd(){return new Wf(Yl.At)}var _d={asc:"ASCENDING",desc:"DESCENDING"},Od={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ed=function(t,e){this.O=t,this.he=e};function Id(t,e){return t.he?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cd(t,e){return t.he?e.toBase64():e.toUint8Array()}function xd(t,e){return Id(t,e.Tt())}function Td(t){return ul(!!t),Gl.wt(function(t){var e=nh(t);return new Bl(e.seconds,e.nanos)}(t))}function Sd(t,e){return function(t){return new Wl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).Ct()}function Ad(t){var e=Wl.xt(t);return ul(Xd(e)),e}function jd(t,e){return Sd(t.O,e.path)}function kd(t,e){var n=Ad(e);if(n.get(1)!==t.O.projectId)throw new vl(ml.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.O.projectId);if(n.get(3)!==t.O.database)throw new vl(ml.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.O.database);return new Yl(Rd(n))}function Nd(t,e){return Sd(t.O,e)}function Pd(t){var e=Ad(t);return 4===e.length?Wl.Nt():Rd(e)}function Dd(t){return new Wl(["projects",t.O.projectId,"databases",t.O.database]).Ct()}function Rd(t){return ul(t.length>4&&"documents"===t.get(4)),t.Pt(5)}function Vd(t,e,n){return{name:jd(t,e),fields:n.proto.mapValue.fields}}function Ld(t,e,n){var r=kd(t,e.name),i=Td(e.updateTime),o=new _h({mapValue:{fields:e.fields}});return new Ch(r,i,o,{hasCommittedMutations:!!n})}function Md(t,e){var n;if(e instanceof Mf)n={update:Vd(t,e.key,e.value)};else if(e instanceof Bf)n={delete:jd(t,e.key)};else if(e instanceof Uf)n={update:Vd(t,e.key,e.data),updateMask:Zd(e.Te)};else{if(!(e instanceof Gf))return al();n={verify:jd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof wf)return{fieldPath:e.field.Ct(),setToServerValue:"REQUEST_TIME"};if(n instanceof _f)return{fieldPath:e.field.Ct(),appendMissingElements:{values:n.elements}};if(n instanceof Ef)return{fieldPath:e.field.Ct(),removeAllFromArray:{values:n.elements}};if(n instanceof Cf)return{fieldPath:e.field.Ct(),increment:n._e};throw al()}(0,t)})),e.Ee.we||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:al()}(t,e.Ee)),n}function Ud(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?jf.updateTime(Td(t.updateTime)):void 0!==t.exists?jf.exists(t.exists):jf.de()}(e.currentDocument):jf.de(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ul("REQUEST_TIME"===e.setToServerValue),n=new wf):"appendMissingElements"in e?n=new _f(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ef(e.removeAllFromArray.values||[]):"increment"in e?n=new Cf(t,e.increment):al();var r=Ql.Mt(e.fieldPath);return new Sf(r,n)}(t,e)}):[];if(e.update){var i=kd(t,e.update.name),o=new _h({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new th((t.fieldPaths||[]).map(function(t){return Ql.Mt(t)}))}(e.updateMask);return new Uf(i,o,s,n,r)}return new Mf(i,o,n,r)}if(e.delete){var a=kd(t,e.delete);return new Bf(a,n)}if(e.verify){var u=kd(t,e.verify);return new Gf(u,n)}return al()}function Fd(t,e){return{documents:[Nd(t,e.path)]}}function qd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Nd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Nd(t,r.yt()),n.structuredQuery.from=[{collectionId:r.Vt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(bh(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NAN"}};if(yh(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bh(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NAN"}};if(yh(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(t.field),op:Wd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Kd(t.field),direction:$d(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.he||Pl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Bd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bd(e.endAt)),n}function Hd(t){var e=Pd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ul(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=zd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Bh(Qd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Pl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Gd(n.startAt));var l=null;return n.endAt&&(l=Gd(n.endAt)),Qh(e,i,a,s,u,"F",c,l)}function zd(t){return t?void 0!==t.unaryFilter?[Jd(t)]:void 0!==t.fieldFilter?[Yd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return zd(t)}).reduce(function(t,e){return t.concat(e)}):al():[]}function Bd(t){return{before:t.before,values:t.position}}function Gd(t){return new Hh(t.values||[],!!t.before)}function $d(t){return _d[t]}function Wd(t){return Od[t]}function Kd(t){return{fieldPath:t.Ct()}}function Qd(t){return Ql.Mt(t.fieldPath)}function Yd(t){return Ph.create(Qd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return al()}}(t.fieldFilter.op),t.fieldFilter.value)}function Jd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qd(t.unaryFilter.field);return Ph.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qd(t.unaryFilter.field);return Ph.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qd(t.unaryFilter.field);return Ph.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qd(t.unaryFilter.field);return Ph.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return al()}}function Zd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.Ct())}),{fieldPaths:e}}function Xd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function tp(t){return new Ed(t,!0)}var ep=function(){function t(t){var e=this;this.ts=null,this.es=null,this.result=void 0,this.error=void 0,this.ns=!1,this.ss=!1,t(function(t){e.ns=!0,e.result=t,e.ts&&e.ts(t)},function(t){e.ns=!0,e.error=t,e.es&&e.es(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.ss&&al(),this.ss=!0,this.ns?this.error?this.rs(n,this.error):this.os(e,this.result):new t(function(t,i){r.ts=function(n){r.os(e,n).next(t,i)},r.es=function(e){r.rs(n,e).next(t,i)}})},t.prototype.cs=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.us=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.os=function(e,n){return e?this.us(function(){return e(n)}):t.resolve(n)},t.prototype.rs=function(e,n){return e?this.us(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.hs=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.ls=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.hs(r)},t}(),np=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this._s=new Hl,this.transaction.oncomplete=function(){n._s.resolve()},this.transaction.onabort=function(){e.error?n._s.reject(new op(t,e.error)):n._s.resolve()},this.transaction.onerror=function(e){var r=lp(e.target.error);n._s.reject(new op(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new op(n,e)}},Object.defineProperty(t.prototype,"fs",{get:function(){return this._s.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this._s.reject(t),this.aborted||(rl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ap(e)},t}(),rp=function(){function t(e,n,r){this.name=e,this.version=n,this.ds=r,12.2===t.ws(Object(Zo.g)())&&il("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return rl("SimpleDb","Removing database:",t),up(window.indexedDB.deleteDatabase(t)).cs()},t.G=function(){if("undefined"==typeof indexedDB)return!1;if(t.Es())return!0;var e=Object(Zo.g)(),n=t.ws(e),r=0<n&&n<10,i=t.Ts(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Es=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Is)},t.As=function(t,e){return t.store(e)},t.ws=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ts=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Rs=function(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n=this;return Object(tl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(rl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new op(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new vl(ml.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new op(t,n))},i.onupgradeneeded=function(t){rl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.ds.Ps(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){rl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.ys&&(this.db.onversionchange=function(t){return n.ys(t)}),this.db)]}})})},t.prototype.gs=function(t){this.ys=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(tl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Rs(t)];case 2:return a.db=h.sent(),e=np.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),ep.reject(t)}).cs(),u={},s.catch(function(){}),[4,e.fs];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return rl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ip=function(){function t(t){this.Vs=t,this.ps=!1,this.bs=null}return Object.defineProperty(t.prototype,"ns",{get:function(){return this.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vs",{get:function(){return this.bs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Vs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ps=!0},t.prototype.Ss=function(t){this.bs=t},t.prototype.delete=function(){return up(this.Vs.delete())},t}(),op=function(t){function e(e,n){var r=this;return(r=t.call(this,ml.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(tl.c)(e,t),e}(vl);function sp(t){return"IndexedDbTransactionError"===t.name}var ap=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(rl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(rl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),up(n)},t.prototype.add=function(t){return rl("SimpleDb","ADD",this.store.name,t,t),up(this.store.add(t))},t.prototype.get=function(t){var e=this;return up(this.store.get(t)).next(function(n){return void 0===n&&(n=null),rl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return rl("SimpleDb","DELETE",this.store.name,t),up(this.store.delete(t))},t.prototype.count=function(){return rl("SimpleDb","COUNT",this.store.name),up(this.store.count())},t.prototype.Ds=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.xs=function(t,e){rl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ns=!1;var r=this.cursor(n);return this.Cs(r,function(t,e,n){return n.delete()})},t.prototype.Fs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Cs(r,e)},t.prototype.Os=function(t){var e=this.cursor({});return new ep(function(n,r){e.onerror=function(t){var e=lp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Cs=function(t,e){var n=[];return new ep(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ip(i),s=e(i.primaryKey,i.value,o);if(s instanceof ep){var a=s.catch(function(t){return o.done(),ep.reject(t)});n.push(a)}o.ns?r():null===o.vs?i.continue():i.continue(o.vs)}else r()}}).next(function(){return ep.hs(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function up(t){return new ep(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=lp(t.target.error);n(e)}})}var cp=!1;function lp(t){var e=rp.ws(Object(Zo.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new vl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cp||(cp=!0,setTimeout(function(){throw r},0)),r}}return t}var hp=function(){function t(t,e,n,r,i){this.ks=t,this.Ms=e,this.Ls=n,this.op=r,this.$s=i,this.Bs=new Hl,this.then=this.Bs.promise.then.bind(this.Bs.promise),this.Bs.promise.catch(function(t){})}return t.qs=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Us=setTimeout(function(){return e.Qs()},t)},t.prototype.Ks=function(){return this.Qs()},t.prototype.cancel=function(t){null!==this.Us&&(this.clearTimeout(),this.Bs.reject(new vl(ml.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Qs=function(){var t=this;this.ks.Ws(function(){return null!==t.Us?(t.clearTimeout(),t.op().then(function(e){return t.Bs.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Us&&(this.$s(this),clearTimeout(this.Us),this.Us=null)},t}();function fp(t,e){if(il("AsyncQueue",e+": "+t),sp(t))return new vl(ml.UNAVAILABLE,e+": "+t);throw t}var dp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.js=t,this.Ms=e,this.Gs=n,this.zs=r,this.Hs=i,this.Js=0,this.Ys=null,this.Xs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Js=0},t.prototype.Zs=function(){this.Js=this.Hs},t.prototype.ti=function(t){var e=this;this.cancel();var n=Math.floor(this.Js+this.ei()),r=Math.max(0,Date.now()-this.Xs),i=Math.max(0,n-r);i>0&&rl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Js+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ys=this.js.ni(this.Ms,i,function(){return e.Xs=Date.now(),t()}),this.Js*=this.zs,this.Js<this.Gs&&(this.Js=this.Gs),this.Js>this.Hs&&(this.Js=this.Hs)},t.prototype.si=function(){null!==this.Ys&&(this.Ys.Ks(),this.Ys=null)},t.prototype.cancel=function(){null!==this.Ys&&(this.Ys.cancel(),this.Ys=null)},t.prototype.ei=function(){return(Math.random()-.5)*this.Js},t}(),pp=function(){function t(t,e,n,r,i,o){this.js=t,this.ii=n,this.ri=r,this.oi=i,this.listener=o,this.state=0,this.ci=0,this.ai=null,this.stream=null,this.ui=new dp(t,e)}return t.prototype.hi=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.li=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._i()},t.prototype.stop=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return this.hi()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.fi=function(){this.state=0,this.ui.reset()},t.prototype.di=function(){var t=this;this.li()&&null===this.ai&&(this.ai=this.js.ni(this.ii,6e4,function(){return t.wi()}))},t.prototype.Ei=function(t){this.Ti(),this.stream.send(t)},t.prototype.wi=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){return this.li()?[2,this.close(0)]:[2]})})},t.prototype.Ti=function(){this.ai&&(this.ai.cancel(),this.ai=null)},t.prototype.close=function(t,e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){switch(n.label){case 0:return this.Ti(),this.ui.cancel(),this.ci++,3!==t?this.ui.reset():e&&e.code===ml.RESOURCE_EXHAUSTED?(il(e.toString()),il("Using maximum backoff delay to prevent overloading the backend."),this.ui.Zs()):e&&e.code===ml.UNAUTHENTICATED&&this.oi.g(),null!==this.stream&&(this.Ii(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Z(e)];case 1:return n.sent(),[2]}})})},t.prototype.Ii=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mi(this.ci),n=this.ci;this.oi.getToken().then(function(e){t.ci===n&&t.Ai(e)},function(n){e(function(){var e=new vl(ml.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ri(e)})})},t.prototype.Ai=function(t){var e=this,n=this.mi(this.ci);this.stream=this.Pi(t),this.stream.Y(function(){n(function(){return e.state=2,e.listener.Y()})}),this.stream.Z(function(t){n(function(){return e.Ri(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype._i=function(){var t=this;this.state=4,this.ui.ti(function(){return Object(tl.b)(t,void 0,void 0,function(){return Object(tl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Ri=function(t){return rl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mi=function(t){var e=this;return function(n){e.js.Ws(function(){return e.ci===t?n():(rl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),gp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).fe=i,s}return Object(tl.c)(e,t),e.prototype.Pi=function(t){return this.ri.ft("Listen",t)},e.prototype.onMessage=function(t){this.ui.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:al()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.he?(ul(void 0===e||"string"==typeof e),gl.fromBase64String(e||"")):(ul(void 0===e||e instanceof Uint8Array),gl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ml.UNKNOWN:Fl(t.code);return new vl(e,t.message||"")}(a);n=new md(r,i,o,s||null)}else if("documentChange"in e){i=kd(t,(r=e.documentChange).document.name),o=Td(r.document.updateTime);var a=new _h({mapValue:{fields:r.document.fields}}),u=(s=new Ch(i,o,a,{}),r.targetIds||[]);n=new pd(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=kd(t,(r=e.documentDelete).document),o=r.readTime?Td(r.readTime):Gl.min(),a=new xh(i,o),n=new pd([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=kd(t,(r=e.documentRemove).document),n=new pd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return al();var c=e.filter;i=new $f(r=c.count||0),n=new gd(o=c.targetId,i)}return n}(this.fe,t),n=function(t){if(!("targetChange"in t))return Gl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Gl.min():e.readTime?Td(e.readTime):Gl.min()}(t);return this.listener.yi(e,n)},e.prototype.gi=function(t){var e={};e.database=Dd(this.fe),e.addTarget=function(t,e){var n,r=e.target;return(n=Nh(r)?{documents:Fd(t,r)}:{query:qd(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Cd(t,e.resumeToken):e.oe.u(Gl.min())>0&&(n.readTime=Id(t,e.oe.Tt())),n}(this.fe,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return al()}}(0,e.re);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Ei(e)},e.prototype.Vi=function(t){var e={};e.database=Dd(this.fe),e.removeTarget=t,this.Ei(e)},e}(pp),mp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).fe=i,s.pi=!1,s}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"bi",{get:function(){return this.pi},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.pi=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Ii=function(){this.pi&&this.vi([])},e.prototype.Pi=function(t){return this.ri.ft("Write",t)},e.prototype.onMessage=function(t){if(ul(!!t.streamToken),this.lastStreamToken=t.streamToken,this.pi){this.ui.reset();var e=function(t,e){return t&&t.length>0?(ul(void 0!==e),t.map(function(t){return function(t,e){var n=Td(t.updateTime?t.updateTime:e);n.isEqual(Gl.min())&&(n=Td(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Af(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Td(t.commitTime);return this.listener.Si(n,e)}return ul(!t.writeResults||0===t.writeResults.length),this.pi=!0,this.listener.Di()},e.prototype.Ci=function(){var t={};t.database=Dd(this.fe),this.Ei(t)},e.prototype.vi=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Md(e.fe,t)})};this.Ei(n)},e}(pp),vp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ri=n,i.fe=r,i.xi=!1,i}return Object(tl.c)(e,t),e.prototype.Ni=function(){if(this.xi)throw new vl(ml.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.at=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then(function(i){return r.ri.at(t,e,n,i)}).catch(function(t){throw t.code===ml.UNAUTHENTICATED&&r.credentials.g(),t})},e.prototype._t=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then(function(i){return r.ri._t(t,e,n,i)}).catch(function(t){throw t.code===ml.UNAUTHENTICATED&&r.credentials.g(),t})},e.prototype.terminate=function(){this.xi=!1},e}(function(){}),yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bp=function(){function t(){this.Fi=[]}return t.prototype.Oi=function(t){this.Fi.push(t)},t.prototype.ki=function(){this.Fi.forEach(function(t){return t()})},t}(),wp={Mi:!1,Li:0,$i:0,Bi:0},_p=function(){function t(t,e,n){this.qi=t,this.Ui=e,this.Qi=n}return t.Ki=function(e){return new t(e,t.Wi,t.ji)},t}();_p.Wi=10,_p.ji=1e3,_p.Gi=new _p(41943040,_p.Wi,_p.ji),_p.zi=new _p(-1,0,0);var Op=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Hi=function(t){return n.Ji(t)},this.Yi=function(t){return e.Xi(t)})}return t.prototype.Ji=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Yi&&this.Yi(t),t},t}();function Ep(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){if(t.code!==ml.FAILED_PRECONDITION||t.message!==yp)throw t;return rl("LocalStore","Unexpectedly lost primary lease"),[2]})})}Op.Zi=-1;var Ip=function(t,e){this.progress=t,this.tr=e},Cp=function(){function t(t,e,n,r){this.batchId=t,this.er=e,this.baseMutations=n,this.mutations=r}return t.prototype.nr=function(t,e,n){for(var r=n.sr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Pf(o,e,r[i]))}return e},t.prototype.ir=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Df(i,e,e,this.er))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Df(u,e,o,this.er))}return e},t.prototype.rr=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.ir(r.key,t.get(r.key));i&&(n=n.Ie(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},sd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&dl(this.mutations,t.mutations,function(t,e){return Vf(t,e)})&&dl(this.baseMutations,t.baseMutations,function(t,e){return Vf(t,e)})},t}(),xp=function(){function t(t,e,n,r){this.batch=t,this.cr=e,this.sr=n,this.ar=r}return t.from=function(e,n,r){ul(e.mutations.length===r.length);for(var i=id(),o=e.mutations,s=0;s<o.length;s++)i=i.Ie(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Tp=function(){function t(t,e){this.ur=t,this.hr=e,this.lr={}}return t.prototype.get=function(t){var e=this.ur(t),n=this.lr[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.hr(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ur(t),r=this.lr[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.hr(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.lr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ur(t),n=this.lr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.hr(n[r][0],t))return 1===n.length?delete this.lr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Zl(this.lr,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.bt=function(){return Xl(this.lr)},t}(),Sp=function(){function t(){this._r=new Tp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.dr=!1}return t.prototype.wr=function(t){var e=this._r.get(t);return e?e.readTime:Gl.min()},t.prototype.Er=function(t,e){this.Tr(),this._r.set(t.key,{Ir:t,readTime:e})},t.prototype.mr=function(t,e){void 0===e&&(e=null),this.Tr(),this._r.set(t,{Ir:null,readTime:e})},t.prototype.Ar=function(t,e){this.Tr();var n=this._r.get(e);return void 0!==n?ep.resolve(n.Ir):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Tr(),this.dr=!0,this.yr(t)},t.prototype.Tr=function(){},t}();function Ap(t,e){var n=t[1],r=e[1],i=fl(t[0],e[0]);return 0===i?fl(n,r):i}var jp=function(){function t(t){this.gr=t,this.buffer=new Yf(Ap),this.Vr=0}return t.prototype.pr=function(){return++this.Vr},t.prototype.br=function(t){var e=[t,this.pr()];if(this.buffer.size<this.gr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ap(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kp=function(){function t(t,e){this.vr=t,this.ks=e,this.Sr=!1,this.Dr=null}return t.prototype.start=function(t){-1!==this.vr.params.qi&&this.Cr(t)},t.prototype.stop=function(){this.Dr&&(this.Dr.cancel(),this.Dr=null)},Object.defineProperty(t.prototype,"Nr",{get:function(){return null!==this.Dr},enumerable:!1,configurable:!0}),t.prototype.Cr=function(t){var e=this,n=this.Sr?3e5:6e4;rl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Dr=this.ks.ni("lru_garbage_collection",n,function(){return Object(tl.b)(e,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:this.Dr=null,this.Sr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Fr(this.vr)];case 2:return n.sent(),[3,7];case 3:return sp(e=n.sent())?(rl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ep(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Cr(t)];case 8:return n.sent(),[2]}})})})},t}(),Np=function(){function t(t,e){this.Or=t,this.params=e}return t.prototype.kr=function(t,e){return this.Or.Mr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Lr=function(t,e){var n=this;if(0===e)return ep.resolve(Op.Zi);var r=new jp(e);return this.Or.Un(t,function(t){return r.br(t.sequenceNumber)}).next(function(){return n.Or.$r(t,function(t){return r.br(t)})}).next(function(){return r.maxValue})},t.prototype.Br=function(t,e,n){return this.Or.Br(t,e,n)},t.prototype.qr=function(t,e){return this.Or.qr(t,e)},t.prototype.Ur=function(t,e){var n=this;return-1===this.params.qi?(rl("LruGarbageCollector","Garbage collection skipped; disabled"),ep.resolve(wp)):this.Qr(t).next(function(r){return r<n.params.qi?(rl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.qi),wp):n.Kr(t,e)})},t.prototype.Qr=function(t){return this.Or.Qr(t)},t.prototype.Kr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.kr(t,this.params.Ui).next(function(e){return e>c.params.Qi?(rl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Qi+" from "+e),r=c.params.Qi):r=e,o=Date.now(),c.Lr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Br(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.qr(t,n)}).next(function(t){return u=Date.now(),nl()<=Jo.a.DEBUG&&rl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ep.resolve({Mi:!0,Li:r,$i:i,Bi:t})})},t}();function Pp(t,e,n){if(!n)throw new vl(ml.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Dp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vl(ml.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Rp(t,e,n,r){if(!0===e&&!0===r)throw new vl(ml.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Vp(t){if(!Yl.qt(t))throw new vl(ml.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Lp(t){if(Yl.qt(t))throw new vl(ml.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Mp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":al()}function Up(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new vl(ml.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mp(t);throw new vl(ml.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fp(t,e){if(e<=0)throw new vl(ml.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var qp=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new vl(ml.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vl(ml.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Rp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Hp=new Map,zp=function(){function t(t,e){this.Wr="(lite)",this.jr=new qp({}),this.Gr=!1,t instanceof jl?(this.zr=t,this.Hr=new Cl):(this.Jr=t,this.zr=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new vl(ml.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(t.options.projectId)}(t),this.Hr=new xl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Jr)throw new vl(ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Jr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Gr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xr",{get:function(){return void 0!==this.Zr},enumerable:!1,configurable:!0}),t.prototype.eo=function(t){if(this.Gr)throw new vl(ml.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.jr=new qp(t),void 0!==t.credentials&&(this.Hr=function(t){if(!t)return new Cl;switch(t.type){case"gapi":var e=t.client;return ul(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Sl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new vl(ml.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.no=function(){return this.jr},t.prototype.so=function(){return this.Gr=!0,this.jr},t.prototype._delete=function(){return this.Zr||(this.Zr=this.io()),this.Zr},t.prototype.io=function(){return(t=Hp.get(this))&&(rl("ComponentProvider","Removing Datastore"),Hp.delete(this),t.terminate()),Promise.resolve();var t},t}();function Bp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=$p(e)),e=Gp(t.get(n),e);return $p(e)}function Gp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $p(t){return t+"\x01\x01"}function Wp(t){var e=t.length;if(ul(e>=2),2===e)return ul("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wl.Nt();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&al(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:al()}o=s+2}return new Wl(r)}var Kp=function(t,e){this.seconds=t,this.nanoseconds=e},Qp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qp.store="owner",Qp.key="owner";var Yp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Yp.store="mutationQueues",Yp.keyPath="userId";var Jp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Jp.store="mutations",Jp.keyPath="batchId",Jp.userMutationsIndex="userMutationsIndex",Jp.userMutationsKeyPath=["userId","batchId"];var Zp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Bp(e)]},t.key=function(t,e,n){return[t,Bp(e),n]},t}();Zp.store="documentMutations",Zp.PLACEHOLDER=new Zp;var Xp=function(t,e){this.path=t,this.readTime=e},tg=function(t,e){this.path=t,this.version=e},eg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};eg.store="remoteDocuments",eg.readTimeIndex="readTimeIndex",eg.readTimeIndexPath="readTime",eg.collectionReadTimeIndex="collectionReadTimeIndex",eg.collectionReadTimeIndexPath=["parentPath","readTime"];var ng=function(t){this.byteSize=t};ng.store="remoteDocumentGlobal",ng.key="remoteDocumentGlobalKey";var rg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};rg.store="targets",rg.keyPath="targetId",rg.queryTargetsIndexName="queryTargetsIndex",rg.queryTargetsKeyPath=["canonicalId","targetId"];var ig=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ig.store="targetDocuments",ig.keyPath=["targetId","path"],ig.documentTargetsIndex="documentTargetsIndex",ig.documentTargetsKeyPath=["path","targetId"];var og=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};og.key="targetGlobalKey",og.store="targetGlobal";var sg=function(t,e){this.collectionId=t,this.parent=e};sg.store="collectionParents",sg.keyPath=["collectionId","parent"];var ag=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ag.store="clientMetadata",ag.keyPath="clientId";var ug=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ug.store="bundles",ug.keyPath="bundleId";var cg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cg.store="namedQueries",cg.keyPath="name";var lg=Object(tl.g)(Object(tl.g)(Object(tl.g)(Object(tl.g)([Yp.store,Jp.store,Zp.store,eg.store,rg.store,Qp.store,og.store,ig.store],[ag.store]),[ng.store]),[sg.store]),[ug.store,cg.store]),hg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ro=e,r.oo=n,r}return Object(tl.c)(e,t),e}(bp);function fg(t,e){var n=cl(t);return rp.As(n.ro,e)}var dg=function(t){this.co=t};function pg(t,e){if(e.document)return Ld(t.co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Yl.Ut(e.noDocument.path),r=bg(e.noDocument.readTime);return new xh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Yl.Ut(e.unknownDocument.path);return r=bg(e.unknownDocument.version),new Th(i,r)}return al()}function gg(t,e,n){var r=mg(n),i=e.key.path.yt().Dt();if(e instanceof Ch){var o=function(t,e){return{name:jd(t,e.key),fields:e.Yt().mapValue.fields,updateTime:Id(t,e.version.Tt())}}(t.co,e),s=e.hasCommittedMutations;return new eg(null,null,o,s,r,i)}if(e instanceof xh){var a=e.key.path.Dt(),u=yg(e.version);return s=e.hasCommittedMutations,new eg(null,new Xp(a,u),null,s,r,i)}if(e instanceof Th){var c=e.key.path.Dt(),l=yg(e.version);return new eg(new tg(c,l),null,null,!0,r,i)}return al()}function mg(t){var e=t.Tt();return[e.seconds,e.nanoseconds]}function vg(t){var e=new Bl(t[0],t[1]);return Gl.wt(e)}function yg(t){var e=t.Tt();return new Kp(e.seconds,e.nanoseconds)}function bg(t){var e=new Bl(t.seconds,t.nanoseconds);return Gl.wt(e)}function wg(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Ud(t.co,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return Ud(t.co,e)}),s=Bl.fromMillis(e.localWriteTimeMs);return new Cp(e.batchId,s,n,o)}function _g(t){var e,n,r=bg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?bg(t.lastLimboFreeSnapshotVersion):Gl.min();return void 0!==t.query.documents?(ul(1===(n=t.query).documents.length),e=rf(Yh(Pd(n.documents[0])))):e=function(t){return rf(Hd(t))}(t.query),new ff(e,t.targetId,0,t.lastListenSequenceNumber,r,i,gl.fromBase64String(t.resumeToken))}function Og(t,e){var n,r=yg(e.oe),i=yg(e.lastLimboFreeSnapshotVersion);n=Nh(e.target)?Fd(t.co,e.target):qd(t.co,e.target);var o=e.resumeToken.toBase64();return new rg(e.targetId,jh(e.target),r,o,e.sequenceNumber,i,n)}function Eg(t){var e=Hd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?of(e,e.limit,"L"):e}var Ig=function(){function t(){}return t.prototype.ao=function(t,e){return Cg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:bg(e.createTime),version:e.version};var e})},t.prototype.uo=function(t,e){return Cg(t).put({bundleId:(n=e).id,createTime:yg(Td(n.createTime)),version:n.version});var n},t.prototype.ho=function(t,e){return xg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Eg(e.bundledQuery),readTime:bg(e.readTime)};var e})},t.prototype.lo=function(t,e){return xg(t).put(function(t){return{name:t.name,readTime:yg(Td(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Cg(t){return fg(t,ug.store)}function xg(t){return fg(t,cg.store)}var Tg=function(){function t(){this._o=new Sg}return t.prototype.fo=function(t,e){return this._o.add(e),ep.resolve()},t.prototype.wo=function(t,e){return ep.resolve(this._o.getEntries(e))},t}(),Sg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e]||new Yf(Wl.At),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Yf(Wl.At)).Dt()},t}(),Ag=function(){function t(){this.Eo=new Sg}return t.prototype.fo=function(t,e){var n=this;if(!this.Eo.has(e)){var r=e.Vt(),i=e.yt();t.Oi(function(){n.Eo.add(e)});var o={collectionId:r,parent:Bp(i)};return jg(t).put(o)}return ep.resolve()},t.prototype.wo=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[pl(e),""],!1,!0);return jg(t).Ds(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wp(o.parent))}return n})},t}();function jg(t){return fg(t,sg.store)}function kg(t,e,n){var r=t.store(Jp.store),i=t.store(Zp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Fs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){ul(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Zp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ep.hs(o).next(function(){return c})}function Ng(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw al();e=t.noDocument}return JSON.stringify(e).length}var Pg=function(){function t(t,e,n,r){this.userId=t,this.fe=e,this.To=n,this.Io=r,this.mo={}}return t.Ao=function(e,n,r,i){return ul(""!==e.uid),new t(e.T()?e.uid:"",n,r,i)},t.prototype.Ro=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rg(t).Fs({index:Jp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Po=function(t,e,n,r){var i=this,o=Vg(t),s=Rg(t);return s.add({}).next(function(a){ul("number"==typeof a);for(var u=new Cp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Md(t.co,e)}),i=n.mutations.map(function(e){return Md(t.co,e)});return new Jp(e,n.batchId,n.er.toMillis(),r,i)}(i.fe,i.userId,u),l=[],h=new Yf(function(t,e){return fl(t.Ct(),e.Ct())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Zp.key(i.userId,p.key.path,a);h=h.add(p.key.path.yt()),l.push(s.put(c)),l.push(o.put(g,Zp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.To.fo(t,e))}),t.Oi(function(){i.mo[a]=u.keys()}),ep.hs(l).next(function(){return u})})},t.prototype.yo=function(t,e){var n=this;return Rg(t).get(e).next(function(t){return t?(ul(t.userId===n.userId),wg(n.fe,t)):null})},t.prototype.Vo=function(t,e){var n=this;return this.mo[e]?ep.resolve(this.mo[e]):this.yo(t,e).next(function(t){if(t){var r=t.keys();return n.mo[e]=r,r}return null})},t.prototype.po=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Rg(t).Fs({index:Jp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ul(e.batchId>=r),o=wg(n.fe,e)),i.done()}).next(function(){return o})},t.prototype.bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rg(t).Fs({index:Jp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rg(t).Ds(Jp.userMutationsIndex,n).next(function(t){return t.map(function(t){return wg(e.fe,t)})})},t.prototype.So=function(t,e){var n=this,r=Zp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Vg(t).Fs({range:i},function(r,i,s){var a=r[0],u=r[2],c=Wp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Rg(t).get(u).next(function(t){if(!t)throw al();ul(t.userId===n.userId),o.push(wg(n.fe,t))});s.done()}).next(function(){return o})},t.prototype.Do=function(t,e){var n=this,r=new Yf(fl),i=[];return e.forEach(function(e){var o=Zp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Vg(t).Fs({range:s},function(t,i,o){var s=t[0],a=t[2],u=Wp(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),ep.hs(i).next(function(){return n.Co(t,r)})},t.prototype.xo=function(t,e){var n=this,r=e.path,i=r.length+1,o=Zp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Yf(fl);return Vg(t).Fs({range:s},function(t,e,o){var s=t[0],u=t[2],c=Wp(t[1]);s===n.userId&&r.vt(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Co(t,a)})},t.prototype.Co=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Rg(t).get(e).next(function(t){if(null===t)throw al();ul(t.userId===n.userId),r.push(wg(n.fe,t))}))}),ep.hs(i).next(function(){return r})},t.prototype.No=function(t,e){var n=this;return kg(t.ro,this.userId,e).next(function(r){return t.Oi(function(){n.Fo(e.batchId)}),ep.forEach(r,function(e){return n.Io.Oo(t,e)})})},t.prototype.Fo=function(t){delete this.mo[t]},t.prototype.ko=function(t){var e=this;return this.Ro(t).next(function(n){if(!n)return ep.resolve();var r=IDBKeyRange.lowerBound(Zp.prefixForUser(e.userId)),i=[];return Vg(t).Fs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Wp(t[1]);i.push(o)}else r.done()}).next(function(){ul(0===i.length)})})},t.prototype.Mo=function(t,e){return Dg(t,this.userId,e)},t.prototype.Lo=function(t){var e=this;return Lg(t).get(this.userId).next(function(t){return t||new Yp(e.userId,-1,"")})},t}();function Dg(t,e,n){var r=Zp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Vg(t).Fs({range:o,Ns:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Rg(t){return fg(t,Jp.store)}function Vg(t){return fg(t,Zp.store)}function Lg(t){return fg(t,Yp.store)}var Mg=function(){function t(t){this.$o=t}return t.prototype.next=function(){return this.$o+=2,this.$o},t.Bo=function(){return new t(0)},t.qo=function(){return new t(-1)},t}(),Ug=function(){function t(t,e){this.Io=t,this.fe=e}return t.prototype.Uo=function(t){var e=this;return this.Qo(t).next(function(n){var r=new Mg(n.highestTargetId);return n.highestTargetId=r.next(),e.Ko(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wo=function(t){return this.Qo(t).next(function(t){return Gl.wt(new Bl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.jo=function(t){return this.Qo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Go=function(t,e,n){var r=this;return this.Qo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Tt()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ko(t,i)})},t.prototype.zo=function(t,e){var n=this;return this.Ho(t,e).next(function(){return n.Qo(t).next(function(r){return r.targetCount+=1,n.Jo(e,r),n.Ko(t,r)})})},t.prototype.Yo=function(t,e){return this.Ho(t,e)},t.prototype.Xo=function(t,e){var n=this;return this.Zo(t,e.targetId).next(function(){return Fg(t).delete(e.targetId)}).next(function(){return n.Qo(t)}).next(function(e){return ul(e.targetCount>0),e.targetCount-=1,n.Ko(t,e)})},t.prototype.Br=function(t,e,n){var r=this,i=0,o=[];return Fg(t).Fs(function(s,a){var u=_g(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xo(t,u)))}).next(function(){return ep.hs(o)}).next(function(){return i})},t.prototype.Un=function(t,e){return Fg(t).Fs(function(t,n){var r=_g(n);e(r)})},t.prototype.Qo=function(t){return qg(t).get(og.key).next(function(t){return ul(null!==t),t})},t.prototype.Ko=function(t,e){return qg(t).put(og.key,e)},t.prototype.Ho=function(t,e){return Fg(t).put(Og(this.fe,e))},t.prototype.Jo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tc=function(t){return this.Qo(t).next(function(t){return t.targetCount})},t.prototype.ec=function(t,e){var n=jh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fg(t).Fs({range:r,index:rg.queryTargetsIndexName},function(t,n,r){var o=_g(n);kh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nc=function(t,e,n){var r=this,i=[],o=Hg(t);return e.forEach(function(e){var s=Bp(e.path);i.push(o.put(new ig(n,s))),i.push(r.Io.sc(t,n,e))}),ep.hs(i)},t.prototype.ic=function(t,e,n){var r=this,i=Hg(t);return ep.forEach(e,function(e){var o=Bp(e.path);return ep.hs([i.delete([n,o]),r.Io.rc(t,n,e)])})},t.prototype.Zo=function(t,e){var n=Hg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.oc=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hg(t),i=sd();return r.Fs({range:n,Ns:!0},function(t,e,n){var r=Wp(t[1]),o=new Yl(r);i=i.add(o)}).next(function(){return i})},t.prototype.Mo=function(t,e){var n=Bp(e.path),r=IDBKeyRange.bound([n],[pl(n)],!1,!0),i=0;return Hg(t).Fs({index:ig.documentTargetsIndex,Ns:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Zn=function(t,e){return Fg(t).get(e).next(function(t){return t?_g(t):null})},t}();function Fg(t){return fg(t,rg.store)}function qg(t){return fg(t,og.store)}function Hg(t){return fg(t,ig.store)}var zg=function(){function t(t,e){this.db=t,this.vr=function(t,e){return new Np(t,e)}(this,e)}return t.prototype.Mr=function(t){var e=this.cc(t);return this.db.ac().tc(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.cc=function(t){var e=0;return this.$r(t,function(t){e++}).next(function(){return e})},t.prototype.Un=function(t,e){return this.db.ac().Un(t,e)},t.prototype.$r=function(t,e){return this.uc(t,function(t,n){return e(n)})},t.prototype.sc=function(t,e,n){return Bg(t,n)},t.prototype.rc=function(t,e,n){return Bg(t,n)},t.prototype.Br=function(t,e,n){return this.db.ac().Br(t,e,n)},t.prototype.Oo=function(t,e){return Bg(t,e)},t.prototype.hc=function(t,e){return function(t,e){var n=!1;return Lg(t).Os(function(r){return Dg(t,r,e).next(function(t){return t&&(n=!0),ep.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.qr=function(t,e){var n=this,r=this.db._c().lc(),i=[],o=0;return this.uc(t,function(s,a){if(a<=e){var u=n.hc(t,s).next(function(e){if(!e)return o++,r.Ar(t,s).next(function(){return r.mr(s),Hg(t).delete([0,Bp(s.path)])})});i.push(u)}}).next(function(){return ep.hs(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.ce(t.oo);return this.db.ac().Yo(t,n)},t.prototype.fc=function(t,e){return Bg(t,e)},t.prototype.uc=function(t,e){var n,r=Hg(t),i=Op.Zi;return r.Fs({index:ig.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Op.Zi&&e(new Yl(Wp(n)),i),i=s,n=o):i=Op.Zi}).next(function(){i!==Op.Zi&&e(new Yl(Wp(n)),i)})},t.prototype.Qr=function(t){return this.db._c().dc(t)},t}();function Bg(t,e){return Hg(t).put(function(t,e){return new ig(0,Bp(t.path),e)}(e,t.oo))}var Gg=function(){function t(t,e){this.fe=t,this.To=e}return t.prototype.Er=function(t,e,n){return Kg(t).put(Qg(e),n)},t.prototype.mr=function(t,e){var n=Kg(t),r=Qg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.wc(t,r)})},t.prototype.Ar=function(t,e){var n=this;return Kg(t).get(Qg(e)).next(function(t){return n.Ec(t)})},t.prototype.Tc=function(t,e){var n=this;return Kg(t).get(Qg(e)).next(function(t){var e=n.Ec(t);return e?{Ir:e,size:Ng(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=td();return this.Ic(t,e,function(t,e){var i=n.Ec(e);r=r.Ie(t,i)}).next(function(){return r})},t.prototype.mc=function(t,e){var n=this,r=td(),i=new Wf(Yl.At);return this.Ic(t,e,function(t,e){var o=n.Ec(e);o?(r=r.Ie(t,o),i=i.Ie(t,Ng(e))):(r=r.Ie(t,null),i=i.Ie(t,0))}).next(function(){return{Ac:r,Rc:i}})},t.prototype.Ic=function(t,e,n){if(e.bt())return ep.resolve();var r=IDBKeyRange.bound(e.first().path.Dt(),e.last().path.Dt()),i=e.ge(),o=i.De();return Kg(t).Fs({range:r},function(t,e,r){for(var s=Yl.Ut(t);o&&Yl.At(o,s)<0;)n(o,null),o=i.De();o&&o.isEqual(s)&&(n(o,e),o=i.Ce()?i.De():null),o?r.Ss(o.path.Dt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Ce()?i.De():null})},t.prototype.Pc=function(t,e,n){var r=this,i=nd(),o=e.path.length+1,s={};if(n.isEqual(Gl.min())){var a=e.path.Dt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.Dt(),c=mg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=eg.collectionReadTimeIndex}return Kg(t).Fs(s,function(t,n,s){if(t.length===o){var a=pg(r.fe,n);e.path.vt(a.key.path)?a instanceof Ch&&cf(e,a)&&(i=i.Ie(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.lc=function(t){return new $g(this,!!t&&t.yc)},t.prototype.dc=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Wg(t).get(ng.key).next(function(t){return ul(!!t),t})},t.prototype.wc=function(t,e){return Wg(t).put(ng.key,e)},t.prototype.Ec=function(t){if(t){var e=pg(this.fe,t);return e instanceof xh&&e.version.isEqual(Gl.min())?null:e}return null},t}(),$g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).gc=e,r.yc=n,r.Vc=new Tp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(tl.c)(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new Yf(function(t,e){return fl(t.Ct(),e.Ct())});return this._r.forEach(function(o,s){var a=e.Vc.get(o);if(s.Ir){var u=gg(e.gc.fe,s.Ir,e.wr(o));i=i.add(o.path.yt());var c=Ng(u);r+=c-a,n.push(e.gc.Er(t,o,u))}else if(r-=a,e.yc){var l=gg(e.gc.fe,new xh(o,Gl.min()),e.wr(o));n.push(e.gc.Er(t,o,l))}else n.push(e.gc.mr(t,o))}),i.forEach(function(r){n.push(e.gc.To.fo(t,r))}),n.push(this.gc.updateMetadata(t,r)),ep.hs(n)},e.prototype.Rr=function(t,e){var n=this;return this.gc.Tc(t,e).next(function(t){return null===t?(n.Vc.set(e,0),null):(n.Vc.set(e,t.size),t.Ir)})},e.prototype.Pr=function(t,e){var n=this;return this.gc.mc(t,e).next(function(t){var e=t.Ac;return t.Rc.forEach(function(t,e){n.Vc.set(t,e)}),e})},e}(Sp);function Wg(t){return fg(t,ng.store)}function Kg(t){return fg(t,eg.store)}function Qg(t){return t.path.Dt()}var Yg=function(){function t(t){this.fe=t}return t.prototype.Ps=function(t,e,n,r){var i=this;ul(n<r&&n>=0&&r<=11);var o=new np("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qp.store)}(t),function(t){t.createObjectStore(Yp.store,{keyPath:Yp.keyPath}),t.createObjectStore(Jp.store,{keyPath:Jp.keyPath,autoIncrement:!0}).createIndex(Jp.userMutationsIndex,Jp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Zp.store)}(t),Jg(t),function(t){t.createObjectStore(eg.store)}(t));var s=ep.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ig.store),t.deleteObjectStore(rg.store),t.deleteObjectStore(og.store)}(t),Jg(t)),s=s.next(function(){return function(t){var e=t.store(og.store),n=new og(0,0,Gl.min().Tt(),0);return e.put(og.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Jp.store).Ds().next(function(n){t.deleteObjectStore(Jp.store),t.createObjectStore(Jp.store,{keyPath:Jp.keyPath,autoIncrement:!0}).createIndex(Jp.userMutationsIndex,Jp.userMutationsKeyPath,{unique:!0});var r=e.store(Jp.store),i=n.map(function(t){return r.put(t)});return ep.hs(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ag.store,{keyPath:ag.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.bc(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ng.store)}(t),i.vc(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Sc(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Dc(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(eg.store);e.createIndex(eg.readTimeIndex,eg.readTimeIndexPath,{unique:!1}),e.createIndex(eg.collectionReadTimeIndex,eg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Cc(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(ug.store,{keyPath:ug.keyPath})}(t),function(t){t.createObjectStore(cg.store,{keyPath:cg.keyPath})}(t)})),s},t.prototype.vc=function(t){var e=0;return t.store(eg.store).Fs(function(t,n){e+=Ng(n)}).next(function(){var n=new ng(e);return t.store(ng.store).put(ng.key,n)})},t.prototype.bc=function(t){var e=this,n=t.store(Yp.store),r=t.store(Jp.store);return n.Ds().next(function(n){return ep.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ds(Jp.userMutationsIndex,i).next(function(r){return ep.forEach(r,function(r){ul(r.userId===n.userId);var i=wg(e.fe,r);return kg(t,n.userId,i).next(function(){})})})})})},t.prototype.Sc=function(t){var e=t.store(ig.store),n=t.store(eg.store);return t.store(og.store).get(og.key).next(function(t){var r=[];return n.Fs(function(n,i){var o=new Wl(n),s=function(t){return[0,Bp(t)]}(o);r.push(e.get(s).next(function(n){return n?ep.resolve():function(n){return e.put(new ig(0,Bp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return ep.hs(r)})})},t.prototype.Dc=function(t,e){t.createObjectStore(sg.store,{keyPath:sg.keyPath});var n=e.store(sg.store),r=new Sg,i=function(t){if(r.add(t)){var e=t.Vt(),i=t.yt();return n.put({collectionId:e,parent:Bp(i)})}};return e.store(eg.store).Fs({Ns:!0},function(t,e){var n=new Wl(t);return i(n.yt())}).next(function(){return e.store(Zp.store).Fs({Ns:!0},function(t,e){var n=Wp(t[1]);return i(n.yt())})})},t.prototype.Cc=function(t){var e=this,n=t.store(rg.store);return n.Fs(function(t,r){var i=_g(r),o=Og(e.fe,i);return n.put(o)})},t}();function Jg(t){t.createObjectStore(ig.store,{keyPath:ig.keyPath}).createIndex(ig.documentTargetsIndex,ig.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rg.store,{keyPath:rg.keyPath}).createIndex(rg.queryTargetsIndexName,rg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(og.store)}var Zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=o,this.window=s,this.document=a,this.xc=c,this.Nc=l,this.Fc=null,this.Oc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kc=null,this.inForeground=!1,this.Mc=null,this.Lc=null,this.$c=Number.NEGATIVE_INFINITY,this.Bc=function(t){return Promise.resolve()},!t.G())throw new vl(ml.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Io=new zg(this,i),this.qc=n+"main",this.fe=new dg(u),this.Uc=new rp(this.qc,11,new Yg(this.fe)),this.Qc=new Ug(this.Io,this.fe),this.To=new Ag,this.Kc=function(t,e){return new Gg(t,e)}(this.fe,this.To),this.Wc=new Ig,this.window&&this.window.localStorage?this.jc=this.window.localStorage:(this.jc=null,!1===l&&il("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Gc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new vl(ml.FAILED_PRECONDITION,Zg);return t.zc(),t.Hc(),t.Jc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Qc.jo(e)})}).then(function(e){t.Fc=new Op(e,t.xc)}).then(function(){t.Oc=!0}).catch(function(e){return t.Uc&&t.Uc.close(),Promise.reject(e)})},t.prototype.Yc=function(t){var e=this;return this.Bc=function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){return this.Nr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Xc=function(t){var e=this;this.Uc.gs(function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Zc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.Ws(function(){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return this.Nr?[4,this.Gc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Gc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return em(e).put(new ag(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.ta(e).next(function(e){e||(t.isPrimary=!1,t.js.ea(function(){return t.Bc(!1)}))})}).next(function(){return t.na(e)}).next(function(n){return t.isPrimary&&!n?t.sa(e).next(function(){return!1}):!!n&&t.ia(e).next(function(){return!0})})}).catch(function(e){if(sp(e))return rl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return rl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.js.ea(function(){return t.Bc(e)}),t.isPrimary=e})},t.prototype.ta=function(t){var e=this;return tm(t).get(Qp.key).next(function(t){return ep.resolve(e.ra(t))})},t.prototype.oa=function(t){return em(t).delete(this.clientId)},t.prototype.ca=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(tl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.aa(this.$c,18e5)?[3,2]:(this.$c=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=fg(t,ag.store);return e.Ds().next(function(t){var n=r.ua(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ep.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.jc)for(e=0,n=t;e<n.length;e++)this.jc.removeItem(this.ha(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){var t=this;this.Lc=this.js.ni("client_metadata_refresh",4e3,function(){return t.Gc().then(function(){return t.ca()}).then(function(){return t.Jc()})})},t.prototype.ra=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.na=function(t){var e=this;return this.Nc?ep.resolve(!0):tm(t).get(Qp.key).next(function(n){if(null!==n&&e.aa(n.leaseTimestampMs,5e3)&&!e.la(n.ownerId)){if(e.ra(n)&&e.networkEnabled)return!0;if(!e.ra(n)){if(!n.allowTabSynchronization)throw new vl(ml.FAILED_PRECONDITION,Zg);return!1}}return!(!e.networkEnabled||!e.inForeground)||em(t).Ds().next(function(t){return void 0===e.ua(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&rl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$=function(){return Object(tl.b)(this,void 0,void 0,function(){var t=this;return Object(tl.d)(this,function(e){switch(e.label){case 0:return this.Oc=!1,this._a(),this.Lc&&(this.Lc.cancel(),this.Lc=null),this.fa(),this.da(),[4,this.Uc.runTransaction("shutdown","readwrite",[Qp.store,ag.store],function(e){var n=new hg(e,Op.Zi);return t.sa(n).next(function(){return t.oa(n)})})];case 1:return e.sent(),this.Uc.close(),this.wa(),[2]}})})},t.prototype.ua=function(t,e){var n=this;return t.filter(function(t){return n.aa(t.updateTimeMs,e)&&!n.la(t.clientId)})},t.prototype.Ea=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return em(e).Ds().next(function(e){return t.ua(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Ta=function(t){return Pg.Ao(t,this.fe,this.To,this.Io)},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.Ia=function(){return this.To},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r,i=this;return rl("IndexedDbPersistence","Starting transaction:",t),this.Uc.runTransaction(t,"readonly"===e?"readonly":"readwrite",lg,function(o){return r=new hg(o,i.Fc?i.Fc.next():Op.Zi),"readwrite-primary"===e?i.ta(r).next(function(t){return!!t||i.na(r)}).next(function(e){if(!e)throw il("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.js.ea(function(){return i.Bc(!1)}),new vl(ml.FAILED_PRECONDITION,yp);return n(r)}).next(function(t){return i.ia(r).next(function(){return t})}):i.Aa(r).next(function(){return n(r)})}).then(function(t){return r.ki(),t})},t.prototype.Aa=function(t){var e=this;return tm(t).get(Qp.key).next(function(t){if(null!==t&&e.aa(t.leaseTimestampMs,5e3)&&!e.la(t.ownerId)&&!e.ra(t)&&!(e.Nc||e.allowTabSynchronization&&t.allowTabSynchronization))throw new vl(ml.FAILED_PRECONDITION,Zg)})},t.prototype.ia=function(t){var e=new Qp(this.clientId,this.allowTabSynchronization,Date.now());return tm(t).put(Qp.key,e)},t.G=function(){return rp.G()},t.prototype.sa=function(t){var e=this,n=tm(t);return n.get(Qp.key).next(function(t){return e.ra(t)?(rl("IndexedDbPersistence","Releasing primary lease."),n.delete(Qp.key)):ep.resolve()})},t.prototype.aa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(il("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.zc=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mc=function(){t.js.Ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.Gc()})},this.document.addEventListener("visibilitychange",this.Mc),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fa=function(){this.Mc&&(this.document.removeEventListener("visibilitychange",this.Mc),this.Mc=null)},t.prototype.Hc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.kc=function(){e._a(),e.js.Ws(function(){return e.$()})},this.window.addEventListener("unload",this.kc))},t.prototype.da=function(){this.kc&&(this.window.removeEventListener("unload",this.kc),this.kc=null)},t.prototype.la=function(t){var e;try{var n=null!==(null===(e=this.jc)||void 0===e?void 0:e.getItem(this.ha(t)));return rl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return il("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._a=function(){if(this.jc)try{this.jc.setItem(this.ha(this.clientId),String(Date.now()))}catch(t){il("Failed to set zombie client id.",t)}},t.prototype.wa=function(){if(this.jc)try{this.jc.removeItem(this.ha(this.clientId))}catch(t){}},t.prototype.ha=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function tm(t){return fg(t,Qp.store)}function em(t){return fg(t,ag.store)}function nm(t,e){var n=t.projectId;return t.M||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rm=function(){function t(t,e,n){this.Kc=t,this.Ra=e,this.To=n}return t.prototype.Pa=function(t,e){var n=this;return this.Ra.So(t,e).next(function(r){return n.ya(t,e,r)})},t.prototype.ya=function(t,e,n){return this.Kc.Ar(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ir(e,t);return t})},t.prototype.ga=function(t,e,n){var r=td();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ir(t,e);r=r.Ie(t,e)}),r},t.prototype.Va=function(t,e){var n=this;return this.Kc.getEntries(t,e).next(function(e){return n.pa(t,e)})},t.prototype.pa=function(t,e){var n=this;return this.Ra.Do(t,e).next(function(r){var i=n.ga(t,e,r),o=Xf();return i.forEach(function(t,e){e||(e=new xh(t,Gl.min())),o=o.Ie(t,e)}),o})},t.prototype.Pc=function(t,e,n){return function(t){return Yl.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ba(t,e.path):ef(e)?this.va(t,e,n):this.Sa(t,e,n)},t.prototype.ba=function(t,e){return this.Pa(t,new Yl(e)).next(function(t){var e=nd();return t instanceof Ch&&(e=e.Ie(t.key,t)),e})},t.prototype.va=function(t,e,n){var r=this,i=e.collectionGroup,o=nd();return this.To.wo(t,i).next(function(s){return ep.forEach(s,function(s){var a=function(t,e){return new Kh(e,null,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Sa(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ie(t,e)})})}).next(function(){return o})})},t.prototype.Sa=function(t,e,n){var r,i,o=this;return this.Kc.Pc(t,e,n).next(function(n){return r=n,o.Ra.xo(t,e)}).next(function(e){return o.Da(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Df(u,l,l,o.er);r=h instanceof Ch?r.Ie(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){cf(e,n)||(r=r.remove(t))}),r})},t.prototype.Da=function(t,e,n){for(var r=sd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Uf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Kc.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ch&&(c=c.Ie(t,e))}),c})},t}(),im=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ca=n,this.xa=r}return t.Na=function(e,n){for(var r=sd(),i=sd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),om=function(){function t(){}return t.prototype.Fa=function(t){this.Oa=t},t.prototype.Pc=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.ne.length||1===t.ne.length&&t.ne[0].field.Ot())}(e)||n.isEqual(Gl.min())?this.ka(t,e):this.Oa.Va(t,r).next(function(o){var s=i.Ma(e,o);return(Jh(e)||Zh(e))&&i.La(e.limitType,s,r,n)?i.ka(t,e):(nl()<=Jo.a.DEBUG&&rl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),uf(e)),i.Oa.Pc(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ie(e.key,e)}),t}))})},t.prototype.Ma=function(t,e){var n=new Yf(lf(t));return e.forEach(function(e,r){r instanceof Ch&&cf(t,r)&&(n=n.add(r))}),n},t.prototype.La=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.ka=function(t,e){return nl()<=Jo.a.DEBUG&&rl("QueryEngine","Using full collection scan to execute query:",uf(e)),this.Oa.Pc(t,e,Gl.min())},t}(),sm=function(){function t(t,e,n,r){this.persistence=t,this.$a=e,this.fe=r,this.Ba=new Wf(fl),this.qa=new Tp(function(t){return jh(t)},kh),this.Ua=Gl.min(),this.Ra=t.Ta(n),this.Qa=t._c(),this.Qc=t.ac(),this.Ka=new rm(this.Qa,this.Ra,this.persistence.Ia()),this.Wc=t.ma(),this.$a.Fa(this.Ka)}return t.prototype.Fr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Ur(n,e.Ba)})},t}();function am(t,e,n,r){return new sm(t,e,n,r)}function um(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:return n=cl(t),r=n.Ra,i=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ra.vo(t).next(function(s){return o=s,r=n.persistence.Ta(e),i=new rm(n.Qa,r,n.persistence.Ia()),r.vo(t)}).next(function(e){for(var n=[],r=[],s=sd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.Va(t,s).next(function(t){return{Wa:t,ja:n,Ga:r}})})})];case 1:return o=s.sent(),[2,(n.Ra=r,n.Ka=i,n.$a.Fa(n.Ka),o)]}})})}function cm(t,e){var n=cl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qa.lc({yc:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ep.resolve();return o.forEach(function(t){s=s.next(function(){return r.Ar(e,t)}).next(function(e){var o=e,s=n.ar.get(t);ul(null!==s),(!o||o.version.u(s)<0)&&(o=i.nr(t,o,n))&&r.Er(o,n.cr)})}),s.next(function(){return t.Ra.No(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ra.ko(t)}).next(function(){return n.Ka.Va(t,r)})})}function lm(t){var e=cl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Qc.Wo(t)})}function hm(t,e){var n=cl(t),r=e.oe,i=n.Ba;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qa.lc({yc:!0});i=n.Ba;var s=[];e.rn.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.Qc.ic(t,e.dn,o).next(function(){return n.Qc.nc(t,e._n,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.ae(u,r).ce(t.oo);i=i.Ie(o,c),function(t,e,n){return ul(e.resumeToken.o()>0),0===t.resumeToken.o()||e.oe.Et()-t.oe.Et()>=3e8||n._n.size+n.fn.size+n.dn.size>0}(a,c,e)&&s.push(n.Qc.Yo(t,c))}}});var a=Xf();if(e.cn.forEach(function(r,i){e.an.has(r)&&s.push(n.persistence.Io.fc(t,r))}),s.push(fm(t,o,e.cn,r,void 0).next(function(t){a=t})),!r.isEqual(Gl.min())){var u=n.Qc.Wo(t).next(function(e){return n.Qc.Go(t,t.oo,r)});s.push(u)}return ep.hs(s).next(function(){return o.apply(t)}).next(function(){return n.Ka.pa(t,a)})}).then(function(t){return n.Ba=i,t})}function fm(t,e,n,r,i){var o=sd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Xf();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof xh&&s.version.isEqual(Gl.min())?(e.mr(n,u),o=o.Ie(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.Er(s,u),o=o.Ie(n,s)):rl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function dm(t,e){var n=cl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ra.po(t,e)})}function pm(t,e){var n=cl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Qc.ec(t,e).next(function(i){return i?ep.resolve(r=i):n.Qc.Uo(t).next(function(i){return r=new ff(e,i,0,t.oo),n.Qc.zo(t,r).next(function(){return r})})})}).then(function(t){var r=n.Ba.get(t.targetId);return(null===r||t.oe.u(r.oe)>0)&&(n.Ba=n.Ba.Ie(t.targetId,t),n.qa.set(e,t.targetId)),t})}function gm(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:r=cl(t),i=r.Ba.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Io.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sp(s=a.sent()))throw s;return rl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Ba=r.Ba.remove(e),r.qa.delete(i.target),[2]}})})}function mm(t,e,n){var r=cl(t),i=Gl.min(),o=sd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=cl(t),i=r.qa.get(n);return void 0!==i?ep.resolve(r.Ba.get(i)):r.Qc.ec(e,n)}(r,t,rf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Qc.oc(t,e.targetId).next(function(t){o=t})}).next(function(){return r.$a.Pc(t,e,n?i:Gl.min(),n?o:sd())}).next(function(t){return{documents:t,za:o}})})}function vm(t,e){var n=cl(t),r=cl(n.Qc),i=n.Ba.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Zn(t,e).next(function(t){return t?t.target:null})})}function ym(t){var e=cl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=cl(t),i=Xf(),o=mg(n),s=Kg(e),a=IDBKeyRange.lowerBound(o,!0);return s.Fs({index:eg.readTimeIndex,range:a},function(t,e){var n=pg(r.fe,e);i=i.Ie(n.key,n),o=e.readTime}).next(function(){return{tr:i,readTime:vg(o)}})}(e.Qa,t,e.Ua)}).then(function(t){var n=t.tr;return e.Ua=t.readTime,n})}function bm(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){return[2,(e=cl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Kg(t),n=Gl.min();return e.Fs({index:eg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=vg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ua=t})]})})}function wm(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(tl.d)(this,function(p){switch(p.label){case 0:for(i=cl(t),o=sd(),s=Xf(),a=id(),u=0,c=n;u<c.length;u++)h=e.Ha((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ie(h,e.Ja(l)),a=a.Ie(h,e.Ya(l.metadata.readTime));return f=i.Qa.lc({yc:!0}),[4,pm(i,function(t){return rf(Yh(Wl.xt("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return fm(t,f,s,Gl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.Qc.Zo(t,d.targetId).next(function(){return i.Qc.nc(t,o,d.targetId)}).next(function(){return i.Ka.pa(t,e)})})})]}})})}function _m(t,e,n){return void 0===n&&(n=sd()),Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return[4,pm(t,rf(Eg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=cl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Td(e.readTime);if(r.oe.u(o)>=0)return i.Wc.lo(t,e);var s=r.ae(gl.h,o);return i.Ba=i.Ba.Ie(s.targetId,s),i.Qc.Yo(t,s).next(function(){return i.Qc.Zo(t,r.targetId)}).next(function(){return i.Qc.nc(t,n,r.targetId)}).next(function(){return i.Wc.lo(t,e)})})]}})})}var Om=function(){function t(t){this.fe=t,this.Xa=new Map,this.Za=new Map}return t.prototype.ao=function(t,e){return ep.resolve(this.Xa.get(e))},t.prototype.uo=function(t,e){var n;return this.Xa.set(e.id,{id:(n=e).id,version:n.version,createTime:Td(n.createTime)}),ep.resolve()},t.prototype.ho=function(t,e){return ep.resolve(this.Za.get(e))},t.prototype.lo=function(t,e){return this.Za.set(e.name,function(t){return{name:t.name,query:Eg(t.bundledQuery),readTime:Td(t.readTime)}}(e)),ep.resolve()},t}(),Em=function(){function t(){this.tu=new Yf(Im.eu),this.nu=new Yf(Im.su)}return t.prototype.bt=function(){return this.tu.bt()},t.prototype.sc=function(t,e){var n=new Im(t,e);this.tu=this.tu.add(n),this.nu=this.nu.add(n)},t.prototype.iu=function(t,e){var n=this;t.forEach(function(t){return n.sc(t,e)})},t.prototype.rc=function(t,e){this.ru(new Im(t,e))},t.prototype.ou=function(t,e){var n=this;t.forEach(function(t){return n.rc(t,e)})},t.prototype.cu=function(t){var e=this,n=new Yl(new Wl([])),r=new Im(n,t),i=new Im(n,t+1),o=[];return this.nu.Qe([r,i],function(t){e.ru(t),o.push(t.key)}),o},t.prototype.au=function(){var t=this;this.tu.forEach(function(e){return t.ru(e)})},t.prototype.ru=function(t){this.tu=this.tu.delete(t),this.nu=this.nu.delete(t)},t.prototype.uu=function(t){var e=new Yl(new Wl([])),n=new Im(e,t),r=new Im(e,t+1),i=sd();return this.nu.Qe([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mo=function(t){var e=new Im(t,0),n=this.tu.We(e);return null!==n&&t.isEqual(n.key)},t}(),Im=function(){function t(t,e){this.key=t,this.hu=e}return t.eu=function(t,e){return Yl.At(t.key,e.key)||fl(t.hu,e.hu)},t.su=function(t,e){return fl(t.hu,e.hu)||Yl.At(t.key,e.key)},t}(),Cm=function(){function t(t,e){this.To=t,this.Io=e,this.Ra=[],this.lu=1,this._u=new Yf(Im.eu)}return t.prototype.Ro=function(t){return ep.resolve(0===this.Ra.length)},t.prototype.Po=function(t,e,n,r){var i=this.lu;this.lu++;var o=new Cp(i,e,n,r);this.Ra.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this._u=this._u.add(new Im(u.key,i)),this.To.fo(t,u.key.path.yt())}return ep.resolve(o)},t.prototype.yo=function(t,e){return ep.resolve(this.fu(e))},t.prototype.po=function(t,e){var n=this.du(e+1),r=n<0?0:n;return ep.resolve(this.Ra.length>r?this.Ra[r]:null)},t.prototype.bo=function(){return ep.resolve(0===this.Ra.length?-1:this.lu-1)},t.prototype.vo=function(t){return ep.resolve(this.Ra.slice())},t.prototype.So=function(t,e){var n=this,r=new Im(e,0),i=new Im(e,Number.POSITIVE_INFINITY),o=[];return this._u.Qe([r,i],function(t){var e=n.fu(t.hu);o.push(e)}),ep.resolve(o)},t.prototype.Do=function(t,e){var n=this,r=new Yf(fl);return e.forEach(function(t){var e=new Im(t,0),i=new Im(t,Number.POSITIVE_INFINITY);n._u.Qe([e,i],function(t){r=r.add(t.hu)})}),ep.resolve(this.wu(r))},t.prototype.xo=function(t,e){var n=e.path,r=n.length+1,i=n;Yl.qt(i)||(i=i.child(""));var o=new Im(new Yl(i),0),s=new Yf(fl);return this._u.Ke(function(t){var e=t.key.path;return!!n.vt(e)&&(e.length===r&&(s=s.add(t.hu)),!0)},o),ep.resolve(this.wu(s))},t.prototype.wu=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.fu(t);null!==r&&n.push(r)}),n},t.prototype.No=function(t,e){var n=this;ul(0===this.Eu(e.batchId,"removed")),this.Ra.shift();var r=this._u;return ep.forEach(e.mutations,function(i){var o=new Im(i.key,e.batchId);return r=r.delete(o),n.Io.Oo(t,i.key)}).next(function(){n._u=r})},t.prototype.Fo=function(t){},t.prototype.Mo=function(t,e){var n=new Im(e,0),r=this._u.We(n);return ep.resolve(e.isEqual(r&&r.key))},t.prototype.ko=function(t){return ep.resolve()},t.prototype.Eu=function(t,e){return this.du(t)},t.prototype.du=function(t){return 0===this.Ra.length?0:t-this.Ra[0].batchId},t.prototype.fu=function(t){var e=this.du(t);return e<0||e>=this.Ra.length?null:this.Ra[e]},t}(),xm=function(){function t(t,e){this.To=t,this.Tu=e,this.docs=new Wf(Yl.At),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Tu(e);return this.docs=this.docs.Ie(r,{Ir:e,size:s,readTime:n}),this.size+=s-o,this.To.fo(t,r.path.yt())},t.prototype.mr=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return ep.resolve(n?n.Ir:null)},t.prototype.getEntries=function(t,e){var n=this,r=td();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ie(t,e?e.Ir:null)}),ep.resolve(r)},t.prototype.Pc=function(t,e,n){for(var r=nd(),i=new Yl(e.path.child("")),o=this.docs.Ve(i);o.Ce();){var s=o.De(),a=s.value,u=a.Ir,c=a.readTime;if(!e.path.vt(s.key.path))break;c.u(n)<=0||u instanceof Ch&&cf(e,u)&&(r=r.Ie(u.key,u))}return ep.resolve(r)},t.prototype.Iu=function(t,e){return ep.forEach(this.docs,function(t){return e(t)})},t.prototype.lc=function(t){return new Tm(this)},t.prototype.dc=function(t){return ep.resolve(this.size)},t}(),Tm=function(t){function e(e){var n=this;return(n=t.call(this)||this).gc=e,n}return Object(tl.c)(e,t),e.prototype.yr=function(t){var e=this,n=[];return this._r.forEach(function(r,i){i&&i.Ir?n.push(e.gc.Er(t,i.Ir,e.wr(r))):e.gc.mr(r)}),ep.hs(n)},e.prototype.Rr=function(t,e){return this.gc.Ar(t,e)},e.prototype.Pr=function(t,e){return this.gc.getEntries(t,e)},e}(Sp),Sm=function(){function t(t){this.persistence=t,this.mu=new Tp(function(t){return jh(t)},kh),this.lastRemoteSnapshotVersion=Gl.min(),this.highestTargetId=0,this.Au=0,this.Ru=new Em,this.targetCount=0,this.Pu=Mg.Bo()}return t.prototype.Un=function(t,e){return this.mu.forEach(function(t,n){return e(n)}),ep.resolve()},t.prototype.Wo=function(t){return ep.resolve(this.lastRemoteSnapshotVersion)},t.prototype.jo=function(t){return ep.resolve(this.Au)},t.prototype.Uo=function(t){return this.highestTargetId=this.Pu.next(),ep.resolve(this.highestTargetId)},t.prototype.Go=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Au&&(this.Au=e),ep.resolve()},t.prototype.Ho=function(t){this.mu.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Pu=new Mg(e),this.highestTargetId=e),t.sequenceNumber>this.Au&&(this.Au=t.sequenceNumber)},t.prototype.zo=function(t,e){return this.Ho(e),this.targetCount+=1,ep.resolve()},t.prototype.Yo=function(t,e){return this.Ho(e),ep.resolve()},t.prototype.Xo=function(t,e){return this.mu.delete(e.target),this.Ru.cu(e.targetId),this.targetCount-=1,ep.resolve()},t.prototype.Br=function(t,e,n){var r=this,i=0,o=[];return this.mu.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.mu.delete(s),o.push(r.Zo(t,a.targetId)),i++)}),ep.hs(o).next(function(){return i})},t.prototype.tc=function(t){return ep.resolve(this.targetCount)},t.prototype.ec=function(t,e){var n=this.mu.get(e)||null;return ep.resolve(n)},t.prototype.nc=function(t,e,n){return this.Ru.iu(e,n),ep.resolve()},t.prototype.ic=function(t,e,n){this.Ru.ou(e,n);var r=this.persistence.Io,i=[];return r&&e.forEach(function(e){i.push(r.Oo(t,e))}),ep.hs(i)},t.prototype.Zo=function(t,e){return this.Ru.cu(e),ep.resolve()},t.prototype.oc=function(t,e){var n=this.Ru.uu(e);return ep.resolve(n)},t.prototype.Mo=function(t,e){return ep.resolve(this.Ru.Mo(e))},t}(),Am=function(){function t(t,e){var n=this;this.yu={},this.Fc=new Op(0),this.Oc=!1,this.Oc=!0,this.Io=t(this),this.Qc=new Sm(this),this.To=new Tg,this.Kc=function(t,e){return new xm(t,function(t){return n.Io.gu(t)})}(this.To),this.fe=new dg(e),this.Wc=new Om(this.fe)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$=function(){return this.Oc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Xc=function(){},t.prototype.Zc=function(){},t.prototype.Ia=function(){return this.To},t.prototype.Ta=function(t){var e=this.yu[t.I()];return e||(e=new Cm(this.To,this.Io),this.yu[t.I()]=e),e},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;rl("MemoryPersistence","Starting transaction:",t);var i=new jm(this.Fc.next());return this.Io.Vu(),n(i).next(function(t){return r.Io.pu(i).next(function(){return t})}).cs().then(function(t){return i.ki(),t})},t.prototype.bu=function(t,e){return ep.ls(Object.values(this.yu).map(function(n){return function(){return n.Mo(t,e)}}))},t}(),jm=function(t){function e(e){var n=this;return(n=t.call(this)||this).oo=e,n}return Object(tl.c)(e,t),e}(bp),km=function(){function t(t){this.persistence=t,this.vu=new Em,this.Su=null}return t.Du=function(e){return new t(e)},Object.defineProperty(t.prototype,"Cu",{get:function(){if(this.Su)return this.Su;throw al()},enumerable:!1,configurable:!0}),t.prototype.sc=function(t,e,n){return this.vu.sc(n,e),this.Cu.delete(n.toString()),ep.resolve()},t.prototype.rc=function(t,e,n){return this.vu.rc(n,e),this.Cu.add(n.toString()),ep.resolve()},t.prototype.Oo=function(t,e){return this.Cu.add(e.toString()),ep.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.vu.cu(e.targetId).forEach(function(t){return n.Cu.add(t.toString())});var r=this.persistence.ac();return r.oc(t,e.targetId).next(function(t){t.forEach(function(t){return n.Cu.add(t.toString())})}).next(function(){return r.Xo(t,e)})},t.prototype.Vu=function(){this.Su=new Set},t.prototype.pu=function(t){var e=this,n=this.persistence._c().lc();return ep.forEach(this.Cu,function(r){var i=Yl.Lt(r);return e.xu(t,i).next(function(t){t||n.mr(i)})}).next(function(){return e.Su=null,n.apply(t)})},t.prototype.fc=function(t,e){var n=this;return this.xu(t,e).next(function(t){t?n.Cu.delete(e.toString()):n.Cu.add(e.toString())})},t.prototype.gu=function(t){return 0},t.prototype.xu=function(t,e){var n=this;return ep.ls([function(){return ep.resolve(n.vu.Mo(e))},function(){return n.persistence.ac().Mo(t,e)},function(){return n.persistence.bu(t,e)}])},t}();function Nm(t,e){return"firestore_clients_"+t+"_"+e}function Pm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.T()&&(r+="_"+e.uid),r}function Dm(t,e){return"firestore_targets_"+t+"_"+e}var Rm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Nu=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new vl(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(il("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Nu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new vl(r.error.code,r.error.message)),i?new t(e,r.state,o):(il("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Nu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ud(),s=0;i&&s<r.activeTargetIds.length;++s)i=Rl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(il("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Mm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Nu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(il("SharedClientState","Failed to parse online state: "+e),null)},t}(),Um=function(){function t(){this.activeTargetIds=ud()}return t.prototype.Ou=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ku=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fu=function(){var t={activeTargetIds:this.activeTargetIds.Dt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fm=function(){function t(t,e,n,r,i){this.window=t,this.js=e,this.persistenceKey=n,this.Mu=r,this.Lu=null,this.$u=null,this.Hi=null,this.Bu=this.qu.bind(this),this.Uu=new Wf(fl),this.Nr=!1,this.Qu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ku=Nm(this.persistenceKey,this.Mu),this.Wu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Uu=this.Uu.Ie(this.Mu,new Um),this.ju=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Gu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.zu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Hu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ju=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Bu)}return t.G=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(tl.d)(this,function(h){switch(h.label){case 0:return[4,this.Lu.Ea()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Mu&&(i=this.getItem(Nm(this.persistenceKey,r)))&&(o=Lm.Nu(r,i))&&(this.Uu=this.Uu.Ie(o.clientId,o));for(this.Yu(),(s=this.storage.getItem(this.Hu))&&(a=this.Xu(s))&&this.Zu(a),u=0,c=this.Qu;u<c.length;u++)this.qu(c[u]);return this.Qu=[],this.window.addEventListener("unload",function(){return l.$()}),this.Nr=!0,[2]}})})},t.prototype.Xi=function(t){this.setItem(this.Wu,JSON.stringify(t))},t.prototype.th=function(){return this.eh(this.Uu)},t.prototype.nh=function(t){var e=!1;return this.Uu.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.sh=function(t){this.ih(t,"pending")},t.prototype.rh=function(t,e,n){this.ih(t,e,n),this.oh(t)},t.prototype.ah=function(t){var e="not-current";if(this.nh(t)){var n=this.storage.getItem(Dm(this.persistenceKey,t));if(n){var r=Vm.Nu(t,n);r&&(e=r.state)}}return this.uh.Ou(t),this.Yu(),e},t.prototype.hh=function(t){this.uh.ku(t),this.Yu()},t.prototype.lh=function(t){return this.uh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(Dm(this.persistenceKey,t))},t.prototype.fh=function(t,e,n){this.dh(t,e,n)},t.prototype.wh=function(t,e,n){var r=this;e.forEach(function(t){r.oh(t)}),this.currentUser=t,n.forEach(function(t){r.sh(t)})},t.prototype.Eh=function(t){this.Th(t)},t.prototype.Ih=function(){this.mh()},t.prototype.$=function(){this.Nr&&(this.window.removeEventListener("storage",this.Bu),this.removeItem(this.Ku),this.Nr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return rl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){rl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){rl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.qu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(rl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ku)return void il("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.ea(function(){return Object(tl.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(tl.d)(this,function(a){if(this.Nr){if(null!==n.key)if(this.ju.test(n.key)){if(null==n.newValue)return t=this.Ah(n.key),[2,this.Rh(t,null)];if(e=this.Ph(n.key,n.newValue))return[2,this.Rh(e.clientId,e)]}else if(this.Gu.test(n.key)){if(null!==n.newValue&&(r=this.yh(n.key,n.newValue)))return[2,this.gh(r)]}else if(this.zu.test(n.key)){if(null!==n.newValue&&(i=this.Vh(n.key,n.newValue)))return[2,this.ph(i)]}else if(n.key===this.Hu){if(null!==n.newValue&&(o=this.Xu(n.newValue)))return[2,this.Zu(o)]}else if(n.key===this.Wu)(s=function(t){var e=Op.Zi;if(null!=t)try{var n=JSON.parse(t);ul("number"==typeof n),e=n}catch(t){il("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Op.Zi&&this.Hi(s);else if(n.key===this.Ju)return[2,this.Lu.bh()]}else this.Qu.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"uh",{get:function(){return this.Uu.get(this.Mu)},enumerable:!1,configurable:!0}),t.prototype.Yu=function(){this.setItem(this.Ku,this.uh.Fu())},t.prototype.ih=function(t,e,n){var r=new Rm(this.currentUser,t,e,n),i=Pm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fu())},t.prototype.oh=function(t){var e=Pm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Th=function(t){this.storage.setItem(this.Hu,JSON.stringify({clientId:this.Mu,onlineState:t}))},t.prototype.dh=function(t,e,n){var r=Dm(this.persistenceKey,t),i=new Vm(t,e,n);this.setItem(r,i.Fu())},t.prototype.mh=function(){this.setItem(this.Ju,"value-not-used")},t.prototype.Ah=function(t){var e=this.ju.exec(t);return e?e[1]:null},t.prototype.Ph=function(t,e){var n=this.Ah(t);return Lm.Nu(n,e)},t.prototype.yh=function(t,e){var n=this.Gu.exec(t),r=Number(n[1]);return Rm.Nu(new El(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Vh=function(t,e){var n=this.zu.exec(t),r=Number(n[1]);return Vm.Nu(r,e)},t.prototype.Xu=function(t){return Mm.Nu(t)},t.prototype.gh=function(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.Lu.Sh(t.batchId,t.state,t.error)]:(rl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.ph=function(t){return this.Lu.Dh(t.targetId,t.state,t.error)},t.prototype.Rh=function(t,e){var n=this,r=e?this.Uu.Ie(t,e):this.Uu.remove(t),i=this.eh(this.Uu),o=this.eh(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.Lu.Ch(s,a).then(function(){n.Uu=r})},t.prototype.Zu=function(t){this.Uu.get(t.clientId)&&this.$u(t.onlineState)},t.prototype.eh=function(t){var e=ud();return t.forEach(function(t,n){e=e.je(n.activeTargetIds)}),e},t}(),qm=function(){function t(){this.xh=new Um,this.Nh={},this.$u=null,this.Hi=null}return t.prototype.sh=function(t){},t.prototype.rh=function(t,e,n){},t.prototype.ah=function(t){return this.xh.Ou(t),this.Nh[t]||"not-current"},t.prototype.fh=function(t,e,n){this.Nh[t]=e},t.prototype.hh=function(t){this.xh.ku(t)},t.prototype.lh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.Nh[t]},t.prototype.th=function(){return this.xh.activeTargetIds},t.prototype.nh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype.start=function(){return this.xh=new Um,Promise.resolve()},t.prototype.wh=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.$=function(){},t.prototype.Xi=function(t){},t.prototype.Ih=function(){},t}();function Hm(){return"undefined"!=typeof window?window:null}function zm(){return"undefined"!=typeof document?document:null}var Bm=function(){function t(t,e){this.ks=t,this.$u=e,this.state="Unknown",this.Fh=0,this.Oh=null,this.kh=!0}return t.prototype.Mh=function(){var t=this;0===this.Fh&&(this.Lh("Unknown"),this.Oh=this.ks.ni("online_state_timeout",1e4,function(){return t.Oh=null,t.$h("Backend didn't respond within 10 seconds."),t.Lh("Offline"),Promise.resolve()}))},t.prototype.Bh=function(t){"Online"===this.state?this.Lh("Unknown"):(this.Fh++,this.Fh>=1&&(this.qh(),this.$h("Connection failed 1 times. Most recent error: "+t.toString()),this.Lh("Offline")))},t.prototype.set=function(t){this.qh(),this.Fh=0,"Online"===t&&(this.kh=!1),this.Lh(t)},t.prototype.Lh=function(t){t!==this.state&&(this.state=t,this.$u(t))},t.prototype.$h=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.kh?(il(e),this.kh=!1):rl("OnlineStateTracker",e)},t.prototype.qh=function(){null!==this.Oh&&(this.Oh.cancel(),this.Oh=null)},t}(),Gm=function(t,e,n,r,i){var o=this;this.Uh=t,this.Qh=e,this.ks=n,this.Kh={},this.Wh=[],this.jh=new Map,this.Gh=new Set,this.zh=[],this.Hh=i,this.Hh.L(function(t){n.Ws(function(){return Object(tl.b)(o,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return tv(this)?(rl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return(e=cl(t)).Gh.add(4),[4,Wm(e)];case 1:return n.sent(),e.Jh.set("Unknown"),e.Gh.delete(4),[4,$m(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Jh=new Bm(n,r)};function $m(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:if(!tv(t))return[3,4];e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wm(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Km(t,e){var n=cl(t);n.jh.has(e.targetId)||(n.jh.set(e.targetId,e),Xm(n)?Zm(n):gv(n).li()&&Ym(n,e))}function Qm(t,e){var n=cl(t),r=gv(n);n.jh.delete(e),r.li()&&Jm(n,e),0===n.jh.size&&(r.li()?r.di():tv(n)&&n.Jh.set("Unknown"))}function Ym(t,e){t.Yh.Dn(e.targetId),gv(t).gi(e)}function Jm(t,e){t.Yh.Dn(e),gv(t).Vi(e)}function Zm(t){t.Yh=new yd({Xn:function(e){return t.Kh.Xn(e)},Zn:function(e){return t.jh.get(e)||null}}),gv(t).start(),t.Jh.Mh()}function Xm(t){return tv(t)&&!gv(t).hi()&&t.jh.size>0}function tv(t){return 0===cl(t).Gh.size}function ev(t){t.Yh=void 0}function nv(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){return t.jh.forEach(function(e,n){Ym(t,e)}),[2]})})}function rv(t,e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){return ev(t),Xm(t)?(t.Jh.Bh(e),Zm(t)):t.Jh.set("Unknown"),[2]})})}function iv(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:if(t.Jh.set("Online"),!(e instanceof md&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.jh.has(o=i[r])?[4,t.Kh.Xh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.jh.delete(o),t.Yh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),rl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ov(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pd?t.Yh.Ln(e):e instanceof gd?t.Yh.jn(e):t.Yh.qn(e),n.isEqual(Gl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,lm(t.Uh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Yh.Hn(e);return n.rn.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.jh.get(r);i&&t.jh.set(r,i.ae(n.resumeToken,e))}}),n.on.forEach(function(e){var n=t.jh.get(e);if(n){t.jh.set(e,n.ae(gl.h,n.oe)),Jm(t,e);var r=new ff(n.target,e,1,n.sequenceNumber);Ym(t,r)}}),t.Kh.Zh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return rl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ov(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ov(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r=this;return Object(tl.d)(this,function(i){switch(i.label){case 0:if(!sp(e))throw e;return t.Gh.add(1),[4,Wm(t)];case 1:return i.sent(),t.Jh.set("Offline"),n||(n=function(){return lm(t.Uh)}),t.ks.ea(function(){return Object(tl.b)(r,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return rl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Gh.delete(1),[4,$m(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function sv(t,e){return e().catch(function(n){return ov(t,n,e)})}function av(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:e=cl(t),n=mv(e),r=e.Wh.length>0?e.Wh[e.Wh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return tv(t)&&t.Wh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,dm(e.Uh,r)];case 3:return null===(i=s.sent())?(0===e.Wh.length&&n.di(),[3,7]):(r=i.batchId,function(t,e){t.Wh.push(e);var n=mv(t);n.li()&&n.bi&&n.vi(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ov(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return uv(e)&&cv(e),[2]}})})}function uv(t){return tv(t)&&!mv(t).hi()&&t.Wh.length>0}function cv(t){mv(t).start()}function lv(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){return mv(t).Ci(),[2]})})}function hv(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n,r;return Object(tl.d)(this,function(i){for(e=mv(t),n=0,r=t.Wh;n<r.length;n++)e.vi(r[n].mutations);return[2]})})}function fv(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return r=t.Wh.shift(),i=xp.from(r,e,n),[4,sv(t,function(){return t.Kh.tl(i)})];case 1:return o.sent(),[4,av(t)];case 2:return o.sent(),[2]}})})}function dv(t,e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){switch(n.label){case 0:return e&&mv(t).bi?[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return Ul(r=e.code)&&r!==ml.ABORTED?(n=t.Wh.shift(),mv(t).fi(),[4,sv(t,function(){return t.Kh.el(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,av(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uv(t)&&cv(t),[2]}})})}function pv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return n=cl(t),e?(n.Gh.delete(2),[4,$m(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Gh.add(2),[4,Wm(n)]);case 3:r.sent(),n.Jh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function gv(t){var e=this;return t.nl||(t.nl=function(t,e,n){var r=cl(t);return r.Ni(),new gp(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:nv.bind(null,t),Z:rv.bind(null,t),yi:iv.bind(null,t)}),t.zh.push(function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return n?(t.nl.fi(),Xm(t)?Zm(t):t.Jh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.nl.stop()];case 2:e.sent(),ev(t),e.label=3;case 3:return[2]}})})})),t.nl}function mv(t){var e=this;return t.sl||(t.sl=function(t,e,n){var r=cl(t);return r.Ni(),new mp(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:lv.bind(null,t),Z:dv.bind(null,t),Di:hv.bind(null,t),Si:fv.bind(null,t)}),t.zh.push(function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return n?(t.sl.fi(),[4,av(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.sl.stop()];case 3:e.sent(),t.Wh.length>0&&(rl("RemoteStore","Stopping write stream with "+t.Wh.length+" pending writes"),t.Wh=[]),e.label=4;case 4:return[2]}})})})),t.sl}var vv=function(){this.il=void 0,this.listeners=[]},yv=function(){this.queries=new Tp(function(t){return af(t)},sf),this.onlineState="Unknown",this.rl=new Set};function bv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:if(n=cl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new vv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.ol(r)];case 2:return s.il=c.sent(),[3,4];case 3:return a=c.sent(),u=fp(a,"Initialization of query '"+uf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.cl(n.onlineState),o.il&&e.al(o.il)&&Ev(n),[2]}})})}function wv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(tl.d)(this,function(a){return n=cl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.ul(r))]:[2]})})}function _v(t,e){for(var n=cl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].al(s)&&(r=!0);a.il=s}}r&&Ev(n)}function Ov(t,e,n){var r=cl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ev(t){t.rl.forEach(function(t){t.next()})}var Iv=function(){function t(t,e,n){this.query=t,this.hl=e,this.ll=!1,this._l=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.al=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new hd(t.query,t.docs,t.Ze,e,t.tn,t.fromCache,t.en,!0)}var o=!1;return this.ll?this.fl(t)&&(this.hl.next(t),o=!0):this.dl(t,this.onlineState)&&(this.wl(t),o=!0),this._l=t,o},t.prototype.onError=function(t){this.hl.error(t)},t.prototype.cl=function(t){this.onlineState=t;var e=!1;return this._l&&!this.ll&&this.dl(this._l,t)&&(this.wl(this._l),e=!0),e},t.prototype.dl=function(t,e){return!t.fromCache||!(this.options.El&&"Offline"!==e||t.docs.bt()&&"Offline"!==e)},t.prototype.fl=function(t){return t.docChanges.length>0||!!(t.en||this._l&&this._l.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.wl=function(t){t=hd.sn(t.query,t.docs,t.tn,t.fromCache),this.ll=!0,this.hl.next(t)},t}(),Cv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.Tl=function(){return"metadata"in this.payload},t}(),xv=function(){function t(t){this.fe=t}return t.prototype.Ha=function(t){return kd(this.fe,t)},t.prototype.Ja=function(t){return t.metadata.exists?Ld(this.fe,t.document,!1):new xh(this.Ha(t.metadata.name),this.Ya(t.metadata.readTime))},t.prototype.Ya=function(t){return Td(t)},t}();!function(){function t(t,e,n){this.Il=t,this.Uh=e,this.fe=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ml=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.Al=function(t){for(var e=new Map,n=new xv(this.fe),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Ha(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||sd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return[4,wm(this.Uh,new xv(this.fe),this.documents,this.Il.id)];case 1:t=o.sent(),e=this.Al(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,_m(this.Uh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ip(Object.assign({},this.progress),t))]}})})}}();var Tv=function(t){this.key=t},Sv=function(t){this.key=t},Av=function(){function t(t,e){this.query=t,this.Rl=e,this.Pl=null,this.ln=!1,this.yl=sd(),this.tn=sd(),this.gl=lf(t),this.Vl=new cd(this.gl)}return Object.defineProperty(t.prototype,"pl",{get:function(){return this.Rl},enumerable:!1,configurable:!0}),t.prototype.bl=function(t,e){var n=this,r=e?e.vl:new ld,i=e?e.Vl:this.Vl,o=e?e.tn:this.tn,s=i,a=!1,u=Jh(this.query)&&i.size===this.query.limit?i.last():null,c=Zh(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pe(function(t,e){var l=i.get(t),h=e instanceof Ch?e:null;h&&(h=cf(n.query,h)?h:null);var f=!!l&&n.tn.has(l.key),d=!!h&&(h.Jt||n.tn.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Sl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.gl(h,u)>0||c&&n.gl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Jh(this.query)||Zh(this.query))for(;s.size>this.query.limit;){var l=Jh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vl:s,vl:r,La:a,tn:o}},t.prototype.Sl=function(t,e){return t.Jt&&e.hasCommittedMutations&&!e.Jt},t.prototype.yr=function(t,e,n){var r=this,i=this.Vl;this.Vl=t.Vl,this.tn=t.tn;var o=t.vl.Xe();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return al()}};return n(t)-n(e)}(t.type,e.type)||r.gl(t.doc,e.doc)}),this.Dl(n);var s=e?this.Cl():[],a=0===this.yl.size&&this.ln?1:0,u=a!==this.Pl;return this.Pl=a,0!==o.length||u?{snapshot:new hd(this.query,t.Vl,i,o,t.tn,0===a,u,!1),xl:s}:{xl:s}},t.prototype.cl=function(t){return this.ln&&"Offline"===t?(this.ln=!1,this.yr({Vl:this.Vl,vl:new ld,tn:this.tn,La:!1},!1)):{xl:[]}},t.prototype.Nl=function(t){return!this.Rl.has(t)&&!!this.Vl.has(t)&&!this.Vl.get(t).Jt},t.prototype.Dl=function(t){var e=this;t&&(t._n.forEach(function(t){return e.Rl=e.Rl.add(t)}),t.fn.forEach(function(t){}),t.dn.forEach(function(t){return e.Rl=e.Rl.delete(t)}),this.ln=t.ln)},t.prototype.Cl=function(){var t=this;if(!this.ln)return[];var e=this.yl;this.yl=sd(),this.Vl.forEach(function(e){t.Nl(e.key)&&(t.yl=t.yl.add(e.key))});var n=[];return e.forEach(function(e){t.yl.has(e)||n.push(new Sv(e))}),this.yl.forEach(function(t){e.has(t)||n.push(new Tv(t))}),n},t.prototype.Fl=function(t){this.Rl=t.za,this.yl=sd();var e=this.bl(t.documents);return this.yr(e,!0)},t.prototype.Ol=function(){return hd.sn(this.query,this.Vl,this.tn,0===this.Pl)},t}(),jv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},kv=function(t){this.key=t,this.kl=!1},Nv=function(){function t(t,e,n,r,i,o){this.Uh=t,this.Ml=e,this.Ll=n,this.$l=r,this.currentUser=i,this.Bl=o,this.ql={},this.Ul=new Tp(function(t){return af(t)},sf),this.Ql=new Map,this.Kl=[],this.Wl=new Wf(Yl.At),this.jl=new Map,this.Gl=new Em,this.zl={},this.Hl=new Map,this.Jl=Mg.qo(),this.onlineState="Unknown",this.Yl=void 0}return Object.defineProperty(t.prototype,"Xl",{get:function(){return!0===this.Yl},enumerable:!1,configurable:!0}),t}();function Pv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return n=uy(t),(i=n.Ul.get(e))?(n.$l.ah(i.targetId),r=i.view.Ol(),[3,4]):[3,1];case 1:return[4,pm(n.Uh,rf(e))];case 2:return o=a.sent(),s=n.$l.ah(o.targetId),[4,Dv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Xl&&Km(n.Ml,o),a.label=4;case 4:return[2,r]}})})}function Dv(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(tl.d)(this,function(l){switch(l.label){case 0:return t.Zl=function(e,n,r){return function(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bl(n)).La?[4,mm(t.Uh,e.query,!1).then(function(t){return e.view.bl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.rn.get(e.targetId),s=e.view.yr(i,t.Xl,o),[2,(Wv(t,e.targetId,s.xl),s.snapshot)]}})})}(t,e,n,r)},[4,mm(t.Uh,e,!0)];case 1:return i=l.sent(),o=new Av(e,i.za),s=o.bl(i.documents),a=dd.hn(n,r&&"Offline"!==t.onlineState),u=o.yr(s,t.Xl,a),Wv(t,n,u.xl),c=new jv(e,n,o),[2,(t.Ul.set(e,c),t.Ql.has(n)?t.Ql.get(n).push(e):t.Ql.set(n,[e]),u.snapshot)]}})})}function Rv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return n=cl(t),r=n.Ul.get(e),(i=n.Ql.get(r.targetId)).length>1?[2,(n.Ql.set(r.targetId,i.filter(function(t){return!sf(t,e)})),void n.Ul.delete(e))]:n.Xl?(n.$l.hh(r.targetId),n.$l.nh(r.targetId)?[3,2]:[4,gm(n.Uh,r.targetId,!1).then(function(){n.$l._h(r.targetId),Qm(n.Ml,r.targetId),Gv(n,r.targetId)}).catch(Ep)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Gv(n,r.targetId),[4,gm(n.Uh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Vv(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:r=cy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=cl(t),i=Bl.now(),o=e.reduce(function(t,e){return t.add(e.key)},sd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ka.Va(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Rf(c,n.get(c.key));null!=l&&s.push(new Uf(c.key,l,Eh(l.proto.mapValue),jf.exists(!0)))}return r.Ra.Po(t,i,s,e)})}).then(function(t){var e=t.rr(n);return{batchId:t.batchId,_r:e}})}(r.Uh,e)];case 2:return i=a.sent(),r.$l.sh(i.batchId),function(t,e,n){var r=t.zl[t.currentUser.I()];r||(r=new Wf(fl)),r=r.Ie(e,n),t.zl[t.currentUser.I()]=r}(r,i.batchId,n),[4,Yv(r,i._r)];case 3:return a.sent(),[4,av(r.Ml)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=fp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Lv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:n=cl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,hm(n.Uh,e)];case 2:return r=i.sent(),e.rn.forEach(function(t,e){var r=n.jl.get(e);r&&(ul(t._n.size+t.fn.size+t.dn.size<=1),t._n.size>0?r.kl=!0:t.fn.size>0?ul(r.kl):t.dn.size>0&&(ul(r.kl),r.kl=!1))}),[4,Yv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ep(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Mv(t,e,n){var r=cl(t);if(r.Xl&&0===n||!r.Xl&&1===n){var i=[];r.Ul.forEach(function(t,n){var r=n.view.cl(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=cl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].cl(e)&&(r=!0)}),r&&Ev(n)}(r.Ll,e),i.length&&r.ql.yi(i),r.onlineState=e,r.Xl&&r.$l.Eh(e)}}function Uv(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:return(r=cl(t)).$l.fh(e,"rejected",n),i=r.jl.get(e),(o=i&&i.key)?(s=(s=new Wf(Yl.At)).Ie(o,new xh(o,Gl.min())),a=sd().add(o),u=new fd(Gl.min(),new Map,new Yf(fl),s,a),[4,Lv(r,u)]):[3,2];case 1:return c.sent(),r.Wl=r.Wl.remove(o),r.jl.delete(e),Qv(r),[3,4];case 2:return[4,gm(r.Uh,e,!1).then(function(){return Gv(r,e,n)}).catch(Ep)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Fv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:n=cl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,cm(n.Uh,e)];case 2:return i=o.sent(),Bv(n,r,null),zv(n,r),n.$l.rh(r,"acknowledged"),[4,Yv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ep(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function qv(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:r=cl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=cl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ra.yo(t,e).next(function(e){return ul(null!==e),r=e.keys(),n.Ra.No(t,e)}).next(function(){return n.Ra.ko(t)}).next(function(){return n.Ka.Va(t,r)})})}(r.Uh,e)];case 2:return i=o.sent(),Bv(r,e,n),zv(r,e),r.$l.rh(e,"rejected",n),[4,Yv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ep(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:tv((n=cl(t)).Ml)||rl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=cl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ra.bo(t)})}(n.Uh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Hl.get(r)||[]).push(e),n.Hl.set(r,i),[3,4]);case 3:return o=a.sent(),s=fp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function zv(t,e){(t.Hl.get(e)||[]).forEach(function(t){t.resolve()}),t.Hl.delete(e)}function Bv(t,e,n){var r=cl(t),i=r.zl[r.currentUser.I()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.zl[r.currentUser.I()]=i}}function Gv(t,e,n){void 0===n&&(n=null),t.$l.hh(e);for(var r=0,i=t.Ql.get(e);r<i.length;r++){var o=i[r];t.Ul.delete(o),n&&t.ql.t_(o,n)}t.Ql.delete(e),t.Xl&&t.Gl.cu(e).forEach(function(e){t.Gl.Mo(e)||$v(t,e)})}function $v(t,e){var n=t.Wl.get(e);null!==n&&(Qm(t.Ml,n),t.Wl=t.Wl.remove(e),t.jl.delete(n),Qv(t))}function Wv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Tv?(t.Gl.sc(o.key,e),Kv(t,o)):o instanceof Sv?(rl("SyncEngine","Document no longer in limbo: "+o.key),t.Gl.rc(o.key,e),t.Gl.Mo(o.key)||$v(t,o.key)):al()}}function Kv(t,e){var n=e.key;t.Wl.get(n)||(rl("SyncEngine","New document in limbo: "+n),t.Kl.push(n),Qv(t))}function Qv(t){for(;t.Kl.length>0&&t.Wl.size<t.Bl;){var e=t.Kl.shift(),n=t.Jl.next();t.jl.set(n,new kv(e)),t.Wl=t.Wl.Ie(e,n),Km(t.Ml,new ff(rf(Yh(e.path)),n,2,Op.Zi))}}function Yv(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return r=cl(t),i=[],o=[],s=[],r.Ul.bt()?[3,3]:(r.Ul.forEach(function(t,a){s.push(r.Zl(a,e,n).then(function(t){if(t){r.Xl&&r.$l.fh(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=im.Na(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.ql.yi(i),[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(tl.d)(this,function(l){switch(l.label){case 0:n=cl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ep.forEach(e,function(e){return ep.forEach(e.Ca,function(r){return n.persistence.Io.sc(t,e.targetId,r)}).next(function(){return ep.forEach(e.xa,function(r){return n.persistence.Io.rc(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!sp(r=l.sent()))throw r;return rl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Ba.get(a),c=u.ue(u.oe),n.Ba=n.Ba.Ie(a,c));return[2]}})})}(r.Uh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Jv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return(n=cl(t)).currentUser.isEqual(e)?[3,3]:(rl("SyncEngine","User change. New user:",e.I()),[4,um(n.Uh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Hl.forEach(function(t){t.forEach(function(t){t.reject(new vl(ml.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Hl.clear()}(n),n.$l.wh(e,r.ja,r.Ga),[4,Yv(n,r.Wa)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Zv(t,e){var n=cl(t),r=n.jl.get(e);if(r&&r.kl)return sd().add(r.key);var i=sd(),o=n.Ql.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Ul.get(a[s]);i=i.je(u.view.pl)}return i}function Xv(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return[4,mm((n=cl(t)).Uh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Fl(r),[2,(n.Xl&&Wv(n,e.targetId,i.xl),i)]}})})}function ty(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){return[2,ym((e=cl(t)).Uh).then(function(t){return Yv(e,t)})]})})}function ey(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=cl(t),r=cl(n.Ra);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vo(t,e).next(function(e){return e?n.Ka.Va(t,e):ep.resolve(null)})})}((i=cl(t)).Uh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,av(i.Ml)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Bv(i,e,r||null),zv(i,e),function(t,e){cl(cl(t).Ra).Fo(e)}(i.Uh,e)):al(),s.label=4;case 4:return[4,Yv(i,o)];case 5:return s.sent(),[3,7];case 6:rl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function ny(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:return uy(n=cl(t)),cy(n),!0!==e||!0===n.Yl?[3,3]:(r=n.$l.th(),[4,ry(n,r.Dt())]);case 1:return i=c.sent(),n.Yl=!0,[4,pv(n.Ml,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Km(n.Ml,s[o]);return[3,7];case 3:return!1!==e||!1===n.Yl?[3,7]:(a=[],u=Promise.resolve(),n.Ql.forEach(function(t,e){n.$l.lh(e)?a.push(e):u=u.then(function(){return Gv(n,e),gm(n.Uh,e,!0)}),Qm(n.Ml,e)}),[4,u]);case 4:return c.sent(),[4,ry(n,a)];case 5:return c.sent(),function(t){var e=cl(t);e.jl.forEach(function(t,n){Qm(e.Ml,n)}),e.Gl.au(),e.jl=new Map,e.Wl=new Wf(Yl.At)}(n),n.Yl=!1,[4,pv(n.Ml,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ry(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(tl.d)(this,function(g){switch(g.label){case 0:n=cl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Ql.get(a=s[o]))&&0!==c.length?[4,pm(n.Uh,rf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Ul.get(h[l]),[4,Xv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vm(n.Uh,a)];case 8:return p=g.sent(),[4,pm(n.Uh,p)];case 9:return u=g.sent(),[4,Dv(n,iy(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.ql.yi(i),r)]}})})}function iy(t){return Qh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function oy(t){var e=cl(t);return cl(cl(e.Uh).persistence).Ea()}function sy(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return(i=cl(t)).Yl?(rl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Ql.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ym(i.Uh)];case 3:return o=a.sent(),s=fd.un(e,"current"===n),[4,Yv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,gm(i.Uh,e,!0)];case 6:return a.sent(),Gv(i,e,r),[3,8];case 7:al(),a.label=8;case 8:return[2]}})})}function ay(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(tl.d)(this,function(f){switch(f.label){case 0:if(!(r=uy(t)).Yl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Ql.has(s=o[i])?(rl("SyncEngine","Adding an already active target "+s),[3,5]):[4,vm(r.Uh,s)]:[3,6];case 2:return a=f.sent(),[4,pm(r.Uh,a)];case 3:return u=f.sent(),[4,Dv(r,iy(a),u.targetId,!1)];case 4:f.sent(),Km(r.Ml,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(tl.d)(this,function(e){switch(e.label){case 0:return r.Ql.has(t)?[4,gm(r.Uh,t,!1).then(function(){Qm(r.Ml,t),Gv(r,t)}).catch(Ep)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function uy(t){var e=cl(t);return e.Ml.Kh.Zh=Lv.bind(null,e),e.Ml.Kh.Xn=Zv.bind(null,e),e.Ml.Kh.Xh=Uv.bind(null,e),e.ql.yi=_v.bind(null,e.Ll),e.ql.t_=Ov.bind(null,e.Ll),e}function cy(t){var e=cl(t);return e.Ml.Kh.tl=Fv.bind(null,e),e.Ml.Kh.el=qv.bind(null,e),e}var ly=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return this.fe=tp(t.rt.O),this.$l=this.r_(t),this.persistence=this.o_(t),[4,this.persistence.start()];case 1:return e.sent(),this.c_=this.a_(t),this.Uh=this.u_(t),[2]}})})},t.prototype.a_=function(t){return null},t.prototype.u_=function(t){return am(this.persistence,new om,t.h_,this.fe)},t.prototype.o_=function(t){return new Am(km.Du,this.fe)},t.prototype.r_=function(t){return new qm},t.prototype.terminate=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return this.c_&&this.c_.stop(),[4,this.$l.$()];case 1:return t.sent(),[4,this.persistence.$()];case 2:return t.sent(),[2]}})})},t}(),hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).l_=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(tl.c)(e,t),e.prototype.initialize=function(e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,bm(this.Uh)];case 2:return n.sent(),[4,this.l_.initialize(this,e)];case 3:return n.sent(),[4,cy(this.l_.Lu)];case 4:return n.sent(),[4,av(this.l_.Ml)];case 5:return n.sent(),[2]}})})},e.prototype.u_=function(t){return am(this.persistence,new om,t.h_,this.fe)},e.prototype.a_=function(t){return new kp(this.persistence.Io.vr,t.ks)},e.prototype.o_=function(t){var e=nm(t.rt.O,t.rt.persistenceKey),n=void 0!==this.cacheSizeBytes?_p.Ki(this.cacheSizeBytes):_p.Gi;return new Xg(this.synchronizeTabs,e,t.clientId,n,t.ks,Hm(),zm(),this.fe,this.$l,!!this.forceOwnership)},e.prototype.r_=function(t){return new qm},e}(ly),fy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).l_=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(tl.c)(e,t),e.prototype.initialize=function(e){return Object(tl.b)(this,void 0,void 0,function(){var n,r=this;return Object(tl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.l_.Lu,this.$l instanceof Fm?(this.$l.Lu={Sh:ey.bind(null,n),Dh:sy.bind(null,n),Ch:ay.bind(null,n),Ea:oy.bind(null,n),bh:ty.bind(null,n)},[4,this.$l.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Yc(function(t){return Object(tl.b)(r,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return[4,ny(this.l_.Lu,t)];case 1:return e.sent(),this.c_&&(t&&!this.c_.Nr?this.c_.start(this.Uh):t||this.c_.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.r_=function(t){var e=Hm();if(!Fm.G(e))throw new vl(ml.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nm(t.rt.O,t.rt.persistenceKey);return new Fm(e,t.ks,n,t.clientId,t.h_)},e}(hy),dy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n=this;return Object(tl.d)(this,function(r){switch(r.label){case 0:return this.Uh?[3,2]:(this.Uh=t.Uh,this.$l=t.$l,this.Qh=this.__(e),this.Ml=this.f_(e),this.Ll=this.d_(e),this.Lu=this.w_(e,!t.synchronizeTabs),this.$l.$u=function(t){return Mv(n.Lu,t,1)},this.Ml.Kh.E_=Jv.bind(null,this.Lu),[4,pv(this.Ml,this.Lu.Xl)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.d_=function(t){return new yv},t.prototype.__=function(t){var e=tp(t.rt.O),n=new zl(t.rt);return function(t,e,n){return new vp(t,e,n)}(t.credentials,n,e)},t.prototype.f_=function(t){var e,n,r,i,o,s=this;return e=this.Uh,n=this.Qh,r=t.ks,i=function(t){return Mv(s.Lu,t,0)},o=Nl.G()?new Nl:new kl,new Gm(e,n,r,i,o)},t.prototype.w_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Nv(t,e,n,r,i,o);return s&&(a.Yl=!0),a}(this.Uh,this.Ml,this.Ll,this.$l,t.h_,t.Bl,e)},t.prototype.terminate=function(){return function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=cl(t),rl("RemoteStore","RemoteStore shutting down."),e.Gh.add(5),[4,Wm(e)];case 1:return n.sent(),e.Hh.$(),e.Jh.set("Unknown"),[2]}})})}(this.Ml)},t}(),py=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.T_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.T_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.I_=function(){this.muted=!0},t.prototype.T_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),gy=(function(){function t(t,e){var n=this;this.m_=t,this.fe=e,this.metadata=new Hl,this.buffer=new Uint8Array,this.A_=new TextDecoder("utf-8"),this.R_().then(function(t){t&&t.Tl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.m_.cancel()},t.prototype.getMetadata=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.s_=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.R_())]}})})},t.prototype.R_=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return[4,this.P_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.A_.decode(t),n=Number(e),isNaN(n)&&this.y_("length string ("+e+") is not valid number"),[4,this.g_(n)]);case 2:return r=i.sent(),[2,new Cv(JSON.parse(r),t.length+n)]}})})},t.prototype.V_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.P_=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return this.V_()<0?[4,this.p_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.V_())<0&&this.y_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.g_=function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.p_()]:[3,3];case 1:n.sent()&&this.y_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.A_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.y_=function(t){throw this.m_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.p_=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return[4,this.m_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new vl(ml.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.b_=new Ql(t)}return t.prototype.isEqual=function(t){return this.b_.isEqual(t.b_)},t}()),my=function(t){this._methodName=t},vy=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new by(this.firestore,this.v_,this.S_.path.yt())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),yy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),by=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Yh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.yt();return t.bt()?null:new vy(this.firestore,null,new Yl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(yy);function wy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bl&&(t=t._),Pp("collection","path",e),t instanceof zp)return Lp(n=Wl.xt.apply(Wl,Object(tl.g)([e],r))),new by(t,null,n);if(!(t instanceof vy||t instanceof by))throw new vl(ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lp(n=Wl.xt.apply(Wl,Object(tl.g)([t.path],r)).child(Wl.xt(e))),new by(t.firestore,null,n)}function _y(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bl&&(t=t._),1===arguments.length&&(e=hl.t()),Pp("doc","path",e),t instanceof zp)return Vp(n=Wl.xt.apply(Wl,Object(tl.g)([e],r))),new vy(t,null,new Yl(n));if(!(t instanceof vy||t instanceof by))throw new vl(ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vp(n=t.D_.child(Wl.xt.apply(Wl,Object(tl.g)([e],r)))),new vy(t.firestore,t instanceof by?t.v_:null,new Yl(n))}function Oy(t,e){return t instanceof bl&&(t=t._),e instanceof bl&&(e=e._),(t instanceof vy||t instanceof by)&&(e instanceof vy||e instanceof by)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Ey(t,e){return t instanceof bl&&(t=t._),e instanceof bl&&(e=e._),t instanceof yy&&e instanceof yy&&t.firestore===e.firestore&&sf(t.C_,e.C_)&&t.v_===e.v_}var Iy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new vl(ml.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vl(ml.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.dt=function(t){return fl(this.x_,t.x_)||fl(this.N_,t.N_)},t}(),Cy=/^__.*__$/,xy=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Te?new Uf(t,this.data,this.Te,e,this.fieldTransforms):new Mf(t,this.data,e,this.fieldTransforms)},t}(),Ty=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Uf(t,this.data,this.Te,e,this.fieldTransforms)},t}();function Sy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw al()}}var Ay=function(){function t(t,e,n,r,i,o){this.settings=t,this.O=e,this.fe=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Te=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.O,this.fe,this.ignoreUndefinedProperties,this.fieldTransforms,this.Te)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Qy(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Te.find(function(e){return t.vt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.vt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Sy(this.k_)&&Cy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),jy=function(){function t(t,e,n){this.O=t,this.ignoreUndefinedProperties=e,this.fe=n||tp(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Ay({k_:t,methodName:e,j_:n,path:Ql.Nt(),B_:!1,W_:r},this.O,this.fe,this.ignoreUndefinedProperties)},t}();function ky(t){var e=t.so(),n=tp(t.zr);return new jy(t.zr,!!e.ignoreUndefinedProperties,n)}function Ny(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Gy("Data must be an object, but it was:",s,r);var a,u,c=zy(r,s);if(o.merge)a=new th(s.Te),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=$y(e,f[h],n);if(!s.contains(d))throw new vl(ml.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Yy(l,d)||l.push(d)}a=new th(l),u=s.fieldTransforms.filter(function(t){return a.Qt(t.field)})}else a=null,u=s.fieldTransforms;return new xy(new _h(c),a,u)}var Py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Te.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(my);function Dy(t,e,n){return new Ay({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.O,e.fe,e.ignoreUndefinedProperties)}var Ry=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.z_=function(t){return new Sf(t.path,new wf)},e.prototype.isEqual=function(t){return t instanceof e},e}(my),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(tl.c)(e,t),e.prototype.z_=function(t){var e=Dy(this,t,!0),n=this.H_.map(function(t){return Hy(t,e)}),r=new _f(n);return new Sf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(my),Ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(tl.c)(e,t),e.prototype.z_=function(t){var e=Dy(this,t,!0),n=this.H_.map(function(t){return Hy(t,e)}),r=new Ef(n);return new Sf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(my),My=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(tl.c)(e,t),e.prototype.z_=function(t){var e=new Cf(t.fe,gf(t.fe,this.J_));return new Sf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(my);function Uy(t,e,n,r){var i=t.G_(1,e,n);Gy("Data must be an object, but it was:",i,r);var o=[],s=new Oh;Zl(r,function(t,r){var a=Ky(e,t,n);r instanceof bl&&(r=r._);var u=i.U_(a);if(r instanceof Py)o.push(a);else{var c=Hy(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new th(o);return new Ty(s.Gt(),a,i.fieldTransforms)}function Fy(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[$y(e,r,n)],u=[i];if(o.length%2!=0)throw new vl(ml.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push($y(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Oh,f=a.length-1;f>=0;--f)if(!Yy(l,a[f])){var d=a[f],p=u[f];p instanceof bl&&(p=p._);var g=s.U_(d);if(p instanceof Py)l.push(d);else{var m=Hy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new th(l);return new Ty(h.Gt(),v,s.fieldTransforms)}function qy(t,e,n,r){return void 0===r&&(r=!1),Hy(n,t.G_(r?4:3,e))}function Hy(t,e){if(t instanceof bl&&(t=t._),By(t))return Gy("Unsupported field value:",e,t),zy(t,e);if(t instanceof my)return function(t,e){if(!Sy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Te.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Hy(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof bl&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gf(e.fe,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Bl.fromDate(t);return{timestampValue:Id(e.fe,n)}}if(t instanceof Bl)return n=new Bl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Id(e.fe,n)};if(t instanceof Iy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yl)return{bytesValue:Cd(e.fe,t.l)};if(t instanceof vy){var r=t.firestore.zr;if(!r.isEqual(n=e.O))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Sd(t.firestore.zr||e.O,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Mp(t))}(t,e)}function zy(t,e){var n={};return Xl(t)?e.path&&e.path.length>0&&e.Te.push(e.path):Zl(t,function(t,r){var i=Hy(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function By(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Bl||t instanceof Iy||t instanceof yl||t instanceof vy||t instanceof my)}function Gy(t,e,n){if(!By(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Mp(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function $y(t,e,n){if(e instanceof bl&&(e=e._),e instanceof gy)return e.b_;if("string"==typeof e)return Ky(t,e);throw Qy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Wy=new RegExp("[~\\*/\\[\\]]");function Ky(t,e,n){if(e.search(Wy)>=0)throw Qy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(gy.bind.apply(gy,Object(tl.g)([void 0],e.split("."))))).b_}catch(r){throw Qy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Qy(t,e,n,r,i){var o=r&&!r.bt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new vl(ml.INVALID_ARGUMENT,(a+=". ")+t+u)}function Yy(t,e){return t.some(function(t){return t.isEqual(e)})}var Jy=function(){function t(t){this.Qh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n=this;return Object(tl.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new vl(ml.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(tl.d)(this,function(u){switch(u.label){case 0:return n=cl(t),r=Dd(n.fe)+"/documents",i={documents:e.map(function(t){return jd(n.fe,t)})},[4,n._t("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ul(!!e.found);var n=kd(t,e.found.name),r=Td(e.found.updateTime),i=new _h({mapValue:{fields:e.found.fields}});return new Ch(n,r,i,{})}(t,e):"missing"in e?function(t,e){ul(!!e.missing),ul(!!e.readTime);var n=kd(t,e.missing),r=Td(e.readTime);return new xh(n,r)}(t,e):al()}(n.fe,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());ul(!!e),a.push(e)}),a)]}})})}(this.Qh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof xh||t instanceof Ch?n.sf(t):al()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Bf(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e=this;return Object(tl.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Yl.Lt(n);e.mutations.push(new Gf(r,e.Ee(r)))}),[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return n=cl(t),r=Dd(n.fe)+"/documents",i={writes:e.map(function(t){return Md(n.fe,t)})},[4,n.at("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Qh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Ch)e=t.version;else{if(!(t instanceof xh))throw al();e=Gl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new vl(ml.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Ee=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?jf.updateTime(e):jf.de()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Gl.min()))throw new vl(ml.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jf.updateTime(e)}return jf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Zy=function(){function t(t,e,n,r){this.ks=t,this.Qh=e,this.updateFunction=n,this.Bs=r,this.cf=5,this.ui=new dp(this.ks,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.ui.ti(function(){return Object(tl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(tl.d)(this,function(r){return t=new Jy(this.Qh),(e=this.uf(t))&&e.then(function(e){n.ks.Ws(function(){return t.commit().then(function(){n.Bs.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Pl(e)&&e.catch&&e.then?e:(this.Bs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Bs.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.ks.Ws(function(){return e.af(),Promise.resolve()})):this.Bs.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ul(e)}return!1},t}(),Xy=function(){function t(t,e,n){var r=this;this.credentials=t,this.ks=e,this.rt=n,this.user=El.UNAUTHENTICATED,this.clientId=hl.t(),this._f=function(){},this.S=new Hl,this.credentials.V(function(t){rl("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r._f(t)),r.S.resolve()})}return t.prototype.getConfiguration=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return[4,this.S.promise];case 1:return[2,(t.sent(),{ks:this.ks,rt:this.rt,clientId:this.clientId,credentials:this.credentials,h_:this.user,Bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.S.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.ks.wf)throw new vl(ml.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.ks.Ef();var e=new Hl;return this.ks.Tf(function(){return Object(tl.b)(t,void 0,void 0,function(){var t,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.p(),e.resolve(),[3,6];case 5:return t=r.sent(),n=fp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function tb(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r=this;return Object(tl.d)(this,function(i){switch(i.label){case 0:return t.ks.Af(),rl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.ff(function(n){return t.ks.ea(function(){return Object(tl.b)(r,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return[4,um(e.Uh,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.Xc(function(){return t.terminate()}),t.mf=e,[2]}})})}function eb(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return t.ks.Af(),[4,nb(t)];case 1:return n=i.sent(),rl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.ks.ea(function(){return function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return(n=cl(t)).ks.Af(),rl("RemoteStore","RemoteStore received new credentials"),r=tv(n),n.Gh.add(3),[4,Wm(n)];case 1:return i.sent(),r&&n.Jh.set("Unknown"),[4,n.Kh.E_(e)];case 2:return i.sent(),n.Gh.delete(3),[4,$m(n)];case 3:return i.sent(),[2]}})})}(e.Ml,n)})}),t.If=e,[2]}})})}function nb(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(rl("FirestoreClient","Using default OfflineComponentProvider"),[4,tb(t,new ly)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function rb(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(rl("FirestoreClient","Using default OnlineComponentProvider"),[4,eb(t,new dy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function ib(t){return nb(t).then(function(t){return t.persistence})}function ob(t){return nb(t).then(function(t){return t.Uh})}function sb(t){return rb(t).then(function(t){return t.Ml})}function ab(t){return rb(t).then(function(t){return t.Lu})}function ub(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return[4,rb(t)];case 1:return e=r.sent(),[2,((n=e.Ll).ol=Pv.bind(null,e.Lu),n.ul=Rv.bind(null,e.Lu),n)]}})})}function cb(t,e,n){var r=this;void 0===n&&(n={});var i=new Hl;return t.ks.Ws(function(){return Object(tl.b)(r,void 0,void 0,function(){var r;return Object(tl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new py({next:function(o){e.Ws(function(){return wv(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new vl(ml.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new vl(ml.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Iv(Yh(n.path),o,{includeMetadataChanges:!0,El:!0});return bv(t,s)},[4,ub(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.ks,e,n,i])]}})})}),i.promise}function lb(t,e,n){var r=this;void 0===n&&(n={});var i=new Hl;return t.ks.Ws(function(){return Object(tl.b)(r,void 0,void 0,function(){var r;return Object(tl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new py({next:function(n){e.Ws(function(){return wv(t,s)}),n.fromCache&&"server"===r.source?i.reject(new vl(ml.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Iv(n,o,{includeMetadataChanges:!0,El:!0});return bv(t,s)},[4,ub(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.ks,e,n,i])]}})})}),i.promise}var hb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.ui=new dp(this,"async_queue_retry"),this.vf=function(){var e=zm();e&&rl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ui.si()};var e=zm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ws=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=zm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.ea=function(t){var e=this;this.Ws(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e=this;return Object(tl.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.ui.reset(),[3,4];case 3:if(!sp(t=n.sent()))throw t;return rl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.ui.ti(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,il("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.ni=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=hp.qs(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&al()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(tl.b)(this,void 0,void 0,function(){var t;return Object(tl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].Ms===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.Ls-e.Ls});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ms===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new hb,r.Wr="name"in e?e.name:"[DEFAULT]",r}return Object(tl.c)(e,t),e.prototype.io=function(){return this.Lf||pb(this),this.Lf.terminate()},e}(zp);function db(t){return t.Lf||pb(t),t.Lf.df(),t.Lf}function pb(t){var e=t.so(),n=function(t,e,n){return new Al(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.zr,t.Wr,e);t.Lf=new Xy(t.Hr,t.Mf,n)}function gb(t,e,n){var r=this,i=new Hl;return t.ks.enqueue(function(){return Object(tl.b)(r,void 0,void 0,function(){var r;return Object(tl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,tb(t,n)];case 1:return o.sent(),[4,eb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ml.FAILED_PRECONDITION||t.code===ml.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function mb(t){if(t.Yr||t.Xr)throw new vl(ml.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vb=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),uh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(ih(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw al()}},t.prototype.jf=function(t,e){var n=this,r={};return Zl(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Iy(rh(t.latitude),rh(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=sh(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(ah(t));default:return null}},t.prototype.Bf=function(t){var e=nh(t);return new Bl(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Wl.xt(t);ul(Xd(n));var r=new jl(n.get(1),n.get(3)),i=new Yl(n.Pt(5));return r.isEqual(e)||il("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),yb=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new vy(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new bb(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.Yt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(wb("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(yb);function wb(t,e){return"string"==typeof e?Ky(t,e):e instanceof bl?e._.b_:e.b_}function _b(t){if(Zh(t)&&0===t.ne.length)throw new vl(ml.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ob=function(){};function Eb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(tl.c)(e,t),e.prototype.Yf=function(t){var e=ky(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.Ot()){if("array-contains"===o||"array-contains-any"===o)throw new vl(ml.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){kb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(jb(r,t,l[c]));a={arrayValue:{values:u}}}else a=jb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||kb(s,o),a=qy(n,"where",s,"in"===o||"not-in"===o);var h=Ph.create(i,o,a);return function(t,e){if(e.ee()){var n=tf(t);if(null!==n&&!n.isEqual(e.field))throw new vl(ml.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Xh(t);null!==r&&Nb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new vl(ml.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.zr,this.Xf,this.Zf,this.td);return new yy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Kh(t.path,t.collectionGroup,t.ne.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Ob),Cb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(tl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new vl(ml.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new vl(ml.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bh(e,n);return function(t,e){if(null===Xh(t)){var n=tf(t);null!==n&&Nb(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new yy(t.firestore,t.v_,function(t,e){var n=t.ne.concat([e]);return new Kh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Ob),xb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(tl.c)(e,t),e.prototype.Yf=function(t){return new yy(t.firestore,t.v_,of(t.C_,this.nd,this.sd))},e}(Ob),Tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(tl.c)(e,t),e.prototype.Yf=function(t){var e=Ab(t,this.type,this.rd,this.od);return new yy(t.firestore,t.v_,function(t,e){return new Kh(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Ob),Sb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(tl.c)(e,t),e.prototype.Yf=function(t){var e=Ab(t,this.type,this.rd,this.od);return new yy(t.firestore,t.v_,function(t,e){return new Kh(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Ob);function Ab(t,e,n,r){if(n[0]instanceof bl&&(n[0]=n[0]._),n[0]instanceof yb)return function(t,e,n,r,i){if(!r)throw new vl(ml.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=nf(t);s<a.length;s++){var u=a[s];if(u.field.Ot())o.push(gh(e,r.key));else{var c=r.field(u.field);if(oh(c))throw new vl(ml.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.Ct();throw new vl(ml.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Hh(o,i)}(t.C_,t.firestore.zr,e,n[0].Jf,r);var i=ky(t.firestore);return function(t,e,n,r,i,o){var s=t.ne;if(i.length>s.length)throw new vl(ml.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.Ot()){if("string"!=typeof c)throw new vl(ml.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ef(t)&&-1!==c.indexOf("/"))throw new vl(ml.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Wl.xt(c));if(!Yl.qt(l))throw new vl(ml.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Yl(l);a.push(gh(e,h))}else{var f=qy(n,r,c);a.push(f)}}return new Hh(a,o)}(t.C_,t.firestore.zr,i,e,n,r)}function jb(t,e,n){if(n instanceof bl&&(n=n._),"string"==typeof n){if(""===n)throw new vl(ml.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ef(e)&&-1!==n.indexOf("/"))throw new vl(ml.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wl.xt(n));if(!Yl.qt(r))throw new vl(ml.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gh(t,new Yl(r))}if(n instanceof vy)return gh(t,n.S_);throw new vl(ml.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Mp(n)+".")}function kb(t,e){if(!Array.isArray(t)||0===t.length)throw new vl(ml.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new vl(ml.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Nb(t,e,n){if(!n.isEqual(e))throw new vl(ml.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Pb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Db=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tl.c)(e,t),e.prototype.Uf=function(t){return new yl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new vy(this.firestore,null,e)},e}(vb);function Rb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Lb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(tl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Mb(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.Yt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(wb("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(yb),Mb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Lb),Ub=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Vb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Mb(n.zf,n.Hf,r.key,r,new Vb(n.ud.tn.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.nn)throw new vl(ml.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.Ze.bt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Mb(t.zf,t.Hf,e.doc.key,e.doc,new Vb(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.Ze;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Mb(t.zf,t.Hf,e.doc.key,e.doc,new Vb(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Fb(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function Fb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return al()}}function qb(t,e){return t instanceof Lb&&e instanceof Lb?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Ub&&e instanceof Ub&&t.zf===e.zf&&Ey(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Hb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tl.c)(e,t),e.prototype.Uf=function(t){return new yl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new vy(this.firestore,null,e)},e}(vb);function zb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Up(t,vy);var o=Up(t.firestore,fb),s=ky(o);return e instanceof bl&&(e=e._),Gb(o,[("string"==typeof e||e instanceof gy?Fy(s,"updateDoc",t.S_,e,n,r):Uy(s,"updateDoc",t.S_,e)).F_(t.S_,jf.exists(!0))])}function Bb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof bl&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Rb(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Rb(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof vy)c=Up(t.firestore,fb),l=Yh(t.S_.path),u={next:function(e){i[a]&&i[a]($b(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Up(t,yy);c=Up(d.firestore,fb),l=d.C_;var p=new Hb(c);u={next:function(t){i[a]&&i[a](new Ub(c,p,d,t))},error:i[a+1],complete:i[a+2]},_b(t.C_)}return function(t,e,n,r){var i=this,o=new py(r),s=new Iv(e,o,n);return t.ks.Ws(function(){return Object(tl.b)(i,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=bv,[4,ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.I_(),t.ks.Ws(function(){return Object(tl.b)(i,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=wv,[4,ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(db(c),l,h,u)}function Gb(t,e){return function(t,e){var n=this,r=new Hl;return t.ks.Ws(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return n=Vv,[4,ab(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(db(t),e)}function $b(t,e,n){var r=n.docs.get(e.S_),i=new Hb(t);return new Lb(t,i,e.S_,r,new Vb(n.hasPendingWrites,n.fromCache),e.v_)}var Wb=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=ky(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Kb(t,this.zf),i=Pb(r.v_,e,n),o=Ny(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,jf.de())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Kb(t,this.zf);return e instanceof bl&&(e=e._),o="string"==typeof e||e instanceof gy?Fy(this.wd,"WriteBatch.update",s.S_,e,n,r):Uy(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,jf.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Kb(t,this.zf);return this.fd=this.fd.concat(new Bf(e.S_,jf.de())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new vl(ml.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Kb(t,e){if(t instanceof bl&&(t=t._),t.firestore!==e)throw new vl(ml.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(tl.c)(e,t),e.prototype.get=function(e){var n=this,r=Kb(e,this.zf),i=new Hb(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Lb(n.zf,i,r.S_,t.Jf,new Vb(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=ky(t)}return t.prototype.get=function(t){var e=this,n=Kb(t,this.zf),r=new Db(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return al();var i=t[0];if(i instanceof xh)return new yb(e.zf,r,n.S_,null,n.v_);if(i instanceof Ch)return new yb(e.zf,r,i.key,i,n.v_);throw al()})},t.prototype.set=function(t,e,n){var r=Kb(t,this.zf),i=Pb(r.v_,e,n),o=Ny(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Kb(t,this.zf);return e instanceof bl&&(e=e._),o="string"==typeof e||e instanceof gy?Fy(this.wd,"Transaction.update",s.S_,e,n,r):Uy(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Kb(t,this.zf);return this.Td.delete(e.S_),this},t}()),Yb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){mb(t=Up(t,fb));var n=db(t),r=t.so(),i=new dy;return gb(n,i,new hy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){mb(t=Up(t,fb));var e=db(t),n=t.so(),r=new dy;return gb(e,r,new fy(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.Yr&&!t.Xr)throw new vl(ml.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hl;return t.Mf.Tf(function(){return Object(tl.b)(e,void 0,void 0,function(){var e;return Object(tl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return rp.G()?[4,rp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(nm(t.zr,t.Wr))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),Jb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof jl||(i.md=e),i}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"zr",{get:function(){return this._.zr},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.no()),t)).merge,this._.eo(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.no().host&&ol("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.ks.enqueue(function(){return Object(tl.b)(e,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return[4,ib(t)];case 1:return e=r.sent(),[4,sb(t)];case 2:return n=r.sent(),[2,(e.Zc(!0),function(t){var e=cl(t);return e.Gh.delete(0),$m(e)}(n))]}})})})}(db(Up(this._,fb)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.ks.enqueue(function(){return Object(tl.b)(e,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return[4,ib(t)];case 1:return e=r.sent(),[4,sb(t)];case 2:return n=r.sent(),[2,(e.Zc(!1),function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return(e=cl(t)).Gh.add(0),[4,Wm(e)];case 1:return n.sent(),e.Jh.set("Offline"),[2]}})})}(n))]}})})})}(db(Up(this._,fb)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Rp("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hl;return t.ks.Ws(function(){return Object(tl.b)(e,void 0,void 0,function(){var e;return Object(tl.d)(this,function(r){switch(r.label){case 0:return e=Hv,[4,ab(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(db(Up(this._,fb)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new py(e);return t.ks.Ws(function(){return Object(tl.b)(n,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){cl(t).rl.add(e),e.next()},[4,ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.I_(),t.ks.Ws(function(){return Object(tl.b)(n,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){cl(t).rl.delete(e)},[4,ub(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(db(t=Up(t,fb)),Rb(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new vl(ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lw(this,wy(this._,t))}catch(t){throw nw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ew(this,_y(this._,t))}catch(t){throw nw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new aw(this,function(t,e){if(t=Up(t,zp),Pp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vl(ml.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yy(t,null,function(t){return new Kh(Wl.Nt(),t)}(e))}(this._,t))}catch(t){throw nw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Hl;return t.ks.Ws(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return rb(t).then(function(t){return t.Qh})}(t)];case 1:return n=i.sent(),new Zy(t.ks,n,e,r).run(),[2]}})})}),r.promise}(db(t),function(n){return e(new Qb(t,n))})}(this._,function(n){return t(new Xb(e,n))})},e.prototype.batch=function(){var t=this;return db(this._),new tw(new Wb(this._,function(e){return Gb(t._,e)}))},e.prototype.loadBundle=function(t){throw new vl(ml.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new vl(ml.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(bl),Zb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tl.c)(e,t),e.prototype.Uf=function(t){return new Ol(new yl(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return ew.Ad(e,this.firestore,null)},e}(vb),Xb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(tl.c)(e,t),e.prototype.get=function(t){var e=this,n=hw(t);return this._.get(n).then(function(t){return new ow(e.zf,t)})},e.prototype.set=function(t,e,n){var r=hw(t);return n?(Dp("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=hw(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(tl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=hw(t);return this._.delete(e),this},e}(bl),tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.set=function(t,e,n){var r=hw(t);return n?(Dp("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=hw(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(tl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=hw(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(bl),ew=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Zb(e),r}return Object(tl.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new vl(ml.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.Ct()+" has "+t.length);return new e(n,new vy(n._,r,new Yl(t)))},e.Ad=function(t,n,r){return new e(n,new vy(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lw(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lw(this.firestore,wy(this._,t))}catch(t){throw nw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof bl&&(t=t._),t instanceof vy&&Oy(this._,t)},e.prototype.set=function(t,e){e=Dp("DocumentReference.set",e);try{return function(t,e,n){t=Up(t,vy);var r=Up(t.firestore,fb),i=Pb(t.v_,e,n);return Gb(r,[Ny(ky(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,jf.de())])}(this._,t,e)}catch(t){throw nw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?zb(this._,t):zb.apply(void 0,Object(tl.g)([this._,t,e],n))}catch(t){throw nw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gb(Up((t=this._).firestore,fb),[new Bf(t.S_,jf.de())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rw(e),i=iw(e,function(e){return new ow(t.firestore,new Lb(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Bb(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Up(t,vy);var e=Up(t.firestore,fb),n=db(e),r=new Hb(e);return function(t,e){var n=this,r=new Hl;return t.ks.Ws(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=cl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ka.Pa(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Ch?n.resolve(i):i instanceof xh?n.resolve(null):n.reject(new vl(ml.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=fp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,ob(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Lb(e,r,t.S_,n,new Vb(n instanceof Ch&&n.Jt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Up(t,vy);var e=Up(t.firestore,fb);return cb(db(e),t.S_,{source:"server"}).then(function(n){return $b(e,t,n)})}(this._):function(t){t=Up(t,vy);var e=Up(t.firestore,fb);return cb(db(e),t.S_).then(function(n){return $b(e,t,n)})}(this._)).then(function(t){return new ow(e.firestore,new Lb(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(bl);function nw(t,e,n){return t.message=t.message.replace(e,n),t}function rw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Rb(r))return r}return{}}function iw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Rb(t[0])?t[0]:Rb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ow=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ew(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return qb(this._,t._)},e}(bl),sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(ow),aw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Zb(e),r}return Object(tl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Eb(this._,function(t,e,n){var r=e,i=wb("where",t);return new Ib(i,r,n)}(t,n,r)))}catch(t){throw nw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Eb(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=wb("orderBy",t);return new Cb(r,n)}(t,n)))}catch(t){throw nw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Eb(this._,function(t){return Fp("limit",t),new xb("limit",t,"F")}(t)))}catch(t){throw nw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Eb(this._,function(t){return Fp("limitToLast",t),new xb("limitToLast",t,"L")}(t)))}catch(t){throw nw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw nw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw nw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sb("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw nw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Eb(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sb("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw nw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Ey(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Up(t,yy);var e=Up(t.firestore,fb),n=db(e),r=new Hb(e);return function(t,e){var n=this,r=new Hl;return t.ks.Ws(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(tl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,mm(t,e,!0)];case 1:return a=u.sent(),r=new Av(e,a.za),i=r.bl(a.documents),o=r.yr(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=fp(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,ob(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Ub(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Up(t,yy);var e=Up(t.firestore,fb),n=db(e),r=new Hb(e);return lb(n,t.C_,{source:"server"}).then(function(n){return new Ub(e,r,t,n)})}(this._):function(t){t=Up(t,yy);var e=Up(t.firestore,fb),n=db(e),r=new Hb(e);return _b(t.C_),lb(n,t.C_).then(function(n){return new Ub(e,r,t,n)})}(this._)).then(function(t){return new cw(e.firestore,new Ub(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rw(e),i=iw(e,function(e){return new cw(t.firestore,new Ub(t.firestore._,t.Hf,t._,e.ud))});return Bb(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(bl),uw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new sw(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(bl),cw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new aw(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new sw(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new uw(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new sw(n.zf,r))})},e.prototype.isEqual=function(t){return qb(this._,t._)},e}(bl),lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new ew(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ew(this.firestore,void 0===t?_y(this._):_y(this._,t))}catch(t){throw nw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Up(t.firestore,fb),r=_y(t),i=Pb(t.v_,e);return Gb(n,[Ny(ky(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,jf.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new ew(e.firestore,t)})},e.prototype.isEqual=function(t){return Oy(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(aw);function hw(t){return t instanceof bl&&(t=t._),Up(t,vy)}var fw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(gy.bind.apply(gy,Object(tl.g)([void 0],e))))||this}return Object(tl.c)(e,t),e.documentId=function(){return new e(Ql.kt().Ct())},e.prototype.isEqual=function(t){return t instanceof bl&&(t=t._),t instanceof gy&&this._.b_.isEqual(t.b_)},e}(bl),dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.serverTimestamp=function(){var t=new Ry("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Py("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vy("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ly("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new My("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(bl);!function(){function t(){this.Pd={},this.yd=new Hl,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.e_=function(t){this.n_(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.i_=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.n_=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var pw,gw=n("/6Yf"),mw={Firestore:Jb,GeoPoint:Iy,Timestamp:Bl,Blob:Ol,Transaction:Xb,WriteBatch:tw,DocumentReference:ew,DocumentSnapshot:ow,Query:aw,QueryDocumentSnapshot:sw,QuerySnapshot:cw,CollectionReference:lw,FieldPath:fw,FieldValue:dw,setLogLevel:function(t){el.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new gw.a("firestore",function(t){return function(t,e){return new Jb(t,new fb(t,e),new Yb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},mw)))})(pw=Yo.a),pw.registerVersion("@firebase/firestore","2.1.0");var vw=n("VRyK"),yw=n("qgXg"),bw=n("Ylt2");class ww extends ze.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new _w(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Be.a;if(this.isStopped||this.hasError?o=Hn.a.EMPTY:(this.observers.push(t),o=new bw.a(this,t)),r&&t.add(t=new Ko.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||yw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class _w{constructor(t,e){this.time=t,this.value=e}}function Ow(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new ww(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Ew(t,e){return e?Pn(()=>t,e):Pn(()=>t)}var Iw=n("tf+s");const Cw=new r.q("angularfire2.auth.use-emulator"),xw=new r.q("angularfire2.auth.settings"),Tw=new r.q("angularfire2.auth.tenant-id"),Sw=new r.q("angularfire2.auth.langugage-code"),Aw=new r.q("angularfire2.auth.use-device-language"),jw=new r.q("angularfire.auth.persistence");let kw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Qo.d(i),f=Object(Qo.h)(h),d=new ze.a,p=Object(He.a)(void 0).pipe(Object(Ko.b)(h.outsideAngular),Pn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(vt.a)(()=>Object(Qo.g)(t,i,e)),Object(vt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Qo.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Ow({bufferSize:1,refCount:!1}));if(V(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(He.a)(null);else{p.pipe(Sn()).subscribe();const t=p.pipe(Pn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Ow({bufferSize:1,refCount:!1})),e=t=>new gt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Pn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Pn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ew(n),Object(Iw.a)(h.outsideAngular),Object(Ko.b)(h.insideAngular)),this.user=t.pipe(Ew(r),Object(Iw.a)(h.outsideAngular),Object(Ko.b)(h.insideAngular)),this.idToken=this.user.pipe(Pn(t=>t?Object(bt.a)(t.getIdToken()):Object(He.a)(null))),this.idTokenResult=this.user.pipe(Pn(t=>t?Object(bt.a)(t.getIdTokenResult()):Object(He.a)(null))),this.credential=Object(vw.a)(t,d,this.authState.pipe(sn(t=>!t))).pipe(Object(vt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Iw.a)(h.outsideAngular),Object(Ko.b)(h.insideAngular))}return Object(Qo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Qo.c),r.Pb(Qo.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Cw,8),r.Pb(xw,8),r.Pb(Tw,8),r.Pb(Sw,8),r.Pb(Aw,8),r.Pb(jw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Qo.c),Object(r.Pb)(Qo.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Cw,8),Object(r.Pb)(xw,8),Object(r.Pb)(Tw,8),Object(r.Pb)(Sw,8),Object(r.Pb)(Aw,8),Object(r.Pb)(jw,8))},token:t,providedIn:"any"}),t})();function Nw(t,e){return function(t,e=Ho.a){return new gt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Pw(t,e){return Nw(t,e).pipe(Object(vt.a)(t=>({payload:t,type:"query"})))}function Dw(t,e){return Pw(t,e).pipe(Ln(void 0),zo(),Object(vt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Rw(t,e,n){return Dw(t,n).pipe(Mn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Vw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Vw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Vw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new $o(void 0,void 0)),Object(vt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Vw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Lw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Qo.e)(kw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Mw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Dw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ln(void 0),zo(),sn(([t,e])=>e.length>0||!t),Object(vt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Mn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Lw(t);return Rw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Pw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(Ko.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Uw(this.ref.doc(t),this.afs)}}class Uw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Gw(n,e);return new Mw(r,i,this.afs)}snapshotChanges(){return Nw(this.ref,this.afs.schedulers.outsideAngular).pipe(Ln(void 0),zo(),Object(vt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(vt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(bt.a)(this.ref.get(t)).pipe(Object(Ko.b)(this.afs.schedulers.insideAngular))}}class Fw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Dw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),sn(t=>t.length>0),this.afs.keepUnstableUntilFirst):Dw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Mn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Lw(t);return Rw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Pw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(Ko.b)(this.afs.schedulers.insideAngular))}}const qw=new r.q("angularfire2.enableFirestorePersistence"),Hw=new r.q("angularfire2.firestore.persistenceSettings"),zw=new r.q("angularfire2.firestore.settings"),Bw=new r.q("angularfire2.firestore.use-emulator");function Gw(t,e=(t=>t)){return{query:e(t),ref:t}}let $w=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Qo.d(o),this.keepUnstableUntilFirst=Object(Qo.h)(this.schedulers);const c=Object(Qo.g)(t,o,e);!qo.a.auth&&u&&Object(Qo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Qo.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!V(i)){const e=()=>{try{return Object(bt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(pw){return"undefined"!=typeof console&&console.warn(pw),Object(He.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(He.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Gw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Mw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Fw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Uw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Qo.c),r.Pb(Qo.b,8),r.Pb(qw,8),r.Pb(zw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Hw,8),r.Pb(Bw,8),r.Pb(Cw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Qo.c),Object(r.Pb)(Qo.b,8),Object(r.Pb)(qw,8),Object(r.Pb)(zw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Hw,8),Object(r.Pb)(Bw,8),Object(r.Pb)(Cw,8))},token:t,providedIn:"any"}),t})(),Ww=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:qw,useValue:!0},{provide:Hw,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[$w]}),t})();function Kw(t,e){1&t&&(r.Lb(0,"div",5),r.dc(1,"Letters only"),r.Kb())}function Qw(t,e){1&t&&(r.Lb(0,"div",5),r.dc(1,"Letters only"),r.Kb())}let Yw=(()=>{class t{constructor(t){this.db=t,this.submitTrigger=new r.n,this.addBook=new Ie({title:new Ee("",[Ft.required,Ft.pattern(/^[a-zA-Z0-9\s]*$/)]),genre:new Ee("",[Ft.required,Ft.pattern(/^[a-zA-Z\s]*$/)])})}ngOnInit(){}onSubmit(t){let e=t.value.title,n=t.value.genre;""!=e&&""!=n&&(this.db.collection("authors").doc(this.name).update({books:qo.a.firestore.FieldValue.arrayUnion({title:e,genre:n})}),this.eventTrigger(t))}eventTrigger(t){this.submitTrigger.emit(t)}onChildClickFunction(t){t.stopPropagation()}get title(){return this.addBook.get("title")}get genre(){return this.addBook.get("genre")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-addbook"]],inputs:{name:"name"},outputs:{submitTrigger:"submitTrigger"},decls:10,vars:8,consts:[[3,"formGroup","ngSubmit","click"],["type","text","formControlName","title"],["class","error",4,"ngIf"],["type","text","formControlName","genre"],["type","submit","value","Add book",1,"a_b_s",3,"disabled"],[1,"error"]],template:function(t,e){1&t&&(r.Lb(0,"form",0),r.Sb("ngSubmit",function(){return e.onSubmit(e.addBook)})("click",function(t){return e.onChildClickFunction(t)}),r.Lb(1,"label"),r.dc(2," Title: "),r.Jb(3,"input",1),r.Kb(),r.cc(4,Kw,2,0,"div",2),r.Lb(5,"label"),r.dc(6," Genre: "),r.Jb(7,"input",3),r.Kb(),r.cc(8,Qw,2,0,"div",2),r.Jb(9,"input",4),r.Kb()),2&t&&(r.Vb("formGroup",e.addBook),r.yb(3),r.bc("border",e.title.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.title.invalid&&(e.title.dirty||e.title.touched)),r.yb(3),r.bc("border",e.genre.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.genre.invalid&&(e.genre.dirty||e.genre.touched)),r.yb(1),r.Vb("disabled","INVALID"==e.addBook.status))},directives:[Se,Dt,ke,xt,Pt,Me,N],styles:["form[_ngcontent-%COMP%]{width:200px;margin:0 auto;align-self:center;background-color:#fff;z-index:1;padding:10px}label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.a_b_s[_ngcontent-%COMP%]{background-color:var(--clr-main);width:100%;color:#fff;border:none;font-size:16px;padding:5px;cursor:pointer;margin-top:5px}.error[_ngcontent-%COMP%]{font-size:12px;color:red;font-style:italic}input[disabled][_ngcontent-%COMP%]{background-color:grey;cursor:not-allowed}"]}),t})();function Jw(t,e){1&t&&(r.Lb(0,"div",5),r.dc(1,"Letters only"),r.Kb())}function Zw(t,e){1&t&&(r.Lb(0,"div",5),r.dc(1,"Letters only"),r.Kb())}let Xw=(()=>{class t{constructor(t){this.db=t,this.submitTrigger=new r.n}ngOnInit(){this.editBook=new Ie({title:new Ee(this.book.title,[Ft.required,Ft.pattern(/^[a-zA-Z0-9\s]*$/)]),genre:new Ee(this.book.genre,[Ft.required,Ft.pattern(/^[a-zA-Z\s]*$/)])})}onSubmit(t){let e=t.value.title,n=t.value.genre;this.db.collection("authors").doc(this.name).update({books:qo.a.firestore.FieldValue.arrayRemove({title:this.book.title,genre:this.book.genre})}),this.db.collection("authors").doc(this.name).update({books:qo.a.firestore.FieldValue.arrayUnion({title:e,genre:n})}),this.eventTrigger(t)}eventTrigger(t){this.submitTrigger.emit(t)}onChildClickFunction(t){t.stopPropagation()}get title(){return this.editBook.get("title")}get genre(){return this.editBook.get("genre")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-editbook"]],inputs:{name:"name",book:"book"},outputs:{submitTrigger:"submitTrigger"},decls:10,vars:8,consts:[[3,"formGroup","ngSubmit","click"],["type","text","formControlName","title"],["class","error",4,"ngIf"],["type","text","formControlName","genre"],["type","submit","value","Add book",1,"submit",3,"disabled"],[1,"error"]],template:function(t,e){1&t&&(r.Lb(0,"form",0),r.Sb("ngSubmit",function(){return e.onSubmit(e.editBook)})("click",function(t){return e.onChildClickFunction(t)}),r.Lb(1,"label"),r.dc(2," Title: "),r.Jb(3,"input",1),r.Kb(),r.cc(4,Jw,2,0,"div",2),r.Lb(5,"label"),r.dc(6," Genre: "),r.Jb(7,"input",3),r.Kb(),r.cc(8,Zw,2,0,"div",2),r.Jb(9,"input",4),r.Kb()),2&t&&(r.Vb("formGroup",e.editBook),r.yb(3),r.bc("border",e.title.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.title.invalid&&(e.title.dirty||e.title.touched)),r.yb(3),r.bc("border",e.genre.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.genre.invalid&&(e.genre.dirty||e.genre.touched)),r.yb(1),r.Vb("disabled","INVALID"==e.editBook.status))},directives:[Se,Dt,ke,xt,Pt,Me,N],styles:["form[_ngcontent-%COMP%]{width:200px;margin:0 auto;align-self:center;background-color:#fff;z-index:1;padding:10px}label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.submit[_ngcontent-%COMP%]{background-color:var(--clr-main);width:100%;color:#fff;border:none;font-size:16px;padding:5px;cursor:pointer;margin-top:5px}.error[_ngcontent-%COMP%]{font-size:12px;color:red;font-style:italic}input[disabled][_ngcontent-%COMP%]{background-color:grey;cursor:not-allowed}"]}),t})();function t_(t){let e=t.value.split("/")[0],n=t.value.split(".");return"http:"!=e&&"https:"!=e||"jpg"!=n[n.length-1]?""==t.value||null==t.value?null:{urlInvalid:!0}:null}let e_=(()=>{class t{constructor(){}monthDefinition(t){switch(t){case"01":return"January";case"02":return"February";case"03":return"March";case"04":return"April";case"05":return"May";case"06":return"June";case"07":return"July";case"08":return"August";case"09":return"September";case"10":return"October";case"11":return"November";case"12":return"December"}}monthDefinitionReverse(t){switch(t){case"January":return"01";case"February":return"02";case"March":return"03";case"April":return"04";case"May":return"05";case"June":return"06";case"July":return"07";case"August":return"08";case"September":return"09";case"October":return"10";case"November":return"11";case"December":return"12"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function n_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Letters only"),r.Kb())}function r_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Min 3 symbols"),r.Kb())}function i_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Max 20 symbols"),r.Kb())}function o_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Letters only"),r.Kb())}function s_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Min 3 symbols"),r.Kb())}function a_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Max 20 symbols"),r.Kb())}function u_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Requiered"),r.Kb())}function c_(t,e){if(1&t&&(r.Lb(0,"label"),r.dc(1," Date of death: "),r.Jb(2,"input",11),r.Kb()),2&t){const t=r.Ub();r.yb(2),r.bc("border",t.dod.valid?"2px solid green":"2px solid red"),r.Vb("max",t.max)}}function l_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,"Requiered"),r.Kb())}function h_(t,e){1&t&&(r.Lb(0,"div",10),r.dc(1,'Use following format : "https://example.jpg" or "http://example.jpg"'),r.Kb())}let f_=(()=>{class t{constructor(t,e,n){this.converter=t,this.db=e,this.router=n,this.submitTrigger=new r.n,this.max=(new Date).toISOString().split("T")[0]}ngOnInit(){let t,e,n=this.data.date_of_birth.split(" ");n[1]=this.converter.monthDefinitionReverse(n[1]),t=n.reverse().join("-");let r=this.data.date_of_death;if("Present Day"==r)e=(new Date).toISOString().substring(0,10),this.data.alive=!0,this.isAlive=!0,console.log(e);else{let t=r.split(" ");t[1]=this.converter.monthDefinitionReverse(t[1]),e=t.reverse().join("-"),this.data.alive=!1,this.isAlive=!1}this.EditAuthorForm=new Ie({first_name:new Ee(this.data.first_name,[Ft.required,Ft.pattern(/^[a-zA-Z\s]*$/),Ft.minLength(3),Ft.maxLength(20)]),last_name:new Ee(this.data.last_name,[Ft.required,Ft.pattern(/^[a-zA-Z\s]*$/),Ft.minLength(3),Ft.maxLength(20)]),d_o_b:new Ee(t,[Ft.required]),alive:new Ee(this.data.alive),d_o_d:new Ee(e,[Ft.required]),url:new Ee(this.data.image_url,[t_])}),console.log(this.EditAuthorForm),this.EditAuthorForm.get("alive").valueChanges.subscribe(t=>{t?(this.EditAuthorForm.get("d_o_d").clearValidators(),this.EditAuthorForm.controls.d_o_d.updateValueAndValidity(),this.isAlive=!0):(this.EditAuthorForm.get("d_o_d").setValidators([Ft.required]),this.EditAuthorForm.controls.d_o_d.updateValueAndValidity(),this.isAlive=!1)})}onSubmit(t){let e,n=t.value.first_name,r=t.value.last_name,i=t.value.url,o=t.value.d_o_b.split("-");o[1]=this.converter.monthDefinition(o[1]),o.reverse();let s=`${o[0]} ${o[1]} ${o[2]}`;if(this.isAlive)e="Present Day";else{let n=t.value.d_o_d.split("-");n[1]=this.converter.monthDefinition(n[1]),n.reverse(),e=`${n[0]} ${n[1]} ${n[2]}`}let a=`${n.toUpperCase()}${r.toUpperCase()}`;this.db.collection("authors").doc(a).set({first_name:n,last_name:r,date_of_birth:s,books:this.books,date_of_death:e,image_url:i}),a.toLowerCase()!=this.name.toLowerCase()&&this.db.collection("authors").doc(this.name).delete();let u=`${n.toLowerCase()}${r.toLowerCase()}`;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["details",u])),this.eventTrigger(t),console.log("TRIGGERED")}onChildClickFunction(t){t.stopPropagation()}eventTrigger(t){this.submitTrigger.emit(t)}get fname(){return this.EditAuthorForm.get("first_name")}get lname(){return this.EditAuthorForm.get("last_name")}get dob(){return this.EditAuthorForm.get("d_o_b")}get dod(){return this.EditAuthorForm.get("d_o_d")}get url(){return this.EditAuthorForm.get("url")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(e_),r.Ib($w),r.Ib(vo))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-edit-author"]],inputs:{data:"data",name:"name",books:"books"},outputs:{submitTrigger:"submitTrigger"},decls:27,vars:19,consts:[[3,"formGroup","ngSubmit","click"],["type","text","formControlName","first_name"],["class","error",4,"ngIf"],["type","text","formControlName","last_name"],["type","date","formControlName","d_o_b",3,"max"],[1,"alive"],["type","checkbox","formControlName","alive"],[4,"ngIf"],["type","text","formControlName","url","placeholder",".jpg format only"],["type","submit","value","Edit",1,"submit",3,"disabled"],[1,"error"],["type","date","formControlName","d_o_d",3,"max"]],template:function(t,e){1&t&&(r.Lb(0,"form",0),r.Sb("ngSubmit",function(){return e.onSubmit(e.EditAuthorForm)})("click",function(t){return e.onChildClickFunction(t)}),r.Lb(1,"label"),r.dc(2," First Name: "),r.Jb(3,"input",1),r.Kb(),r.cc(4,n_,2,0,"div",2),r.cc(5,r_,2,0,"div",2),r.cc(6,i_,2,0,"div",2),r.Lb(7,"label"),r.dc(8," Last Name: "),r.Jb(9,"input",3),r.Kb(),r.cc(10,o_,2,0,"div",2),r.cc(11,s_,2,0,"div",2),r.cc(12,a_,2,0,"div",2),r.Lb(13,"label"),r.dc(14," Date of birth: "),r.Jb(15,"input",4),r.Kb(),r.cc(16,u_,2,0,"div",2),r.Lb(17,"label",5),r.dc(18," Author is alive "),r.Jb(19,"input",6),r.Kb(),r.cc(20,c_,3,3,"label",7),r.cc(21,l_,2,0,"div",2),r.Lb(22,"label"),r.dc(23," Image Url (not required) "),r.Jb(24,"input",8),r.Kb(),r.cc(25,h_,2,0,"div",2),r.Jb(26,"input",9),r.Kb()),2&t&&(r.Vb("formGroup",e.EditAuthorForm),r.yb(3),r.bc("border",e.fname.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.fname.invalid&&(e.fname.dirty||e.fname.touched)),r.yb(1),r.Vb("ngIf",null==e.fname.errors?null:e.fname.errors.minlength),r.yb(1),r.Vb("ngIf",null==e.fname.errors?null:e.fname.errors.maxlength),r.yb(3),r.bc("border",e.lname.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.lname.invalid&&(e.lname.dirty||e.lname.touched)),r.yb(1),r.Vb("ngIf",null==e.lname.errors?null:e.lname.errors.minlength),r.yb(1),r.Vb("ngIf",null==e.lname.errors?null:e.lname.errors.maxlength),r.yb(3),r.bc("border",e.dob.valid?"2px solid green":"2px solid red"),r.Vb("max",e.max),r.yb(1),r.Vb("ngIf",e.dob.invalid&&(e.dob.dirty||e.dob.touched)),r.yb(4),r.Vb("ngIf",!e.isAlive),r.yb(1),r.Vb("ngIf",e.dod.invalid&&(e.dod.dirty||e.dod.touched)),r.yb(4),r.Vb("ngIf",e.url.invalid&&(e.url.dirty||e.url.touched)),r.yb(1),r.Vb("disabled","INVALID"==e.EditAuthorForm.status))},directives:[Se,Dt,ke,xt,Pt,Me,N,Et],styles:["form[_ngcontent-%COMP%]{width:350px;margin:0 auto;align-self:center;background-color:#fff;z-index:1;padding:10px}label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.submit[_ngcontent-%COMP%]{background-color:var(--clr-main);width:100%;color:#fff;border:none;font-size:16px;padding:5px;cursor:pointer;margin-top:5px}.error[_ngcontent-%COMP%]{font-size:12px;color:red;font-style:italic}.alive[_ngcontent-%COMP%]{display:flex;flex-direction:row}.alive[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{align-self:center;margin-left:3px}"]}),t})();function d_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",10),r.Jb(1,"img",11),r.Lb(2,"h3"),r.dc(3),r.Kb(),r.Lb(4,"span"),r.dc(5),r.Kb(),r.Lb(6,"button",12),r.Sb("click",function(){return r.Yb(t),r.Ub().show_edit_author_form()}),r.dc(7,"Edit Author Info"),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(1),r.Vb("src",""==t.data.image_url?t.defaultUrl:t.data.image_url,r.Zb)("alt",""==t.data.image_url?"Default_Image":t.data.first_name+t.data.last_name),r.yb(2),r.fc("",t.data.first_name," ",t.data.last_name,""),r.yb(2),r.fc("",t.data.date_of_birth," - ",t.data.date_of_death,"")}}function p_(t,e){1&t&&(r.Lb(0,"div",13),r.dc(1,"Consider adding some books to this author"),r.Kb())}function g_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",12),r.Sb("click",function(){r.Yb(t);const e=r.Ub().$implicit;return r.Ub().show_edit_book_form(e)}),r.dc(1,"Edit Book"),r.Kb()}}function m_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",12),r.Sb("click",function(){r.Yb(t);const e=r.Ub().$implicit;return r.Ub().remove_book(e)}),r.dc(1,"Remove Book"),r.Kb()}}function v_(t,e){if(1&t&&(r.Lb(0,"div",14),r.Lb(1,"div",15),r.Lb(2,"h4"),r.dc(3),r.Kb(),r.Lb(4,"span"),r.dc(5),r.Kb(),r.Kb(),r.Lb(6,"div",16),r.cc(7,g_,2,0,"button",17),r.cc(8,m_,2,0,"button",17),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(3),r.ec(t.title),r.yb(2),r.ec(t.genre),r.yb(2),r.Vb("ngIf",t),r.yb(1),r.Vb("ngIf",t)}}function y_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"app-addbook",18),r.Sb("submitTrigger",function(e){return r.Yb(t),r.Ub().show_add_form(e)})("click",function(){return r.Yb(t),r.Ub().show_add_form()}),r.Kb()}if(2&t){const t=r.Ub();r.Vb("name",t.name)}}function b_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"app-editbook",19),r.Sb("submitTrigger",function(){return r.Yb(t),r.Ub().show_edit_book_form()})("click",function(){return r.Yb(t),r.Ub().show_edit_book_form()}),r.Kb()}if(2&t){const t=r.Ub();r.Vb("name",t.name)("book",t.book_to_be_edited)}}function w_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"app-edit-author",20),r.Sb("submitTrigger",function(){return r.Yb(t),r.Ub().show_edit_author_form()})("click",function(){return r.Yb(t),r.Ub().show_edit_author_form()}),r.Kb()}if(2&t){const t=r.Ub();r.Vb("data",t.data)("name",t.name)("books",t.books)}}let __=(()=>{class t{constructor(t,e){this.db=t,this.route=e,this.defaultUrl="https://cdn.pixabay.com/photo/2019/06/10/10/02/elder-4263825_960_720.png",this.add_book_visible=!1,this.edit_book_visible=!1,this.edit_author_visible=!1}ngOnInit(){this.name=this.route.snapshot.paramMap.get("name").toUpperCase(),this.db.collection("authors").doc(this.name).valueChanges().subscribe(t=>{this.data=t,this.data&&(this.books=this.data.books,this.empty=0==this.books.length)})}show_add_form(){this.add_book_visible?(this.add_book_visible=!this.add_book_visible,document.body.style.overflowY="scroll"):(this.add_book_visible=!0,window.scrollTo(0,0),document.body.style.overflowY="hidden")}show_edit_book_form(t){this.edit_book_visible?(this.edit_book_visible=!this.edit_book_visible,document.body.style.overflowY="scroll"):(this.edit_book_visible=!0,window.scrollTo(0,0),document.body.style.overflowY="hidden"),this.book_to_be_edited=t}show_edit_author_form(){this.edit_author_visible?(this.edit_author_visible=!this.edit_author_visible,document.body.style.overflowY="scroll"):(this.edit_author_visible=!0,window.scrollTo(0,0),document.body.style.overflowY="hidden")}remove_book(t){confirm(`Do you want to remove "${t.title.toUpperCase()}" from the list ?`)&&this.db.collection("authors").doc(this.name).update({books:qo.a.firestore.FieldValue.arrayRemove({title:t.title,genre:t.genre})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w),r.Ib(Jr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-author-details"]],decls:14,vars:6,consts:[[1,"container"],["class","author_data",4,"ngIf"],[1,"books"],[1,"books_wrap"],["class","empty",4,"ngIf"],["class","book",4,"ngFor","ngForOf"],[1,"add_book",3,"click"],["class","book_form",3,"name","submitTrigger","click",4,"ngIf"],[3,"name","book","submitTrigger","click",4,"ngIf"],[3,"data","name","books","submitTrigger","click",4,"ngIf"],[1,"author_data"],[3,"src","alt"],[3,"click"],[1,"empty"],[1,"book"],[1,"book_data"],[1,"book_buttons"],[3,"click",4,"ngIf"],[1,"book_form",3,"name","submitTrigger","click"],[3,"name","book","submitTrigger","click"],[3,"data","name","books","submitTrigger","click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.cc(1,d_,8,6,"div",1),r.Lb(2,"div",2),r.Lb(3,"h2"),r.dc(4,"Bibliography"),r.Kb(),r.Lb(5,"div",3),r.cc(6,p_,2,0,"div",4),r.cc(7,v_,9,4,"div",5),r.Kb(),r.Jb(8,"hr"),r.Lb(9,"button",6),r.Sb("click",function(){return e.show_add_form()}),r.dc(10,"Add Book"),r.Kb(),r.Kb(),r.cc(11,y_,1,1,"app-addbook",7),r.cc(12,b_,1,2,"app-editbook",8),r.cc(13,w_,1,3,"app-edit-author",9),r.Kb()),2&t&&(r.yb(1),r.Vb("ngIf",e.data),r.yb(5),r.Vb("ngIf",e.empty),r.yb(1),r.Vb("ngForOf",e.books),r.yb(4),r.Vb("ngIf",e.add_book_visible),r.yb(1),r.Vb("ngIf",e.edit_book_visible&&e.book_to_be_edited),r.yb(1),r.Vb("ngIf",e.edit_author_visible))},directives:[N,j,Yw,Xw,f_],styles:[".container[_ngcontent-%COMP%]{display:flex;max-width:1000px;margin:0 auto;padding:0 10px}.author_data[_ngcontent-%COMP%]{width:300px;text-align:center}.author_data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.author_data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--clr-main);width:100%;color:#fff;border:none;font-size:22px;padding:5px;cursor:pointer}.books[_ngcontent-%COMP%]{flex:1;padding-left:10px}.books[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.books_wrap[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:5px}.book[_ngcontent-%COMP%], .books_wrap[_ngcontent-%COMP%]{display:flex}.book[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.book_data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:14px;font-style:italic}.book_buttons[_ngcontent-%COMP%]{margin-left:auto;display:flex}.book_buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}.add_book[_ngcontent-%COMP%], .book_buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px;cursor:pointer;background-color:var(--clr-main);color:#fff;border:none}app-addbook[_ngcontent-%COMP%], app-edit-author[_ngcontent-%COMP%], app-editbook[_ngcontent-%COMP%]{position:absolute;display:flex;top:0;left:0;width:100%;min-height:100%;background-color:hsla(0,0%,50.2%,.39)}@media (max-width:800px){.container[_ngcontent-%COMP%]{flex-direction:column}.author_data[_ngcontent-%COMP%]{margin:0 auto}}"]}),t})();function O_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",5),r.Jb(1,"img",6),r.Lb(2,"div",7),r.Lb(3,"h3"),r.dc(4),r.Kb(),r.Lb(5,"span"),r.dc(6),r.Kb(),r.Kb(),r.Lb(7,"button",8),r.Sb("click",function(){r.Yb(t);const n=e.$implicit;return r.Ub(2).go_to_details(n.first_name,n.last_name)}),r.dc(8,"Details"),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit,n=r.Ub(2);r.yb(1),r.Vb("src",""==t.image_url?n.defaultUrl:t.image_url,r.Zb)("alt",""==t.image_url?"Default_Image":t.first_name+t.last_name),r.yb(3),r.fc("",t.first_name," ",t.last_name,""),r.yb(2),r.fc("",t.date_of_birth," - ",t.date_of_death,"")}}function E_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",1),r.Lb(1,"input",2),r.Sb("keyup",function(e){return r.Yb(t),r.Ub().filter(e)}),r.Kb(),r.Lb(2,"div",3),r.cc(3,O_,9,6,"div",4),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(3),r.Vb("ngForOf",t.filteredDB)}}function I_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Letters only"),r.Kb())}function C_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Min 3 symbols"),r.Kb())}function x_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Max 20 symbols"),r.Kb())}function T_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Letters only"),r.Kb())}function S_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Min 3 symbols"),r.Kb())}function A_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Max 20 symbols"),r.Kb())}function j_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Requiered"),r.Kb())}function k_(t,e){if(1&t&&(r.Lb(0,"label"),r.dc(1," Date of death: "),r.Jb(2,"input",13),r.Kb()),2&t){const t=r.Ub();r.yb(2),r.bc("border",t.dod.valid?"2px solid green":"2px solid red"),r.Vb("max",t.max)}}function N_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,"Requiered"),r.Kb())}function P_(t,e){1&t&&(r.Lb(0,"div",12),r.dc(1,'Use following format : "https://example.jpg" or "http://example.jpg"'),r.Kb())}const D_=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:(()=>{class t{constructor(t,e){this.db=t,this.router=e,this.fullDB=[],this.filteredDB=[],this.defaultUrl="https://cdn.pixabay.com/photo/2019/06/10/10/02/elder-4263825_960_720.png"}ngOnInit(){this.db.collection("authors").get().subscribe(t=>{t.forEach(t=>{let e=t.data();this.fullDB.push(e),this.filteredDB=this.fullDB})})}go_to_details(t,e){let n=`${t.toLowerCase()}${e.toLowerCase()}`;this.router.navigate(["/details",n])}filter(t){let e=t.target.value;document.querySelectorAll(".author_card").forEach(t=>{t.style.display=t.children[1].innerText.toUpperCase().indexOf(e.toUpperCase())>-1?"":"none"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w),r.Ib(vo))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-main-page"]],decls:1,vars:1,consts:[["class","db",4,"ngIf"],[1,"db"],["type","text","placeholder","Search for author...",1,"search_bar",3,"keyup"],[1,"author_card_wrap"],["class","author_card",4,"ngFor","ngForOf"],[1,"author_card"],[3,"src","alt"],[1,"info_bar"],[3,"click"]],template:function(t,e){1&t&&r.cc(0,E_,4,1,"div",0),2&t&&r.Vb("ngIf",e.filteredDB)},directives:[N,j],styles:[".search_bar[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:5px;width:171px;padding:3px}.search_bar[_ngcontent-%COMP%]::placeholder{font-style:italic;color:var(--clr-main)}.author_card_wrap[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;padding-top:20px}.author_card[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px;margin:20px;box-shadow:1px 1px 4px 1px #000;transition:transform .6s}.author_card[_ngcontent-%COMP%]:hover{transform:translateY(-20px)}.author_card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:400px}.author_card[_ngcontent-%COMP%]   .info_bar[_ngcontent-%COMP%]{padding:5px;text-align:center}.author_card[_ngcontent-%COMP%]   .info_bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.author_card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;background-color:var(--clr-main);color:#fff;border:none;font-size:22px;cursor:pointer}"]}),t})()},{path:"new_author",component:(()=>{class t{constructor(t,e){this.db=t,this.converter=e,this.max=(new Date).toISOString().split("T")[0],this.newAuthorForm=new Ie({first_name:new Ee("",[Ft.required,Ft.pattern(/^[a-zA-Z\s]*$/),Ft.minLength(3),Ft.maxLength(20)]),last_name:new Ee("",[Ft.required,Ft.pattern(/^[a-zA-Z\s]*$/),Ft.minLength(3),Ft.maxLength(20)]),d_o_b:new Ee("",[Ft.required]),alive:new Ee(""),d_o_d:new Ee("",[Ft.required]),url:new Ee("",[t_])})}ngOnInit(){this.newAuthorForm.get("alive").valueChanges.subscribe(t=>{t?(this.newAuthorForm.get("d_o_d").clearValidators(),this.newAuthorForm.controls.d_o_d.updateValueAndValidity(),this.isAlive=!0):(this.newAuthorForm.get("d_o_d").setValidators([Ft.required]),this.newAuthorForm.controls.d_o_d.updateValueAndValidity(),this.isAlive=!1)})}onSubmit(t){let e,n=t.value.first_name,r=t.value.last_name,i=t.value.url,o=t.value.d_o_b.split("-");o[1]=this.converter.monthDefinition(o[1]),o.reverse();let s=`${o[0]} ${o[1]} ${o[2]}`;if(this.isAlive)e="Present Day";else{let n=t.value.d_o_d.split("-");n[1]=this.converter.monthDefinition(n[1]),n.reverse(),e=`${n[0]} ${n[1]} ${n[2]}`}let a=`${n.toUpperCase()}${r.toUpperCase()}`;this.db.collection("authors").doc(a).get().subscribe(t=>{t.exists?alert("Document Exists"):(this.db.collection("authors").doc(a).set({first_name:n,last_name:r,date_of_birth:s,date_of_death:e,image_url:i,books:[]}),this.playAnimation())})}resetAnimation(){document.querySelector(".success").classList.remove("show")}playAnimation(){document.querySelector(".success").classList.add("show")}get fname(){return this.newAuthorForm.get("first_name")}get lname(){return this.newAuthorForm.get("last_name")}get dob(){return this.newAuthorForm.get("d_o_b")}get dod(){return this.newAuthorForm.get("d_o_d")}get url(){return this.newAuthorForm.get("url")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w),r.Ib(e_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-new-author"]],decls:30,vars:19,consts:[[1,"container"],[1,"success"],[3,"formGroup","ngSubmit"],["type","text","formControlName","first_name"],["class","error",4,"ngIf"],["type","text","formControlName","last_name"],["type","date","formControlName","d_o_b",3,"max"],[1,"alive"],["type","checkbox","formControlName","alive"],[4,"ngIf"],["type","text","formControlName","url","placeholder",".jpg format only"],["type","submit","value","Add",1,"submit",3,"disabled"],[1,"error"],["type","date","formControlName","d_o_d",3,"max"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.dc(2,"Author Added"),r.Kb(),r.Lb(3,"form",2),r.Sb("ngSubmit",function(){return e.onSubmit(e.newAuthorForm)}),r.Lb(4,"label"),r.dc(5," First Name: "),r.Jb(6,"input",3),r.Kb(),r.cc(7,I_,2,0,"div",4),r.cc(8,C_,2,0,"div",4),r.cc(9,x_,2,0,"div",4),r.Lb(10,"label"),r.dc(11," Last Name: "),r.Jb(12,"input",5),r.Kb(),r.cc(13,T_,2,0,"div",4),r.cc(14,S_,2,0,"div",4),r.cc(15,A_,2,0,"div",4),r.Lb(16,"label"),r.dc(17," Date of birth: "),r.Jb(18,"input",6),r.Kb(),r.cc(19,j_,2,0,"div",4),r.Lb(20,"label",7),r.dc(21," Author is alive "),r.Jb(22,"input",8),r.Kb(),r.cc(23,k_,3,3,"label",9),r.cc(24,N_,2,0,"div",4),r.Lb(25,"label"),r.dc(26," Image Url (not required) "),r.Jb(27,"input",10),r.Kb(),r.cc(28,P_,2,0,"div",4),r.Jb(29,"input",11),r.Kb(),r.Kb()),2&t&&(r.yb(3),r.Vb("formGroup",e.newAuthorForm),r.yb(3),r.bc("border",e.fname.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.fname.invalid&&(e.fname.dirty||e.fname.touched)),r.yb(1),r.Vb("ngIf",null==e.fname.errors?null:e.fname.errors.minlength),r.yb(1),r.Vb("ngIf",null==e.fname.errors?null:e.fname.errors.maxlength),r.yb(3),r.bc("border",e.lname.valid?"2px solid green":"2px solid red"),r.yb(1),r.Vb("ngIf",e.lname.invalid&&(e.lname.dirty||e.lname.touched)),r.yb(1),r.Vb("ngIf",null==e.lname.errors?null:e.lname.errors.minlength),r.yb(1),r.Vb("ngIf",null==e.lname.errors?null:e.lname.errors.maxlength),r.yb(3),r.bc("border",e.dob.valid?"2px solid green":"2px solid red"),r.Vb("max",e.max),r.yb(1),r.Vb("ngIf",e.dob.invalid&&(e.dob.dirty||e.dob.touched)),r.yb(4),r.Vb("ngIf",!e.isAlive),r.yb(1),r.Vb("ngIf",e.dod.invalid&&(e.dod.dirty||e.dod.touched)),r.yb(4),r.Vb("ngIf",e.url.invalid&&(e.url.dirty||e.url.touched)),r.yb(1),r.Vb("disabled","INVALID"==e.newAuthorForm.status))},directives:[Se,Dt,ke,xt,Pt,Me,N,Et],styles:[".container[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;height:calc(100vh - 42px);display:flex;justify-content:center;align-items:center}.success[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-color:green;transform:translateX(150%)}.success.show[_ngcontent-%COMP%]{animation:popin 5s}@keyframes popin{0%{transform:translateX(150%)}10%{transform:translateX(0)}80%{transform:translateX(0)}to{transform:translateX(150%)}}form[_ngcontent-%COMP%]{width:350px;margin:0 auto;align-self:center;background-color:#fff;z-index:1;padding:10px}label[_ngcontent-%COMP%]{display:flex;flex-direction:column}.submit[_ngcontent-%COMP%]{background-color:var(--clr-main);width:100%;color:#fff;border:none;font-size:16px;padding:5px;cursor:pointer;margin-top:5px}.error[_ngcontent-%COMP%]{font-size:12px;color:red;font-style:italic}.alive[_ngcontent-%COMP%]{display:flex;flex-direction:row}.alive[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{align-self:center;margin-left:3px}input[disabled][_ngcontent-%COMP%]{background-color:grey;cursor:not-allowed}"]}),t})()},{path:"details/:name",component:__}];let R_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[No.forRoot(D_)],No]}),t})();const V_=function(){return{exact:!0}};let L_=(()=>{class t{constructor(){this.title="authorsLibrary"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:6,vars:4,consts:[["routerLink","main","routerLinkActive","active-link",3,"routerLinkActiveOptions"],["routerLink","new_author","routerLinkActive","active-link",3,"routerLinkActiveOptions"]],template:function(t,e){1&t&&(r.Lb(0,"nav"),r.Lb(1,"a",0),r.dc(2,"Home"),r.Kb(),r.Lb(3,"a",1),r.dc(4,"New author"),r.Kb(),r.Kb(),r.Jb(5,"router-outlet")),2&t&&(r.yb(1),r.Vb("routerLinkActiveOptions",r.Wb(2,V_)),r.yb(2),r.Vb("routerLinkActiveOptions",r.Wb(3,V_)))},directives:[bo,_o,Oo],styles:["nav[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;padding:5px;font-size:20px}.active-link[_ngcontent-%COMP%]{color:var(--clr-main)!important}"]}),t})(),M_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[L_]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[pt,R_,Qo.a.initializeApp(i),Ww,qe]]}),t})();Object(r.S)(),ft().bootstrapModule(M_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);